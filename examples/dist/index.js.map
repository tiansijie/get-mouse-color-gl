{"version":3,"file":null,"sources":["../../dist/index.js","../../node_modules/regl/dist/regl.js","../index.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.mouseGL = factory());\n}(this, (function () { 'use strict';\n\nvar fbo = null;\nfunction readPixelAt(regl, x, y, contents) {\n  var width = regl._gl.canvas.clientWidth;\n  var height = regl._gl.canvas.clientHeight;\n  if (!fbo) {\n    fbo = regl.framebuffer({\n      width: width,\n      height: height,\n      stencil: false\n    });\n  }\n\n  return new Promise(function (resolve) {\n    if (x < width && y < height) {\n      regl({ framebuffer: fbo })(function () {\n        regl.clear({ color: [0, 0, 0, 0], depth: 1 });\n        for (var i = 0; i < contents.length; ++i) {\n          contents[i]();\n        }\n        resolve(regl.read({ x: x, y: y, width: 1, height: 1 }));\n      });\n    }\n    resolve(null);\n  });\n}\n\nreturn readPixelAt;\n\n})));\n//# sourceMappingURL=index.js.map\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.createREGL = factory());\n}(this, (function () { 'use strict';\n\nvar arrayTypes =  {\n\t\"[object Int8Array]\": 5120,\n\t\"[object Int16Array]\": 5122,\n\t\"[object Int32Array]\": 5124,\n\t\"[object Uint8Array]\": 5121,\n\t\"[object Uint8ClampedArray]\": 5121,\n\t\"[object Uint16Array]\": 5123,\n\t\"[object Uint32Array]\": 5125,\n\t\"[object Float32Array]\": 5126,\n\t\"[object Float64Array]\": 5121,\n\t\"[object ArrayBuffer]\": 5121\n};\n\nvar isTypedArray = function (x) {\n  return Object.prototype.toString.call(x) in arrayTypes\n};\n\nvar extend = function (base, opts) {\n  var keys = Object.keys(opts);\n  for (var i = 0; i < keys.length; ++i) {\n    base[keys[i]] = opts[keys[i]];\n  }\n  return base\n};\n\n// Error checking and parameter validation.\n//\n// Statements for the form `check.someProcedure(...)` get removed by\n// a browserify transform for optimized/minified bundles.\n//\n/* globals btoa */\n// only used for extracting shader names.  if btoa not present, then errors\n// will be slightly crappier\nfunction decodeB64 (str) {\n  if (typeof btoa !== 'undefined') {\n    return btoa(str)\n  }\n  return 'base64:' + str\n}\n\nfunction raise (message) {\n  var error = new Error('(regl) ' + message);\n  console.error(error);\n  throw error\n}\n\nfunction check (pred, message) {\n  if (!pred) {\n    raise(message);\n  }\n}\n\nfunction encolon (message) {\n  if (message) {\n    return ': ' + message\n  }\n  return ''\n}\n\nfunction checkParameter (param, possibilities, message) {\n  if (!(param in possibilities)) {\n    raise('unknown parameter (' + param + ')' + encolon(message) +\n          '. possible values: ' + Object.keys(possibilities).join());\n  }\n}\n\nfunction checkIsTypedArray (data, message) {\n  if (!isTypedArray(data)) {\n    raise(\n      'invalid parameter type' + encolon(message) +\n      '. must be a typed array');\n  }\n}\n\nfunction checkTypeOf (value, type, message) {\n  if (typeof value !== type) {\n    raise(\n      'invalid parameter type' + encolon(message) +\n      '. expected ' + type + ', got ' + (typeof value));\n  }\n}\n\nfunction checkNonNegativeInt (value, message) {\n  if (!((value >= 0) &&\n        ((value | 0) === value))) {\n    raise('invalid parameter type, (' + value + ')' + encolon(message) +\n          '. must be a nonnegative integer');\n  }\n}\n\nfunction checkOneOf (value, list, message) {\n  if (list.indexOf(value) < 0) {\n    raise('invalid value' + encolon(message) + '. must be one of: ' + list);\n  }\n}\n\nvar constructorKeys = [\n  'gl',\n  'canvas',\n  'container',\n  'attributes',\n  'pixelRatio',\n  'extensions',\n  'optionalExtensions',\n  'profile',\n  'onDone'\n];\n\nfunction checkConstructor (obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (constructorKeys.indexOf(key) < 0) {\n      raise('invalid regl constructor argument \"' + key + '\". must be one of ' + constructorKeys);\n    }\n  });\n}\n\nfunction leftPad (str, n) {\n  str = str + '';\n  while (str.length < n) {\n    str = ' ' + str;\n  }\n  return str\n}\n\nfunction ShaderFile () {\n  this.name = 'unknown';\n  this.lines = [];\n  this.index = {};\n  this.hasErrors = false;\n}\n\nfunction ShaderLine (number, line) {\n  this.number = number;\n  this.line = line;\n  this.errors = [];\n}\n\nfunction ShaderError (fileNumber, lineNumber, message) {\n  this.file = fileNumber;\n  this.line = lineNumber;\n  this.message = message;\n}\n\nfunction guessCommand () {\n  var error = new Error();\n  var stack = (error.stack || error).toString();\n  var pat = /compileProcedure.*\\n\\s*at.*\\((.*)\\)/.exec(stack);\n  if (pat) {\n    return pat[1]\n  }\n  var pat2 = /compileProcedure.*\\n\\s*at\\s+(.*)(\\n|$)/.exec(stack);\n  if (pat2) {\n    return pat2[1]\n  }\n  return 'unknown'\n}\n\nfunction guessCallSite () {\n  var error = new Error();\n  var stack = (error.stack || error).toString();\n  var pat = /at REGLCommand.*\\n\\s+at.*\\((.*)\\)/.exec(stack);\n  if (pat) {\n    return pat[1]\n  }\n  var pat2 = /at REGLCommand.*\\n\\s+at\\s+(.*)\\n/.exec(stack);\n  if (pat2) {\n    return pat2[1]\n  }\n  return 'unknown'\n}\n\nfunction parseSource (source, command) {\n  var lines = source.split('\\n');\n  var lineNumber = 1;\n  var fileNumber = 0;\n  var files = {\n    unknown: new ShaderFile(),\n    0: new ShaderFile()\n  };\n  files.unknown.name = files[0].name = command || guessCommand();\n  files.unknown.lines.push(new ShaderLine(0, ''));\n  for (var i = 0; i < lines.length; ++i) {\n    var line = lines[i];\n    var parts = /^\\s*\\#\\s*(\\w+)\\s+(.+)\\s*$/.exec(line);\n    if (parts) {\n      switch (parts[1]) {\n        case 'line':\n          var lineNumberInfo = /(\\d+)(\\s+\\d+)?/.exec(parts[2]);\n          if (lineNumberInfo) {\n            lineNumber = lineNumberInfo[1] | 0;\n            if (lineNumberInfo[2]) {\n              fileNumber = lineNumberInfo[2] | 0;\n              if (!(fileNumber in files)) {\n                files[fileNumber] = new ShaderFile();\n              }\n            }\n          }\n          break\n        case 'define':\n          var nameInfo = /SHADER_NAME(_B64)?\\s+(.*)$/.exec(parts[2]);\n          if (nameInfo) {\n            files[fileNumber].name = (nameInfo[1]\n                ? decodeB64(nameInfo[2])\n                : nameInfo[2]);\n          }\n          break\n      }\n    }\n    files[fileNumber].lines.push(new ShaderLine(lineNumber++, line));\n  }\n  Object.keys(files).forEach(function (fileNumber) {\n    var file = files[fileNumber];\n    file.lines.forEach(function (line) {\n      file.index[line.number] = line;\n    });\n  });\n  return files\n}\n\nfunction parseErrorLog (errLog) {\n  var result = [];\n  errLog.split('\\n').forEach(function (errMsg) {\n    if (errMsg.length < 5) {\n      return\n    }\n    var parts = /^ERROR\\:\\s+(\\d+)\\:(\\d+)\\:\\s*(.*)$/.exec(errMsg);\n    if (parts) {\n      result.push(new ShaderError(\n        parts[1] | 0,\n        parts[2] | 0,\n        parts[3].trim()));\n    } else if (errMsg.length > 0) {\n      result.push(new ShaderError('unknown', 0, errMsg));\n    }\n  });\n  return result\n}\n\nfunction annotateFiles (files, errors) {\n  errors.forEach(function (error) {\n    var file = files[error.file];\n    if (file) {\n      var line = file.index[error.line];\n      if (line) {\n        line.errors.push(error);\n        file.hasErrors = true;\n        return\n      }\n    }\n    files.unknown.hasErrors = true;\n    files.unknown.lines[0].errors.push(error);\n  });\n}\n\nfunction checkShaderError (gl, shader, source, type, command) {\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    var errLog = gl.getShaderInfoLog(shader);\n    var typeName = type === gl.FRAGMENT_SHADER ? 'fragment' : 'vertex';\n    checkCommandType(source, 'string', typeName + ' shader source must be a string', command);\n    var files = parseSource(source, command);\n    var errors = parseErrorLog(errLog);\n    annotateFiles(files, errors);\n\n    Object.keys(files).forEach(function (fileNumber) {\n      var file = files[fileNumber];\n      if (!file.hasErrors) {\n        return\n      }\n\n      var strings = [''];\n      var styles = [''];\n\n      function push (str, style) {\n        strings.push(str);\n        styles.push(style || '');\n      }\n\n      push('file number ' + fileNumber + ': ' + file.name + '\\n', 'color:red;text-decoration:underline;font-weight:bold');\n\n      file.lines.forEach(function (line) {\n        if (line.errors.length > 0) {\n          push(leftPad(line.number, 4) + '|  ', 'background-color:yellow; font-weight:bold');\n          push(line.line + '\\n', 'color:red; background-color:yellow; font-weight:bold');\n\n          // try to guess token\n          var offset = 0;\n          line.errors.forEach(function (error) {\n            var message = error.message;\n            var token = /^\\s*\\'(.*)\\'\\s*\\:\\s*(.*)$/.exec(message);\n            if (token) {\n              var tokenPat = token[1];\n              message = token[2];\n              switch (tokenPat) {\n                case 'assign':\n                  tokenPat = '=';\n                  break\n              }\n              offset = Math.max(line.line.indexOf(tokenPat, offset), 0);\n            } else {\n              offset = 0;\n            }\n\n            push(leftPad('| ', 6));\n            push(leftPad('^^^', offset + 3) + '\\n', 'font-weight:bold');\n            push(leftPad('| ', 6));\n            push(message + '\\n', 'font-weight:bold');\n          });\n          push(leftPad('| ', 6) + '\\n');\n        } else {\n          push(leftPad(line.number, 4) + '|  ');\n          push(line.line + '\\n', 'color:red');\n        }\n      });\n      if (typeof document !== 'undefined') {\n        styles[0] = strings.join('%c');\n        console.log.apply(console, styles);\n      } else {\n        console.log(strings.join(''));\n      }\n    });\n\n    check.raise('Error compiling ' + typeName + ' shader, ' + files[0].name);\n  }\n}\n\nfunction checkLinkError (gl, program, fragShader, vertShader, command) {\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    var errLog = gl.getProgramInfoLog(program);\n    var fragParse = parseSource(fragShader, command);\n    var vertParse = parseSource(vertShader, command);\n\n    var header = 'Error linking program with vertex shader, \"' +\n      vertParse[0].name + '\", and fragment shader \"' + fragParse[0].name + '\"';\n\n    if (typeof document !== 'undefined') {\n      console.log('%c' + header + '\\n%c' + errLog,\n        'color:red;text-decoration:underline;font-weight:bold',\n        'color:red');\n    } else {\n      console.log(header + '\\n' + errLog);\n    }\n    check.raise(header);\n  }\n}\n\nfunction saveCommandRef (object) {\n  object._commandRef = guessCommand();\n}\n\nfunction saveDrawCommandInfo (opts, uniforms, attributes, stringStore) {\n  saveCommandRef(opts);\n\n  function id (str) {\n    if (str) {\n      return stringStore.id(str)\n    }\n    return 0\n  }\n  opts._fragId = id(opts.static.frag);\n  opts._vertId = id(opts.static.vert);\n\n  function addProps (dict, set) {\n    Object.keys(set).forEach(function (u) {\n      dict[stringStore.id(u)] = true;\n    });\n  }\n\n  var uniformSet = opts._uniformSet = {};\n  addProps(uniformSet, uniforms.static);\n  addProps(uniformSet, uniforms.dynamic);\n\n  var attributeSet = opts._attributeSet = {};\n  addProps(attributeSet, attributes.static);\n  addProps(attributeSet, attributes.dynamic);\n\n  opts._hasCount = (\n    'count' in opts.static ||\n    'count' in opts.dynamic ||\n    'elements' in opts.static ||\n    'elements' in opts.dynamic);\n}\n\nfunction commandRaise (message, command) {\n  var callSite = guessCallSite();\n  raise(message +\n    ' in command ' + (command || guessCommand()) +\n    (callSite === 'unknown' ? '' : ' called from ' + callSite));\n}\n\nfunction checkCommand (pred, message, command) {\n  if (!pred) {\n    commandRaise(message, command || guessCommand());\n  }\n}\n\nfunction checkParameterCommand (param, possibilities, message, command) {\n  if (!(param in possibilities)) {\n    commandRaise(\n      'unknown parameter (' + param + ')' + encolon(message) +\n      '. possible values: ' + Object.keys(possibilities).join(),\n      command || guessCommand());\n  }\n}\n\nfunction checkCommandType (value, type, message, command) {\n  if (typeof value !== type) {\n    commandRaise(\n      'invalid parameter type' + encolon(message) +\n      '. expected ' + type + ', got ' + (typeof value),\n      command || guessCommand());\n  }\n}\n\nfunction checkOptional (block) {\n  block();\n}\n\nfunction checkFramebufferFormat (attachment, texFormats, rbFormats) {\n  if (attachment.texture) {\n    checkOneOf(\n      attachment.texture._texture.internalformat,\n      texFormats,\n      'unsupported texture format for attachment');\n  } else {\n    checkOneOf(\n      attachment.renderbuffer._renderbuffer.format,\n      rbFormats,\n      'unsupported renderbuffer format for attachment');\n  }\n}\n\nvar GL_CLAMP_TO_EDGE = 0x812F;\n\nvar GL_NEAREST = 0x2600;\nvar GL_NEAREST_MIPMAP_NEAREST = 0x2700;\nvar GL_LINEAR_MIPMAP_NEAREST = 0x2701;\nvar GL_NEAREST_MIPMAP_LINEAR = 0x2702;\nvar GL_LINEAR_MIPMAP_LINEAR = 0x2703;\n\nvar GL_BYTE = 5120;\nvar GL_UNSIGNED_BYTE = 5121;\nvar GL_SHORT = 5122;\nvar GL_UNSIGNED_SHORT = 5123;\nvar GL_INT = 5124;\nvar GL_UNSIGNED_INT = 5125;\nvar GL_FLOAT = 5126;\n\nvar GL_UNSIGNED_SHORT_4_4_4_4 = 0x8033;\nvar GL_UNSIGNED_SHORT_5_5_5_1 = 0x8034;\nvar GL_UNSIGNED_SHORT_5_6_5 = 0x8363;\nvar GL_UNSIGNED_INT_24_8_WEBGL = 0x84FA;\n\nvar GL_HALF_FLOAT_OES = 0x8D61;\n\nvar TYPE_SIZE = {};\n\nTYPE_SIZE[GL_BYTE] =\nTYPE_SIZE[GL_UNSIGNED_BYTE] = 1;\n\nTYPE_SIZE[GL_SHORT] =\nTYPE_SIZE[GL_UNSIGNED_SHORT] =\nTYPE_SIZE[GL_HALF_FLOAT_OES] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_5_6_5] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_4_4_4_4] =\nTYPE_SIZE[GL_UNSIGNED_SHORT_5_5_5_1] = 2;\n\nTYPE_SIZE[GL_INT] =\nTYPE_SIZE[GL_UNSIGNED_INT] =\nTYPE_SIZE[GL_FLOAT] =\nTYPE_SIZE[GL_UNSIGNED_INT_24_8_WEBGL] = 4;\n\nfunction pixelSize (type, channels) {\n  if (type === GL_UNSIGNED_SHORT_5_5_5_1 ||\n      type === GL_UNSIGNED_SHORT_4_4_4_4 ||\n      type === GL_UNSIGNED_SHORT_5_6_5) {\n    return 2\n  } else if (type === GL_UNSIGNED_INT_24_8_WEBGL) {\n    return 4\n  } else {\n    return TYPE_SIZE[type] * channels\n  }\n}\n\nfunction isPow2 (v) {\n  return !(v & (v - 1)) && (!!v)\n}\n\nfunction checkTexture2D (info, mipData, limits) {\n  var i;\n  var w = mipData.width;\n  var h = mipData.height;\n  var c = mipData.channels;\n\n  // Check texture shape\n  check(w > 0 && w <= limits.maxTextureSize &&\n        h > 0 && h <= limits.maxTextureSize,\n        'invalid texture shape');\n\n  // check wrap mode\n  if (info.wrapS !== GL_CLAMP_TO_EDGE || info.wrapT !== GL_CLAMP_TO_EDGE) {\n    check(isPow2(w) && isPow2(h),\n      'incompatible wrap mode for texture, both width and height must be power of 2');\n  }\n\n  if (mipData.mipmask === 1) {\n    if (w !== 1 && h !== 1) {\n      check(\n        info.minFilter !== GL_NEAREST_MIPMAP_NEAREST &&\n        info.minFilter !== GL_NEAREST_MIPMAP_LINEAR &&\n        info.minFilter !== GL_LINEAR_MIPMAP_NEAREST &&\n        info.minFilter !== GL_LINEAR_MIPMAP_LINEAR,\n        'min filter requires mipmap');\n    }\n  } else {\n    // texture must be power of 2\n    check(isPow2(w) && isPow2(h),\n      'texture must be a square power of 2 to support mipmapping');\n    check(mipData.mipmask === (w << 1) - 1,\n      'missing or incomplete mipmap data');\n  }\n\n  if (mipData.type === GL_FLOAT) {\n    if (limits.extensions.indexOf('oes_texture_float_linear') < 0) {\n      check(info.minFilter === GL_NEAREST && info.magFilter === GL_NEAREST,\n        'filter not supported, must enable oes_texture_float_linear');\n    }\n    check(!info.genMipmaps,\n      'mipmap generation not supported with float textures');\n  }\n\n  // check image complete\n  var mipimages = mipData.images;\n  for (i = 0; i < 16; ++i) {\n    if (mipimages[i]) {\n      var mw = w >> i;\n      var mh = h >> i;\n      check(mipData.mipmask & (1 << i), 'missing mipmap data');\n\n      var img = mipimages[i];\n\n      check(\n        img.width === mw &&\n        img.height === mh,\n        'invalid shape for mip images');\n\n      check(\n        img.format === mipData.format &&\n        img.internalformat === mipData.internalformat &&\n        img.type === mipData.type,\n        'incompatible type for mip image');\n\n      if (img.compressed) {\n        // TODO: check size for compressed images\n      } else if (img.data) {\n        // check(img.data.byteLength === mw * mh *\n        // Math.max(pixelSize(img.type, c), img.unpackAlignment),\n        var rowSize = Math.ceil(pixelSize(img.type, c) * mw / img.unpackAlignment) * img.unpackAlignment;\n        check(img.data.byteLength === rowSize * mh,\n          'invalid data for image, buffer size is inconsistent with image format');\n      } else if (img.element) {\n        // TODO: check element can be loaded\n      } else if (img.copy) {\n        // TODO: check compatible format and type\n      }\n    } else if (!info.genMipmaps) {\n      check((mipData.mipmask & (1 << i)) === 0, 'extra mipmap data');\n    }\n  }\n\n  if (mipData.compressed) {\n    check(!info.genMipmaps,\n      'mipmap generation for compressed images not supported');\n  }\n}\n\nfunction checkTextureCube (texture, info, faces, limits) {\n  var w = texture.width;\n  var h = texture.height;\n  var c = texture.channels;\n\n  // Check texture shape\n  check(\n    w > 0 && w <= limits.maxTextureSize && h > 0 && h <= limits.maxTextureSize,\n    'invalid texture shape');\n  check(\n    w === h,\n    'cube map must be square');\n  check(\n    info.wrapS === GL_CLAMP_TO_EDGE && info.wrapT === GL_CLAMP_TO_EDGE,\n    'wrap mode not supported by cube map');\n\n  for (var i = 0; i < faces.length; ++i) {\n    var face = faces[i];\n    check(\n      face.width === w && face.height === h,\n      'inconsistent cube map face shape');\n\n    if (info.genMipmaps) {\n      check(!face.compressed,\n        'can not generate mipmap for compressed textures');\n      check(face.mipmask === 1,\n        'can not specify mipmaps and generate mipmaps');\n    } else {\n      // TODO: check mip and filter mode\n    }\n\n    var mipmaps = face.images;\n    for (var j = 0; j < 16; ++j) {\n      var img = mipmaps[j];\n      if (img) {\n        var mw = w >> j;\n        var mh = h >> j;\n        check(face.mipmask & (1 << j), 'missing mipmap data');\n        check(\n          img.width === mw &&\n          img.height === mh,\n          'invalid shape for mip images');\n        check(\n          img.format === texture.format &&\n          img.internalformat === texture.internalformat &&\n          img.type === texture.type,\n          'incompatible type for mip image');\n\n        if (img.compressed) {\n          // TODO: check size for compressed images\n        } else if (img.data) {\n          check(img.data.byteLength === mw * mh *\n            Math.max(pixelSize(img.type, c), img.unpackAlignment),\n            'invalid data for image, buffer size is inconsistent with image format');\n        } else if (img.element) {\n          // TODO: check element can be loaded\n        } else if (img.copy) {\n          // TODO: check compatible format and type\n        }\n      }\n    }\n  }\n}\n\nvar check$1 = extend(check, {\n  optional: checkOptional,\n  raise: raise,\n  commandRaise: commandRaise,\n  command: checkCommand,\n  parameter: checkParameter,\n  commandParameter: checkParameterCommand,\n  constructor: checkConstructor,\n  type: checkTypeOf,\n  commandType: checkCommandType,\n  isTypedArray: checkIsTypedArray,\n  nni: checkNonNegativeInt,\n  oneOf: checkOneOf,\n  shaderError: checkShaderError,\n  linkError: checkLinkError,\n  callSite: guessCallSite,\n  saveCommandRef: saveCommandRef,\n  saveDrawInfo: saveDrawCommandInfo,\n  framebufferFormat: checkFramebufferFormat,\n  guessCommand: guessCommand,\n  texture2D: checkTexture2D,\n  textureCube: checkTextureCube\n});\n\nvar VARIABLE_COUNTER = 0;\n\nvar DYN_FUNC = 0;\n\nfunction DynamicVariable (type, data) {\n  this.id = (VARIABLE_COUNTER++);\n  this.type = type;\n  this.data = data;\n}\n\nfunction escapeStr (str) {\n  return str.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')\n}\n\nfunction splitParts (str) {\n  if (str.length === 0) {\n    return []\n  }\n\n  var firstChar = str.charAt(0);\n  var lastChar = str.charAt(str.length - 1);\n\n  if (str.length > 1 &&\n      firstChar === lastChar &&\n      (firstChar === '\"' || firstChar === \"'\")) {\n    return ['\"' + escapeStr(str.substr(1, str.length - 2)) + '\"']\n  }\n\n  var parts = /\\[(false|true|null|\\d+|'[^']*'|\"[^\"]*\")\\]/.exec(str);\n  if (parts) {\n    return (\n      splitParts(str.substr(0, parts.index))\n      .concat(splitParts(parts[1]))\n      .concat(splitParts(str.substr(parts.index + parts[0].length)))\n    )\n  }\n\n  var subparts = str.split('.');\n  if (subparts.length === 1) {\n    return ['\"' + escapeStr(str) + '\"']\n  }\n\n  var result = [];\n  for (var i = 0; i < subparts.length; ++i) {\n    result = result.concat(splitParts(subparts[i]));\n  }\n  return result\n}\n\nfunction toAccessorString (str) {\n  return '[' + splitParts(str).join('][') + ']'\n}\n\nfunction defineDynamic (type, data) {\n  return new DynamicVariable(type, toAccessorString(data + ''))\n}\n\nfunction isDynamic (x) {\n  return (typeof x === 'function' && !x._reglType) ||\n         x instanceof DynamicVariable\n}\n\nfunction unbox (x, path) {\n  if (typeof x === 'function') {\n    return new DynamicVariable(DYN_FUNC, x)\n  }\n  return x\n}\n\nvar dynamic = {\n  DynamicVariable: DynamicVariable,\n  define: defineDynamic,\n  isDynamic: isDynamic,\n  unbox: unbox,\n  accessor: toAccessorString\n};\n\n/* globals requestAnimationFrame, cancelAnimationFrame */\nvar raf = {\n  next: typeof requestAnimationFrame === 'function'\n    ? function (cb) { return requestAnimationFrame(cb) }\n    : function (cb) { return setTimeout(cb, 16) },\n  cancel: typeof cancelAnimationFrame === 'function'\n    ? function (raf) { return cancelAnimationFrame(raf) }\n    : clearTimeout\n};\n\n/* globals performance */\nvar clock = (typeof performance !== 'undefined' && performance.now)\n  ? function () { return performance.now() }\n  : function () { return +(new Date()) };\n\nfunction createStringStore () {\n  var stringIds = {'': 0};\n  var stringValues = [''];\n  return {\n    id: function (str) {\n      var result = stringIds[str];\n      if (result) {\n        return result\n      }\n      result = stringIds[str] = stringValues.length;\n      stringValues.push(str);\n      return result\n    },\n\n    str: function (id) {\n      return stringValues[id]\n    }\n  }\n}\n\n// Context and canvas creation helper functions\nfunction createCanvas (element, onDone, pixelRatio) {\n  var canvas = document.createElement('canvas');\n  extend(canvas.style, {\n    border: 0,\n    margin: 0,\n    padding: 0,\n    top: 0,\n    left: 0\n  });\n  element.appendChild(canvas);\n\n  if (element === document.body) {\n    canvas.style.position = 'absolute';\n    extend(element.style, {\n      margin: 0,\n      padding: 0\n    });\n  }\n\n  function resize () {\n    var w = window.innerWidth;\n    var h = window.innerHeight;\n    if (element !== document.body) {\n      var bounds = element.getBoundingClientRect();\n      w = bounds.right - bounds.left;\n      h = bounds.bottom - bounds.top;\n    }\n    canvas.width = pixelRatio * w;\n    canvas.height = pixelRatio * h;\n    extend(canvas.style, {\n      width: w + 'px',\n      height: h + 'px'\n    });\n  }\n\n  window.addEventListener('resize', resize, false);\n\n  function onDestroy () {\n    window.removeEventListener('resize', resize);\n    element.removeChild(canvas);\n  }\n\n  resize();\n\n  return {\n    canvas: canvas,\n    onDestroy: onDestroy\n  }\n}\n\nfunction createContext (canvas, contexAttributes) {\n  function get (name) {\n    try {\n      return canvas.getContext(name, contexAttributes)\n    } catch (e) {\n      return null\n    }\n  }\n  return (\n    get('webgl') ||\n    get('experimental-webgl') ||\n    get('webgl-experimental')\n  )\n}\n\nfunction isHTMLElement (obj) {\n  return (\n    typeof obj.nodeName === 'string' &&\n    typeof obj.appendChild === 'function' &&\n    typeof obj.getBoundingClientRect === 'function'\n  )\n}\n\nfunction isWebGLContext (obj) {\n  return (\n    typeof obj.drawArrays === 'function' ||\n    typeof obj.drawElements === 'function'\n  )\n}\n\nfunction parseExtensions (input) {\n  if (typeof input === 'string') {\n    return input.split()\n  }\n  check$1(Array.isArray(input), 'invalid extension array');\n  return input\n}\n\nfunction getElement (desc) {\n  if (typeof desc === 'string') {\n    check$1(typeof document !== 'undefined', 'not supported outside of DOM');\n    return document.querySelector(desc)\n  }\n  return desc\n}\n\nfunction parseArgs (args_) {\n  var args = args_ || {};\n  var element, container, canvas, gl;\n  var contextAttributes = {};\n  var extensions = [];\n  var optionalExtensions = [];\n  var pixelRatio = (typeof window === 'undefined' ? 1 : window.devicePixelRatio);\n  var profile = false;\n  var onDone = function (err) {\n    if (err) {\n      check$1.raise(err);\n    }\n  };\n  var onDestroy = function () {};\n  if (typeof args === 'string') {\n    check$1(\n      typeof document !== 'undefined',\n      'selector queries only supported in DOM enviroments');\n    element = document.querySelector(args);\n    check$1(element, 'invalid query string for element');\n  } else if (typeof args === 'object') {\n    if (isHTMLElement(args)) {\n      element = args;\n    } else if (isWebGLContext(args)) {\n      gl = args;\n      canvas = gl.canvas;\n    } else {\n      check$1.constructor(args);\n      if ('gl' in args) {\n        gl = args.gl;\n      } else if ('canvas' in args) {\n        canvas = getElement(args.canvas);\n      } else if ('container' in args) {\n        container = getElement(args.container);\n      }\n      if ('attributes' in args) {\n        contextAttributes = args.attributes;\n        check$1.type(contextAttributes, 'object', 'invalid context attributes');\n      }\n      if ('extensions' in args) {\n        extensions = parseExtensions(args.extensions);\n      }\n      if ('optionalExtensions' in args) {\n        optionalExtensions = parseExtensions(args.optionalExtensions);\n      }\n      if ('onDone' in args) {\n        check$1.type(\n          args.onDone, 'function',\n          'invalid or missing onDone callback');\n        onDone = args.onDone;\n      }\n      if ('profile' in args) {\n        profile = !!args.profile;\n      }\n      if ('pixelRatio' in args) {\n        pixelRatio = +args.pixelRatio;\n        check$1(pixelRatio > 0, 'invalid pixel ratio');\n      }\n    }\n  } else {\n    check$1.raise('invalid arguments to regl');\n  }\n\n  if (element) {\n    if (element.nodeName.toLowerCase() === 'canvas') {\n      canvas = element;\n    } else {\n      container = element;\n    }\n  }\n\n  if (!gl) {\n    if (!canvas) {\n      check$1(\n        typeof document !== 'undefined',\n        'must manually specify webgl context outside of DOM environments');\n      var result = createCanvas(container || document.body, onDone, pixelRatio);\n      if (!result) {\n        return null\n      }\n      canvas = result.canvas;\n      onDestroy = result.onDestroy;\n    }\n    gl = createContext(canvas, contextAttributes);\n  }\n\n  if (!gl) {\n    onDestroy();\n    onDone('webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org');\n    return null\n  }\n\n  return {\n    gl: gl,\n    canvas: canvas,\n    container: container,\n    extensions: extensions,\n    optionalExtensions: optionalExtensions,\n    pixelRatio: pixelRatio,\n    profile: profile,\n    onDone: onDone,\n    onDestroy: onDestroy\n  }\n}\n\nfunction createExtensionCache (gl, config) {\n  var extensions = {};\n\n  function tryLoadExtension (name_) {\n    check$1.type(name_, 'string', 'extension name must be string');\n    var name = name_.toLowerCase();\n    var ext;\n    try {\n      ext = extensions[name] = gl.getExtension(name);\n    } catch (e) {}\n    return !!ext\n  }\n\n  for (var i = 0; i < config.extensions.length; ++i) {\n    var name = config.extensions[i];\n    if (!tryLoadExtension(name)) {\n      config.onDestroy();\n      config.onDone('\"' + name + '\" extension is not supported by the current WebGL context, try upgrading your system or a different browser');\n      return null\n    }\n  }\n\n  config.optionalExtensions.forEach(tryLoadExtension);\n\n  return {\n    extensions: extensions,\n    restore: function () {\n      Object.keys(extensions).forEach(function (name) {\n        if (!tryLoadExtension(name)) {\n          throw new Error('(regl): error restoring extension ' + name)\n        }\n      });\n    }\n  }\n}\n\nvar GL_SUBPIXEL_BITS = 0x0D50;\nvar GL_RED_BITS = 0x0D52;\nvar GL_GREEN_BITS = 0x0D53;\nvar GL_BLUE_BITS = 0x0D54;\nvar GL_ALPHA_BITS = 0x0D55;\nvar GL_DEPTH_BITS = 0x0D56;\nvar GL_STENCIL_BITS = 0x0D57;\n\nvar GL_ALIASED_POINT_SIZE_RANGE = 0x846D;\nvar GL_ALIASED_LINE_WIDTH_RANGE = 0x846E;\n\nvar GL_MAX_TEXTURE_SIZE = 0x0D33;\nvar GL_MAX_VIEWPORT_DIMS = 0x0D3A;\nvar GL_MAX_VERTEX_ATTRIBS = 0x8869;\nvar GL_MAX_VERTEX_UNIFORM_VECTORS = 0x8DFB;\nvar GL_MAX_VARYING_VECTORS = 0x8DFC;\nvar GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS = 0x8B4D;\nvar GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS = 0x8B4C;\nvar GL_MAX_TEXTURE_IMAGE_UNITS = 0x8872;\nvar GL_MAX_FRAGMENT_UNIFORM_VECTORS = 0x8DFD;\nvar GL_MAX_CUBE_MAP_TEXTURE_SIZE = 0x851C;\nvar GL_MAX_RENDERBUFFER_SIZE = 0x84E8;\n\nvar GL_VENDOR = 0x1F00;\nvar GL_RENDERER = 0x1F01;\nvar GL_VERSION = 0x1F02;\nvar GL_SHADING_LANGUAGE_VERSION = 0x8B8C;\n\nvar GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT = 0x84FF;\n\nvar GL_MAX_COLOR_ATTACHMENTS_WEBGL = 0x8CDF;\nvar GL_MAX_DRAW_BUFFERS_WEBGL = 0x8824;\n\nvar wrapLimits = function (gl, extensions) {\n  var maxAnisotropic = 1;\n  if (extensions.ext_texture_filter_anisotropic) {\n    maxAnisotropic = gl.getParameter(GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n  }\n\n  var maxDrawbuffers = 1;\n  var maxColorAttachments = 1;\n  if (extensions.webgl_draw_buffers) {\n    maxDrawbuffers = gl.getParameter(GL_MAX_DRAW_BUFFERS_WEBGL);\n    maxColorAttachments = gl.getParameter(GL_MAX_COLOR_ATTACHMENTS_WEBGL);\n  }\n\n  return {\n    // drawing buffer bit depth\n    colorBits: [\n      gl.getParameter(GL_RED_BITS),\n      gl.getParameter(GL_GREEN_BITS),\n      gl.getParameter(GL_BLUE_BITS),\n      gl.getParameter(GL_ALPHA_BITS)\n    ],\n    depthBits: gl.getParameter(GL_DEPTH_BITS),\n    stencilBits: gl.getParameter(GL_STENCIL_BITS),\n    subpixelBits: gl.getParameter(GL_SUBPIXEL_BITS),\n\n    // supported extensions\n    extensions: Object.keys(extensions).filter(function (ext) {\n      return !!extensions[ext]\n    }),\n\n    // max aniso samples\n    maxAnisotropic: maxAnisotropic,\n\n    // max draw buffers\n    maxDrawbuffers: maxDrawbuffers,\n    maxColorAttachments: maxColorAttachments,\n\n    // point and line size ranges\n    pointSizeDims: gl.getParameter(GL_ALIASED_POINT_SIZE_RANGE),\n    lineWidthDims: gl.getParameter(GL_ALIASED_LINE_WIDTH_RANGE),\n    maxViewportDims: gl.getParameter(GL_MAX_VIEWPORT_DIMS),\n    maxCombinedTextureUnits: gl.getParameter(GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS),\n    maxCubeMapSize: gl.getParameter(GL_MAX_CUBE_MAP_TEXTURE_SIZE),\n    maxRenderbufferSize: gl.getParameter(GL_MAX_RENDERBUFFER_SIZE),\n    maxTextureUnits: gl.getParameter(GL_MAX_TEXTURE_IMAGE_UNITS),\n    maxTextureSize: gl.getParameter(GL_MAX_TEXTURE_SIZE),\n    maxAttributes: gl.getParameter(GL_MAX_VERTEX_ATTRIBS),\n    maxVertexUniforms: gl.getParameter(GL_MAX_VERTEX_UNIFORM_VECTORS),\n    maxVertexTextureUnits: gl.getParameter(GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS),\n    maxVaryingVectors: gl.getParameter(GL_MAX_VARYING_VECTORS),\n    maxFragmentUniforms: gl.getParameter(GL_MAX_FRAGMENT_UNIFORM_VECTORS),\n\n    // vendor info\n    glsl: gl.getParameter(GL_SHADING_LANGUAGE_VERSION),\n    renderer: gl.getParameter(GL_RENDERER),\n    vendor: gl.getParameter(GL_VENDOR),\n    version: gl.getParameter(GL_VERSION)\n  }\n};\n\nfunction isNDArrayLike (obj) {\n  return (\n    !!obj &&\n    typeof obj === 'object' &&\n    Array.isArray(obj.shape) &&\n    Array.isArray(obj.stride) &&\n    typeof obj.offset === 'number' &&\n    obj.shape.length === obj.stride.length &&\n    (Array.isArray(obj.data) ||\n      isTypedArray(obj.data)))\n}\n\nvar values = function (obj) {\n  return Object.keys(obj).map(function (key) { return obj[key] })\n};\n\nfunction loop (n, f) {\n  var result = Array(n);\n  for (var i = 0; i < n; ++i) {\n    result[i] = f(i);\n  }\n  return result\n}\n\nvar GL_BYTE$1 = 5120;\nvar GL_UNSIGNED_BYTE$2 = 5121;\nvar GL_SHORT$1 = 5122;\nvar GL_UNSIGNED_SHORT$1 = 5123;\nvar GL_INT$1 = 5124;\nvar GL_UNSIGNED_INT$1 = 5125;\nvar GL_FLOAT$2 = 5126;\n\nvar bufferPool = loop(8, function () {\n  return []\n});\n\nfunction nextPow16 (v) {\n  for (var i = 16; i <= (1 << 28); i *= 16) {\n    if (v <= i) {\n      return i\n    }\n  }\n  return 0\n}\n\nfunction log2 (v) {\n  var r, shift;\n  r = (v > 0xFFFF) << 4;\n  v >>>= r;\n  shift = (v > 0xFF) << 3;\n  v >>>= shift; r |= shift;\n  shift = (v > 0xF) << 2;\n  v >>>= shift; r |= shift;\n  shift = (v > 0x3) << 1;\n  v >>>= shift; r |= shift;\n  return r | (v >> 1)\n}\n\nfunction alloc (n) {\n  var sz = nextPow16(n);\n  var bin = bufferPool[log2(sz) >> 2];\n  if (bin.length > 0) {\n    return bin.pop()\n  }\n  return new ArrayBuffer(sz)\n}\n\nfunction free (buf) {\n  bufferPool[log2(buf.byteLength) >> 2].push(buf);\n}\n\nfunction allocType (type, n) {\n  var result = null;\n  switch (type) {\n    case GL_BYTE$1:\n      result = new Int8Array(alloc(n), 0, n);\n      break\n    case GL_UNSIGNED_BYTE$2:\n      result = new Uint8Array(alloc(n), 0, n);\n      break\n    case GL_SHORT$1:\n      result = new Int16Array(alloc(2 * n), 0, n);\n      break\n    case GL_UNSIGNED_SHORT$1:\n      result = new Uint16Array(alloc(2 * n), 0, n);\n      break\n    case GL_INT$1:\n      result = new Int32Array(alloc(4 * n), 0, n);\n      break\n    case GL_UNSIGNED_INT$1:\n      result = new Uint32Array(alloc(4 * n), 0, n);\n      break\n    case GL_FLOAT$2:\n      result = new Float32Array(alloc(4 * n), 0, n);\n      break\n    default:\n      return null\n  }\n  if (result.length !== n) {\n    return result.subarray(0, n)\n  }\n  return result\n}\n\nfunction freeType (array) {\n  free(array.buffer);\n}\n\nvar pool = {\n  alloc: alloc,\n  free: free,\n  allocType: allocType,\n  freeType: freeType\n};\n\nvar flattenUtils = {\n  shape: arrayShape$1,\n  flatten: flattenArray\n};\n\nfunction flatten1D (array, nx, out) {\n  for (var i = 0; i < nx; ++i) {\n    out[i] = array[i];\n  }\n}\n\nfunction flatten2D (array, nx, ny, out) {\n  var ptr = 0;\n  for (var i = 0; i < nx; ++i) {\n    var row = array[i];\n    for (var j = 0; j < ny; ++j) {\n      out[ptr++] = row[j];\n    }\n  }\n}\n\nfunction flatten3D (array, nx, ny, nz, out, ptr_) {\n  var ptr = ptr_;\n  for (var i = 0; i < nx; ++i) {\n    var row = array[i];\n    for (var j = 0; j < ny; ++j) {\n      var col = row[j];\n      for (var k = 0; k < nz; ++k) {\n        out[ptr++] = col[k];\n      }\n    }\n  }\n}\n\nfunction flattenRec (array, shape, level, out, ptr) {\n  var stride = 1;\n  for (var i = level + 1; i < shape.length; ++i) {\n    stride *= shape[i];\n  }\n  var n = shape[level];\n  if (shape.length - level === 4) {\n    var nx = shape[level + 1];\n    var ny = shape[level + 2];\n    var nz = shape[level + 3];\n    for (i = 0; i < n; ++i) {\n      flatten3D(array[i], nx, ny, nz, out, ptr);\n      ptr += stride;\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      flattenRec(array[i], shape, level + 1, out, ptr);\n      ptr += stride;\n    }\n  }\n}\n\nfunction flattenArray (array, shape, type, out_) {\n  var sz = 1;\n  if (shape.length) {\n    for (var i = 0; i < shape.length; ++i) {\n      sz *= shape[i];\n    }\n  } else {\n    sz = 0;\n  }\n  var out = out_ || pool.allocType(type, sz);\n  switch (shape.length) {\n    case 0:\n      break\n    case 1:\n      flatten1D(array, shape[0], out);\n      break\n    case 2:\n      flatten2D(array, shape[0], shape[1], out);\n      break\n    case 3:\n      flatten3D(array, shape[0], shape[1], shape[2], out, 0);\n      break\n    default:\n      flattenRec(array, shape, 0, out, 0);\n  }\n  return out\n}\n\nfunction arrayShape$1 (array_) {\n  var shape = [];\n  for (var array = array_; array.length; array = array[0]) {\n    shape.push(array.length);\n  }\n  return shape\n}\n\nvar int8 = 5120;\nvar int16 = 5122;\nvar int32 = 5124;\nvar uint8 = 5121;\nvar uint16 = 5123;\nvar uint32 = 5125;\nvar float = 5126;\nvar float32 = 5126;\nvar glTypes = {\n\tint8: int8,\n\tint16: int16,\n\tint32: int32,\n\tuint8: uint8,\n\tuint16: uint16,\n\tuint32: uint32,\n\tfloat: float,\n\tfloat32: float32\n};\n\nvar dynamic$1 = 35048;\nvar stream = 35040;\nvar usageTypes = {\n\tdynamic: dynamic$1,\n\tstream: stream,\n\t\"static\": 35044\n};\n\nvar arrayFlatten = flattenUtils.flatten;\nvar arrayShape = flattenUtils.shape;\n\nvar GL_STATIC_DRAW = 0x88E4;\nvar GL_STREAM_DRAW = 0x88E0;\n\nvar GL_UNSIGNED_BYTE$1 = 5121;\nvar GL_FLOAT$1 = 5126;\n\nvar DTYPES_SIZES = [];\nDTYPES_SIZES[5120] = 1; // int8\nDTYPES_SIZES[5122] = 2; // int16\nDTYPES_SIZES[5124] = 4; // int32\nDTYPES_SIZES[5121] = 1; // uint8\nDTYPES_SIZES[5123] = 2; // uint16\nDTYPES_SIZES[5125] = 4; // uint32\nDTYPES_SIZES[5126] = 4; // float32\n\nfunction typedArrayCode (data) {\n  return arrayTypes[Object.prototype.toString.call(data)] | 0\n}\n\nfunction copyArray (out, inp) {\n  for (var i = 0; i < inp.length; ++i) {\n    out[i] = inp[i];\n  }\n}\n\nfunction transpose (\n  result, data, shapeX, shapeY, strideX, strideY, offset) {\n  var ptr = 0;\n  for (var i = 0; i < shapeX; ++i) {\n    for (var j = 0; j < shapeY; ++j) {\n      result[ptr++] = data[strideX * i + strideY * j + offset];\n    }\n  }\n}\n\nfunction wrapBufferState (gl, stats, config) {\n  var bufferCount = 0;\n  var bufferSet = {};\n\n  function REGLBuffer (type) {\n    this.id = bufferCount++;\n    this.buffer = gl.createBuffer();\n    this.type = type;\n    this.usage = GL_STATIC_DRAW;\n    this.byteLength = 0;\n    this.dimension = 1;\n    this.dtype = GL_UNSIGNED_BYTE$1;\n\n    this.persistentData = null;\n\n    if (config.profile) {\n      this.stats = {size: 0};\n    }\n  }\n\n  REGLBuffer.prototype.bind = function () {\n    gl.bindBuffer(this.type, this.buffer);\n  };\n\n  REGLBuffer.prototype.destroy = function () {\n    destroy(this);\n  };\n\n  var streamPool = [];\n\n  function createStream (type, data) {\n    var buffer = streamPool.pop();\n    if (!buffer) {\n      buffer = new REGLBuffer(type);\n    }\n    buffer.bind();\n    initBufferFromData(buffer, data, GL_STREAM_DRAW, 0, 1, false);\n    return buffer\n  }\n\n  function destroyStream (stream$$1) {\n    streamPool.push(stream$$1);\n  }\n\n  function initBufferFromTypedArray (buffer, data, usage) {\n    buffer.byteLength = data.byteLength;\n    gl.bufferData(buffer.type, data, usage);\n  }\n\n  function initBufferFromData (buffer, data, usage, dtype, dimension, persist) {\n    var shape;\n    buffer.usage = usage;\n    if (Array.isArray(data)) {\n      buffer.dtype = dtype || GL_FLOAT$1;\n      if (data.length > 0) {\n        var flatData;\n        if (Array.isArray(data[0])) {\n          shape = arrayShape(data);\n          var dim = 1;\n          for (var i = 1; i < shape.length; ++i) {\n            dim *= shape[i];\n          }\n          buffer.dimension = dim;\n          flatData = arrayFlatten(data, shape, buffer.dtype);\n          initBufferFromTypedArray(buffer, flatData, usage);\n          if (persist) {\n            buffer.persistentData = flatData;\n          } else {\n            pool.freeType(flatData);\n          }\n        } else if (typeof data[0] === 'number') {\n          buffer.dimension = dimension;\n          var typedData = pool.allocType(buffer.dtype, data.length);\n          copyArray(typedData, data);\n          initBufferFromTypedArray(buffer, typedData, usage);\n          if (persist) {\n            buffer.persistentData = typedData;\n          } else {\n            pool.freeType(typedData);\n          }\n        } else if (isTypedArray(data[0])) {\n          buffer.dimension = data[0].length;\n          buffer.dtype = dtype || typedArrayCode(data[0]) || GL_FLOAT$1;\n          flatData = arrayFlatten(\n            data,\n            [data.length, data[0].length],\n            buffer.dtype);\n          initBufferFromTypedArray(buffer, flatData, usage);\n          if (persist) {\n            buffer.persistentData = flatData;\n          } else {\n            pool.freeType(flatData);\n          }\n        } else {\n          check$1.raise('invalid buffer data');\n        }\n      }\n    } else if (isTypedArray(data)) {\n      buffer.dtype = dtype || typedArrayCode(data);\n      buffer.dimension = dimension;\n      initBufferFromTypedArray(buffer, data, usage);\n      if (persist) {\n        buffer.persistentData = new Uint8Array(new Uint8Array(data.buffer));\n      }\n    } else if (isNDArrayLike(data)) {\n      shape = data.shape;\n      var stride = data.stride;\n      var offset = data.offset;\n\n      var shapeX = 0;\n      var shapeY = 0;\n      var strideX = 0;\n      var strideY = 0;\n      if (shape.length === 1) {\n        shapeX = shape[0];\n        shapeY = 1;\n        strideX = stride[0];\n        strideY = 0;\n      } else if (shape.length === 2) {\n        shapeX = shape[0];\n        shapeY = shape[1];\n        strideX = stride[0];\n        strideY = stride[1];\n      } else {\n        check$1.raise('invalid shape');\n      }\n\n      buffer.dtype = dtype || typedArrayCode(data.data) || GL_FLOAT$1;\n      buffer.dimension = shapeY;\n\n      var transposeData = pool.allocType(buffer.dtype, shapeX * shapeY);\n      transpose(transposeData,\n        data.data,\n        shapeX, shapeY,\n        strideX, strideY,\n        offset);\n      initBufferFromTypedArray(buffer, transposeData, usage);\n      if (persist) {\n        buffer.persistentData = transposeData;\n      } else {\n        pool.freeType(transposeData);\n      }\n    } else {\n      check$1.raise('invalid buffer data');\n    }\n  }\n\n  function destroy (buffer) {\n    stats.bufferCount--;\n\n    var handle = buffer.buffer;\n    check$1(handle, 'buffer must not be deleted already');\n    gl.deleteBuffer(handle);\n    buffer.buffer = null;\n    delete bufferSet[buffer.id];\n  }\n\n  function createBuffer (options, type, deferInit, persistent) {\n    stats.bufferCount++;\n\n    var buffer = new REGLBuffer(type);\n    bufferSet[buffer.id] = buffer;\n\n    function reglBuffer (options) {\n      var usage = GL_STATIC_DRAW;\n      var data = null;\n      var byteLength = 0;\n      var dtype = 0;\n      var dimension = 1;\n      if (Array.isArray(options) ||\n          isTypedArray(options) ||\n          isNDArrayLike(options)) {\n        data = options;\n      } else if (typeof options === 'number') {\n        byteLength = options | 0;\n      } else if (options) {\n        check$1.type(\n          options, 'object',\n          'buffer arguments must be an object, a number or an array');\n\n        if ('data' in options) {\n          check$1(\n            data === null ||\n            Array.isArray(data) ||\n            isTypedArray(data) ||\n            isNDArrayLike(data),\n            'invalid data for buffer');\n          data = options.data;\n        }\n\n        if ('usage' in options) {\n          check$1.parameter(options.usage, usageTypes, 'invalid buffer usage');\n          usage = usageTypes[options.usage];\n        }\n\n        if ('type' in options) {\n          check$1.parameter(options.type, glTypes, 'invalid buffer type');\n          dtype = glTypes[options.type];\n        }\n\n        if ('dimension' in options) {\n          check$1.type(options.dimension, 'number', 'invalid dimension');\n          dimension = options.dimension | 0;\n        }\n\n        if ('length' in options) {\n          check$1.nni(byteLength, 'buffer length must be a nonnegative integer');\n          byteLength = options.length | 0;\n        }\n      }\n\n      buffer.bind();\n      if (!data) {\n        gl.bufferData(buffer.type, byteLength, usage);\n        buffer.dtype = dtype || GL_UNSIGNED_BYTE$1;\n        buffer.usage = usage;\n        buffer.dimension = dimension;\n        buffer.byteLength = byteLength;\n      } else {\n        initBufferFromData(buffer, data, usage, dtype, dimension, persistent);\n      }\n\n      if (config.profile) {\n        buffer.stats.size = buffer.byteLength * DTYPES_SIZES[buffer.dtype];\n      }\n\n      return reglBuffer\n    }\n\n    function setSubData (data, offset) {\n      check$1(offset + data.byteLength <= buffer.byteLength,\n        'invalid buffer subdata call, buffer is too small. ' + ' Can\\'t write data of size ' + data.byteLength + ' starting from offset ' + offset + ' to a buffer of size ' + buffer.byteLength);\n\n      gl.bufferSubData(buffer.type, offset, data);\n    }\n\n    function subdata (data, offset_) {\n      var offset = (offset_ || 0) | 0;\n      var shape;\n      buffer.bind();\n      if (Array.isArray(data)) {\n        if (data.length > 0) {\n          if (typeof data[0] === 'number') {\n            var converted = pool.allocType(buffer.dtype, data.length);\n            copyArray(converted, data);\n            setSubData(converted, offset);\n            pool.freeType(converted);\n          } else if (Array.isArray(data[0]) || isTypedArray(data[0])) {\n            shape = arrayShape(data);\n            var flatData = arrayFlatten(data, shape, buffer.dtype);\n            setSubData(flatData, offset);\n            pool.freeType(flatData);\n          } else {\n            check$1.raise('invalid buffer data');\n          }\n        }\n      } else if (isTypedArray(data)) {\n        setSubData(data, offset);\n      } else if (isNDArrayLike(data)) {\n        shape = data.shape;\n        var stride = data.stride;\n\n        var shapeX = 0;\n        var shapeY = 0;\n        var strideX = 0;\n        var strideY = 0;\n        if (shape.length === 1) {\n          shapeX = shape[0];\n          shapeY = 1;\n          strideX = stride[0];\n          strideY = 0;\n        } else if (shape.length === 2) {\n          shapeX = shape[0];\n          shapeY = shape[1];\n          strideX = stride[0];\n          strideY = stride[1];\n        } else {\n          check$1.raise('invalid shape');\n        }\n        var dtype = Array.isArray(data.data)\n          ? buffer.dtype\n          : typedArrayCode(data.data);\n\n        var transposeData = pool.allocType(dtype, shapeX * shapeY);\n        transpose(transposeData,\n          data.data,\n          shapeX, shapeY,\n          strideX, strideY,\n          data.offset);\n        setSubData(transposeData, offset);\n        pool.freeType(transposeData);\n      } else {\n        check$1.raise('invalid data for buffer subdata');\n      }\n      return reglBuffer\n    }\n\n    if (!deferInit) {\n      reglBuffer(options);\n    }\n\n    reglBuffer._reglType = 'buffer';\n    reglBuffer._buffer = buffer;\n    reglBuffer.subdata = subdata;\n    if (config.profile) {\n      reglBuffer.stats = buffer.stats;\n    }\n    reglBuffer.destroy = function () { destroy(buffer); };\n\n    return reglBuffer\n  }\n\n  function restoreBuffers () {\n    values(bufferSet).forEach(function (buffer) {\n      buffer.buffer = gl.createBuffer();\n      gl.bindBuffer(buffer.type, buffer.buffer);\n      gl.bufferData(\n        buffer.type, buffer.persistentData || buffer.byteLength, buffer.usage);\n    });\n  }\n\n  if (config.profile) {\n    stats.getTotalBufferSize = function () {\n      var total = 0;\n      // TODO: Right now, the streams are not part of the total count.\n      Object.keys(bufferSet).forEach(function (key) {\n        total += bufferSet[key].stats.size;\n      });\n      return total\n    };\n  }\n\n  return {\n    create: createBuffer,\n\n    createStream: createStream,\n    destroyStream: destroyStream,\n\n    clear: function () {\n      values(bufferSet).forEach(destroy);\n      streamPool.forEach(destroy);\n    },\n\n    getBuffer: function (wrapper) {\n      if (wrapper && wrapper._buffer instanceof REGLBuffer) {\n        return wrapper._buffer\n      }\n      return null\n    },\n\n    restore: restoreBuffers,\n\n    _initBuffer: initBufferFromData\n  }\n}\n\nvar points = 0;\nvar point = 0;\nvar lines = 1;\nvar line = 1;\nvar triangles = 4;\nvar triangle = 4;\nvar primTypes = {\n\tpoints: points,\n\tpoint: point,\n\tlines: lines,\n\tline: line,\n\ttriangles: triangles,\n\ttriangle: triangle,\n\t\"line loop\": 2,\n\t\"line strip\": 3,\n\t\"triangle strip\": 5,\n\t\"triangle fan\": 6\n};\n\nvar GL_POINTS = 0;\nvar GL_LINES = 1;\nvar GL_TRIANGLES = 4;\n\nvar GL_BYTE$2 = 5120;\nvar GL_UNSIGNED_BYTE$3 = 5121;\nvar GL_SHORT$2 = 5122;\nvar GL_UNSIGNED_SHORT$2 = 5123;\nvar GL_INT$2 = 5124;\nvar GL_UNSIGNED_INT$2 = 5125;\n\nvar GL_ELEMENT_ARRAY_BUFFER = 34963;\n\nvar GL_STREAM_DRAW$1 = 0x88E0;\nvar GL_STATIC_DRAW$1 = 0x88E4;\n\nfunction wrapElementsState (gl, extensions, bufferState, stats) {\n  var elementSet = {};\n  var elementCount = 0;\n\n  var elementTypes = {\n    'uint8': GL_UNSIGNED_BYTE$3,\n    'uint16': GL_UNSIGNED_SHORT$2\n  };\n\n  if (extensions.oes_element_index_uint) {\n    elementTypes.uint32 = GL_UNSIGNED_INT$2;\n  }\n\n  function REGLElementBuffer (buffer) {\n    this.id = elementCount++;\n    elementSet[this.id] = this;\n    this.buffer = buffer;\n    this.primType = GL_TRIANGLES;\n    this.vertCount = 0;\n    this.type = 0;\n  }\n\n  REGLElementBuffer.prototype.bind = function () {\n    this.buffer.bind();\n  };\n\n  var bufferPool = [];\n\n  function createElementStream (data) {\n    var result = bufferPool.pop();\n    if (!result) {\n      result = new REGLElementBuffer(bufferState.create(\n        null,\n        GL_ELEMENT_ARRAY_BUFFER,\n        true,\n        false)._buffer);\n    }\n    initElements(result, data, GL_STREAM_DRAW$1, -1, -1, 0, 0);\n    return result\n  }\n\n  function destroyElementStream (elements) {\n    bufferPool.push(elements);\n  }\n\n  function initElements (\n    elements,\n    data,\n    usage,\n    prim,\n    count,\n    byteLength,\n    type) {\n    elements.buffer.bind();\n    if (data) {\n      var predictedType = type;\n      if (!type && (\n          !isTypedArray(data) ||\n         (isNDArrayLike(data) && !isTypedArray(data.data)))) {\n        predictedType = extensions.oes_element_index_uint\n          ? GL_UNSIGNED_INT$2\n          : GL_UNSIGNED_SHORT$2;\n      }\n      bufferState._initBuffer(\n        elements.buffer,\n        data,\n        usage,\n        predictedType,\n        3);\n    } else {\n      gl.bufferData(GL_ELEMENT_ARRAY_BUFFER, byteLength, usage);\n      elements.buffer.dtype = dtype || GL_UNSIGNED_BYTE$3;\n      elements.buffer.usage = usage;\n      elements.buffer.dimension = 3;\n      elements.buffer.byteLength = byteLength;\n    }\n\n    var dtype = type;\n    if (!type) {\n      switch (elements.buffer.dtype) {\n        case GL_UNSIGNED_BYTE$3:\n        case GL_BYTE$2:\n          dtype = GL_UNSIGNED_BYTE$3;\n          break\n\n        case GL_UNSIGNED_SHORT$2:\n        case GL_SHORT$2:\n          dtype = GL_UNSIGNED_SHORT$2;\n          break\n\n        case GL_UNSIGNED_INT$2:\n        case GL_INT$2:\n          dtype = GL_UNSIGNED_INT$2;\n          break\n\n        default:\n          check$1.raise('unsupported type for element array');\n      }\n      elements.buffer.dtype = dtype;\n    }\n    elements.type = dtype;\n\n    // Check oes_element_index_uint extension\n    check$1(\n      dtype !== GL_UNSIGNED_INT$2 ||\n      !!extensions.oes_element_index_uint,\n      '32 bit element buffers not supported, enable oes_element_index_uint first');\n\n    // try to guess default primitive type and arguments\n    var vertCount = count;\n    if (vertCount < 0) {\n      vertCount = elements.buffer.byteLength;\n      if (dtype === GL_UNSIGNED_SHORT$2) {\n        vertCount >>= 1;\n      } else if (dtype === GL_UNSIGNED_INT$2) {\n        vertCount >>= 2;\n      }\n    }\n    elements.vertCount = vertCount;\n\n    // try to guess primitive type from cell dimension\n    var primType = prim;\n    if (prim < 0) {\n      primType = GL_TRIANGLES;\n      var dimension = elements.buffer.dimension;\n      if (dimension === 1) primType = GL_POINTS;\n      if (dimension === 2) primType = GL_LINES;\n      if (dimension === 3) primType = GL_TRIANGLES;\n    }\n    elements.primType = primType;\n  }\n\n  function destroyElements (elements) {\n    stats.elementsCount--;\n\n    check$1(elements.buffer !== null, 'must not double destroy elements');\n    delete elementSet[elements.id];\n    elements.buffer.destroy();\n    elements.buffer = null;\n  }\n\n  function createElements (options, persistent) {\n    var buffer = bufferState.create(null, GL_ELEMENT_ARRAY_BUFFER, true);\n    var elements = new REGLElementBuffer(buffer._buffer);\n    stats.elementsCount++;\n\n    function reglElements (options) {\n      if (!options) {\n        buffer();\n        elements.primType = GL_TRIANGLES;\n        elements.vertCount = 0;\n        elements.type = GL_UNSIGNED_BYTE$3;\n      } else if (typeof options === 'number') {\n        buffer(options);\n        elements.primType = GL_TRIANGLES;\n        elements.vertCount = options | 0;\n        elements.type = GL_UNSIGNED_BYTE$3;\n      } else {\n        var data = null;\n        var usage = GL_STATIC_DRAW$1;\n        var primType = -1;\n        var vertCount = -1;\n        var byteLength = 0;\n        var dtype = 0;\n        if (Array.isArray(options) ||\n            isTypedArray(options) ||\n            isNDArrayLike(options)) {\n          data = options;\n        } else {\n          check$1.type(options, 'object', 'invalid arguments for elements');\n          if ('data' in options) {\n            data = options.data;\n            check$1(\n                Array.isArray(data) ||\n                isTypedArray(data) ||\n                isNDArrayLike(data),\n                'invalid data for element buffer');\n          }\n          if ('usage' in options) {\n            check$1.parameter(\n              options.usage,\n              usageTypes,\n              'invalid element buffer usage');\n            usage = usageTypes[options.usage];\n          }\n          if ('primitive' in options) {\n            check$1.parameter(\n              options.primitive,\n              primTypes,\n              'invalid element buffer primitive');\n            primType = primTypes[options.primitive];\n          }\n          if ('count' in options) {\n            check$1(\n              typeof options.count === 'number' && options.count >= 0,\n              'invalid vertex count for elements');\n            vertCount = options.count | 0;\n          }\n          if ('type' in options) {\n            check$1.parameter(\n              options.type,\n              elementTypes,\n              'invalid buffer type');\n            dtype = elementTypes[options.type];\n          }\n          if ('length' in options) {\n            byteLength = options.length | 0;\n          } else {\n            byteLength = vertCount;\n            if (dtype === GL_UNSIGNED_SHORT$2 || dtype === GL_SHORT$2) {\n              byteLength *= 2;\n            } else if (dtype === GL_UNSIGNED_INT$2 || dtype === GL_INT$2) {\n              byteLength *= 4;\n            }\n          }\n        }\n        initElements(\n          elements,\n          data,\n          usage,\n          primType,\n          vertCount,\n          byteLength,\n          dtype);\n      }\n\n      return reglElements\n    }\n\n    reglElements(options);\n\n    reglElements._reglType = 'elements';\n    reglElements._elements = elements;\n    reglElements.subdata = function (data, offset) {\n      buffer.subdata(data, offset);\n      return reglElements\n    };\n    reglElements.destroy = function () {\n      destroyElements(elements);\n    };\n\n    return reglElements\n  }\n\n  return {\n    create: createElements,\n    createStream: createElementStream,\n    destroyStream: destroyElementStream,\n    getElements: function (elements) {\n      if (typeof elements === 'function' &&\n          elements._elements instanceof REGLElementBuffer) {\n        return elements._elements\n      }\n      return null\n    },\n    clear: function () {\n      values(elementSet).forEach(destroyElements);\n    }\n  }\n}\n\nvar FLOAT = new Float32Array(1);\nvar INT = new Uint32Array(FLOAT.buffer);\n\nvar GL_UNSIGNED_SHORT$4 = 5123;\n\nfunction convertToHalfFloat (array) {\n  var ushorts = pool.allocType(GL_UNSIGNED_SHORT$4, array.length);\n\n  for (var i = 0; i < array.length; ++i) {\n    if (isNaN(array[i])) {\n      ushorts[i] = 0xffff;\n    } else if (array[i] === Infinity) {\n      ushorts[i] = 0x7c00;\n    } else if (array[i] === -Infinity) {\n      ushorts[i] = 0xfc00;\n    } else {\n      FLOAT[0] = array[i];\n      var x = INT[0];\n\n      var sgn = (x >>> 31) << 15;\n      var exp = ((x << 1) >>> 24) - 127;\n      var frac = (x >> 13) & ((1 << 10) - 1);\n\n      if (exp < -24) {\n        // round non-representable denormals to 0\n        ushorts[i] = sgn;\n      } else if (exp < -14) {\n        // handle denormals\n        var s = -14 - exp;\n        ushorts[i] = sgn + ((frac + (1 << 10)) >> s);\n      } else if (exp > 15) {\n        // round overflow to +/- Infinity\n        ushorts[i] = sgn + 0x7c00;\n      } else {\n        // otherwise convert directly\n        ushorts[i] = sgn + ((exp + 15) << 10) + frac;\n      }\n    }\n  }\n\n  return ushorts\n}\n\nfunction isArrayLike (s) {\n  return Array.isArray(s) || isTypedArray(s)\n}\n\nvar GL_COMPRESSED_TEXTURE_FORMATS = 0x86A3;\n\nvar GL_TEXTURE_2D = 0x0DE1;\nvar GL_TEXTURE_CUBE_MAP = 0x8513;\nvar GL_TEXTURE_CUBE_MAP_POSITIVE_X = 0x8515;\n\nvar GL_RGBA = 0x1908;\nvar GL_ALPHA = 0x1906;\nvar GL_RGB = 0x1907;\nvar GL_LUMINANCE = 0x1909;\nvar GL_LUMINANCE_ALPHA = 0x190A;\n\nvar GL_RGBA4 = 0x8056;\nvar GL_RGB5_A1 = 0x8057;\nvar GL_RGB565 = 0x8D62;\n\nvar GL_UNSIGNED_SHORT_4_4_4_4$1 = 0x8033;\nvar GL_UNSIGNED_SHORT_5_5_5_1$1 = 0x8034;\nvar GL_UNSIGNED_SHORT_5_6_5$1 = 0x8363;\nvar GL_UNSIGNED_INT_24_8_WEBGL$1 = 0x84FA;\n\nvar GL_DEPTH_COMPONENT = 0x1902;\nvar GL_DEPTH_STENCIL = 0x84F9;\n\nvar GL_SRGB_EXT = 0x8C40;\nvar GL_SRGB_ALPHA_EXT = 0x8C42;\n\nvar GL_HALF_FLOAT_OES$1 = 0x8D61;\n\nvar GL_COMPRESSED_RGB_S3TC_DXT1_EXT = 0x83F0;\nvar GL_COMPRESSED_RGBA_S3TC_DXT1_EXT = 0x83F1;\nvar GL_COMPRESSED_RGBA_S3TC_DXT3_EXT = 0x83F2;\nvar GL_COMPRESSED_RGBA_S3TC_DXT5_EXT = 0x83F3;\n\nvar GL_COMPRESSED_RGB_ATC_WEBGL = 0x8C92;\nvar GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 0x8C93;\nvar GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 0x87EE;\n\nvar GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 0x8C00;\nvar GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 0x8C01;\nvar GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 0x8C02;\nvar GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 0x8C03;\n\nvar GL_COMPRESSED_RGB_ETC1_WEBGL = 0x8D64;\n\nvar GL_UNSIGNED_BYTE$4 = 0x1401;\nvar GL_UNSIGNED_SHORT$3 = 0x1403;\nvar GL_UNSIGNED_INT$3 = 0x1405;\nvar GL_FLOAT$3 = 0x1406;\n\nvar GL_TEXTURE_WRAP_S = 0x2802;\nvar GL_TEXTURE_WRAP_T = 0x2803;\n\nvar GL_REPEAT = 0x2901;\nvar GL_CLAMP_TO_EDGE$1 = 0x812F;\nvar GL_MIRRORED_REPEAT = 0x8370;\n\nvar GL_TEXTURE_MAG_FILTER = 0x2800;\nvar GL_TEXTURE_MIN_FILTER = 0x2801;\n\nvar GL_NEAREST$1 = 0x2600;\nvar GL_LINEAR = 0x2601;\nvar GL_NEAREST_MIPMAP_NEAREST$1 = 0x2700;\nvar GL_LINEAR_MIPMAP_NEAREST$1 = 0x2701;\nvar GL_NEAREST_MIPMAP_LINEAR$1 = 0x2702;\nvar GL_LINEAR_MIPMAP_LINEAR$1 = 0x2703;\n\nvar GL_GENERATE_MIPMAP_HINT = 0x8192;\nvar GL_DONT_CARE = 0x1100;\nvar GL_FASTEST = 0x1101;\nvar GL_NICEST = 0x1102;\n\nvar GL_TEXTURE_MAX_ANISOTROPY_EXT = 0x84FE;\n\nvar GL_UNPACK_ALIGNMENT = 0x0CF5;\nvar GL_UNPACK_FLIP_Y_WEBGL = 0x9240;\nvar GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL = 0x9241;\nvar GL_UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;\n\nvar GL_BROWSER_DEFAULT_WEBGL = 0x9244;\n\nvar GL_TEXTURE0 = 0x84C0;\n\nvar MIPMAP_FILTERS = [\n  GL_NEAREST_MIPMAP_NEAREST$1,\n  GL_NEAREST_MIPMAP_LINEAR$1,\n  GL_LINEAR_MIPMAP_NEAREST$1,\n  GL_LINEAR_MIPMAP_LINEAR$1\n];\n\nvar CHANNELS_FORMAT = [\n  0,\n  GL_LUMINANCE,\n  GL_LUMINANCE_ALPHA,\n  GL_RGB,\n  GL_RGBA\n];\n\nvar FORMAT_CHANNELS = {};\nFORMAT_CHANNELS[GL_LUMINANCE] =\nFORMAT_CHANNELS[GL_ALPHA] =\nFORMAT_CHANNELS[GL_DEPTH_COMPONENT] = 1;\nFORMAT_CHANNELS[GL_DEPTH_STENCIL] =\nFORMAT_CHANNELS[GL_LUMINANCE_ALPHA] = 2;\nFORMAT_CHANNELS[GL_RGB] =\nFORMAT_CHANNELS[GL_SRGB_EXT] = 3;\nFORMAT_CHANNELS[GL_RGBA] =\nFORMAT_CHANNELS[GL_SRGB_ALPHA_EXT] = 4;\n\nfunction objectName (str) {\n  return '[object ' + str + ']'\n}\n\nvar CANVAS_CLASS = objectName('HTMLCanvasElement');\nvar CONTEXT2D_CLASS = objectName('CanvasRenderingContext2D');\nvar IMAGE_CLASS = objectName('HTMLImageElement');\nvar VIDEO_CLASS = objectName('HTMLVideoElement');\n\nvar PIXEL_CLASSES = Object.keys(arrayTypes).concat([\n  CANVAS_CLASS,\n  CONTEXT2D_CLASS,\n  IMAGE_CLASS,\n  VIDEO_CLASS\n]);\n\n// for every texture type, store\n// the size in bytes.\nvar TYPE_SIZES = [];\nTYPE_SIZES[GL_UNSIGNED_BYTE$4] = 1;\nTYPE_SIZES[GL_FLOAT$3] = 4;\nTYPE_SIZES[GL_HALF_FLOAT_OES$1] = 2;\n\nTYPE_SIZES[GL_UNSIGNED_SHORT$3] = 2;\nTYPE_SIZES[GL_UNSIGNED_INT$3] = 4;\n\nvar FORMAT_SIZES_SPECIAL = [];\nFORMAT_SIZES_SPECIAL[GL_RGBA4] = 2;\nFORMAT_SIZES_SPECIAL[GL_RGB5_A1] = 2;\nFORMAT_SIZES_SPECIAL[GL_RGB565] = 2;\nFORMAT_SIZES_SPECIAL[GL_DEPTH_STENCIL] = 4;\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_S3TC_DXT1_EXT] = 0.5;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT1_EXT] = 0.5;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1;\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_ATC_WEBGL] = 0.5;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1;\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = 0.5;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = 0.25;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = 0.5;\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = 0.25;\n\nFORMAT_SIZES_SPECIAL[GL_COMPRESSED_RGB_ETC1_WEBGL] = 0.5;\n\nfunction isNumericArray (arr) {\n  return (\n    Array.isArray(arr) &&\n    (arr.length === 0 ||\n    typeof arr[0] === 'number'))\n}\n\nfunction isRectArray (arr) {\n  if (!Array.isArray(arr)) {\n    return false\n  }\n  var width = arr.length;\n  if (width === 0 || !isArrayLike(arr[0])) {\n    return false\n  }\n  return true\n}\n\nfunction classString (x) {\n  return Object.prototype.toString.call(x)\n}\n\nfunction isCanvasElement (object) {\n  return classString(object) === CANVAS_CLASS\n}\n\nfunction isContext2D (object) {\n  return classString(object) === CONTEXT2D_CLASS\n}\n\nfunction isImageElement (object) {\n  return classString(object) === IMAGE_CLASS\n}\n\nfunction isVideoElement (object) {\n  return classString(object) === VIDEO_CLASS\n}\n\nfunction isPixelData (object) {\n  if (!object) {\n    return false\n  }\n  var className = classString(object);\n  if (PIXEL_CLASSES.indexOf(className) >= 0) {\n    return true\n  }\n  return (\n    isNumericArray(object) ||\n    isRectArray(object) ||\n    isNDArrayLike(object))\n}\n\nfunction typedArrayCode$1 (data) {\n  return arrayTypes[Object.prototype.toString.call(data)] | 0\n}\n\nfunction convertData (result, data) {\n  var n = data.length;\n  switch (result.type) {\n    case GL_UNSIGNED_BYTE$4:\n    case GL_UNSIGNED_SHORT$3:\n    case GL_UNSIGNED_INT$3:\n    case GL_FLOAT$3:\n      var converted = pool.allocType(result.type, n);\n      converted.set(data);\n      result.data = converted;\n      break\n\n    case GL_HALF_FLOAT_OES$1:\n      result.data = convertToHalfFloat(data);\n      break\n\n    default:\n      check$1.raise('unsupported texture type, must specify a typed array');\n  }\n}\n\nfunction preConvert (image, n) {\n  return pool.allocType(\n    image.type === GL_HALF_FLOAT_OES$1\n      ? GL_FLOAT$3\n      : image.type, n)\n}\n\nfunction postConvert (image, data) {\n  if (image.type === GL_HALF_FLOAT_OES$1) {\n    image.data = convertToHalfFloat(data);\n    pool.freeType(data);\n  } else {\n    image.data = data;\n  }\n}\n\nfunction transposeData (image, array, strideX, strideY, strideC, offset) {\n  var w = image.width;\n  var h = image.height;\n  var c = image.channels;\n  var n = w * h * c;\n  var data = preConvert(image, n);\n\n  var p = 0;\n  for (var i = 0; i < h; ++i) {\n    for (var j = 0; j < w; ++j) {\n      for (var k = 0; k < c; ++k) {\n        data[p++] = array[strideX * j + strideY * i + strideC * k + offset];\n      }\n    }\n  }\n\n  postConvert(image, data);\n}\n\nfunction getTextureSize (format, type, width, height, isMipmap, isCube) {\n  var s;\n  if (typeof FORMAT_SIZES_SPECIAL[format] !== 'undefined') {\n    // we have a special array for dealing with weird color formats such as RGB5A1\n    s = FORMAT_SIZES_SPECIAL[format];\n  } else {\n    s = FORMAT_CHANNELS[format] * TYPE_SIZES[type];\n  }\n\n  if (isCube) {\n    s *= 6;\n  }\n\n  if (isMipmap) {\n    // compute the total size of all the mipmaps.\n    var total = 0;\n\n    var w = width;\n    while (w >= 1) {\n      // we can only use mipmaps on a square image,\n      // so we can simply use the width and ignore the height:\n      total += s * w * w;\n      w /= 2;\n    }\n    return total\n  } else {\n    return s * width * height\n  }\n}\n\nfunction createTextureSet (\n  gl, extensions, limits, reglPoll, contextState, stats, config) {\n  // -------------------------------------------------------\n  // Initialize constants and parameter tables here\n  // -------------------------------------------------------\n  var mipmapHint = {\n    \"don't care\": GL_DONT_CARE,\n    'dont care': GL_DONT_CARE,\n    'nice': GL_NICEST,\n    'fast': GL_FASTEST\n  };\n\n  var wrapModes = {\n    'repeat': GL_REPEAT,\n    'clamp': GL_CLAMP_TO_EDGE$1,\n    'mirror': GL_MIRRORED_REPEAT\n  };\n\n  var magFilters = {\n    'nearest': GL_NEAREST$1,\n    'linear': GL_LINEAR\n  };\n\n  var minFilters = extend({\n    'mipmap': GL_LINEAR_MIPMAP_LINEAR$1,\n    'nearest mipmap nearest': GL_NEAREST_MIPMAP_NEAREST$1,\n    'linear mipmap nearest': GL_LINEAR_MIPMAP_NEAREST$1,\n    'nearest mipmap linear': GL_NEAREST_MIPMAP_LINEAR$1,\n    'linear mipmap linear': GL_LINEAR_MIPMAP_LINEAR$1\n  }, magFilters);\n\n  var colorSpace = {\n    'none': 0,\n    'browser': GL_BROWSER_DEFAULT_WEBGL\n  };\n\n  var textureTypes = {\n    'uint8': GL_UNSIGNED_BYTE$4,\n    'rgba4': GL_UNSIGNED_SHORT_4_4_4_4$1,\n    'rgb565': GL_UNSIGNED_SHORT_5_6_5$1,\n    'rgb5 a1': GL_UNSIGNED_SHORT_5_5_5_1$1\n  };\n\n  var textureFormats = {\n    'alpha': GL_ALPHA,\n    'luminance': GL_LUMINANCE,\n    'luminance alpha': GL_LUMINANCE_ALPHA,\n    'rgb': GL_RGB,\n    'rgba': GL_RGBA,\n    'rgba4': GL_RGBA4,\n    'rgb5 a1': GL_RGB5_A1,\n    'rgb565': GL_RGB565\n  };\n\n  var compressedTextureFormats = {};\n\n  if (extensions.ext_srgb) {\n    textureFormats.srgb = GL_SRGB_EXT;\n    textureFormats.srgba = GL_SRGB_ALPHA_EXT;\n  }\n\n  if (extensions.oes_texture_float) {\n    textureTypes.float32 = textureTypes.float = GL_FLOAT$3;\n  }\n\n  if (extensions.oes_texture_half_float) {\n    textureTypes['float16'] = textureTypes['half float'] = GL_HALF_FLOAT_OES$1;\n  }\n\n  if (extensions.webgl_depth_texture) {\n    extend(textureFormats, {\n      'depth': GL_DEPTH_COMPONENT,\n      'depth stencil': GL_DEPTH_STENCIL\n    });\n\n    extend(textureTypes, {\n      'uint16': GL_UNSIGNED_SHORT$3,\n      'uint32': GL_UNSIGNED_INT$3,\n      'depth stencil': GL_UNSIGNED_INT_24_8_WEBGL$1\n    });\n  }\n\n  if (extensions.webgl_compressed_texture_s3tc) {\n    extend(compressedTextureFormats, {\n      'rgb s3tc dxt1': GL_COMPRESSED_RGB_S3TC_DXT1_EXT,\n      'rgba s3tc dxt1': GL_COMPRESSED_RGBA_S3TC_DXT1_EXT,\n      'rgba s3tc dxt3': GL_COMPRESSED_RGBA_S3TC_DXT3_EXT,\n      'rgba s3tc dxt5': GL_COMPRESSED_RGBA_S3TC_DXT5_EXT\n    });\n  }\n\n  if (extensions.webgl_compressed_texture_atc) {\n    extend(compressedTextureFormats, {\n      'rgb atc': GL_COMPRESSED_RGB_ATC_WEBGL,\n      'rgba atc explicit alpha': GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,\n      'rgba atc interpolated alpha': GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\n    });\n  }\n\n  if (extensions.webgl_compressed_texture_pvrtc) {\n    extend(compressedTextureFormats, {\n      'rgb pvrtc 4bppv1': GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG,\n      'rgb pvrtc 2bppv1': GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG,\n      'rgba pvrtc 4bppv1': GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,\n      'rgba pvrtc 2bppv1': GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\n    });\n  }\n\n  if (extensions.webgl_compressed_texture_etc1) {\n    compressedTextureFormats['rgb etc1'] = GL_COMPRESSED_RGB_ETC1_WEBGL;\n  }\n\n  // Copy over all texture formats\n  var supportedCompressedFormats = Array.prototype.slice.call(\n    gl.getParameter(GL_COMPRESSED_TEXTURE_FORMATS));\n  Object.keys(compressedTextureFormats).forEach(function (name) {\n    var format = compressedTextureFormats[name];\n    if (supportedCompressedFormats.indexOf(format) >= 0) {\n      textureFormats[name] = format;\n    }\n  });\n\n  var supportedFormats = Object.keys(textureFormats);\n  limits.textureFormats = supportedFormats;\n\n  // associate with every format string its\n  // corresponding GL-value.\n  var textureFormatsInvert = [];\n  Object.keys(textureFormats).forEach(function (key) {\n    var val = textureFormats[key];\n    textureFormatsInvert[val] = key;\n  });\n\n  // associate with every type string its\n  // corresponding GL-value.\n  var textureTypesInvert = [];\n  Object.keys(textureTypes).forEach(function (key) {\n    var val = textureTypes[key];\n    textureTypesInvert[val] = key;\n  });\n\n  var magFiltersInvert = [];\n  Object.keys(magFilters).forEach(function (key) {\n    var val = magFilters[key];\n    magFiltersInvert[val] = key;\n  });\n\n  var minFiltersInvert = [];\n  Object.keys(minFilters).forEach(function (key) {\n    var val = minFilters[key];\n    minFiltersInvert[val] = key;\n  });\n\n  var wrapModesInvert = [];\n  Object.keys(wrapModes).forEach(function (key) {\n    var val = wrapModes[key];\n    wrapModesInvert[val] = key;\n  });\n\n  // colorFormats[] gives the format (channels) associated to an\n  // internalformat\n  var colorFormats = supportedFormats.reduce(function (color, key) {\n    var glenum = textureFormats[key];\n    if (glenum === GL_LUMINANCE ||\n        glenum === GL_ALPHA ||\n        glenum === GL_LUMINANCE ||\n        glenum === GL_LUMINANCE_ALPHA ||\n        glenum === GL_DEPTH_COMPONENT ||\n        glenum === GL_DEPTH_STENCIL) {\n      color[glenum] = glenum;\n    } else if (glenum === GL_RGB5_A1 || key.indexOf('rgba') >= 0) {\n      color[glenum] = GL_RGBA;\n    } else {\n      color[glenum] = GL_RGB;\n    }\n    return color\n  }, {});\n\n  function TexFlags () {\n    // format info\n    this.internalformat = GL_RGBA;\n    this.format = GL_RGBA;\n    this.type = GL_UNSIGNED_BYTE$4;\n    this.compressed = false;\n\n    // pixel storage\n    this.premultiplyAlpha = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n    this.colorSpace = 0;\n\n    // shape info\n    this.width = 0;\n    this.height = 0;\n    this.channels = 0;\n  }\n\n  function copyFlags (result, other) {\n    result.internalformat = other.internalformat;\n    result.format = other.format;\n    result.type = other.type;\n    result.compressed = other.compressed;\n\n    result.premultiplyAlpha = other.premultiplyAlpha;\n    result.flipY = other.flipY;\n    result.unpackAlignment = other.unpackAlignment;\n    result.colorSpace = other.colorSpace;\n\n    result.width = other.width;\n    result.height = other.height;\n    result.channels = other.channels;\n  }\n\n  function parseFlags (flags, options) {\n    if (typeof options !== 'object' || !options) {\n      return\n    }\n\n    if ('premultiplyAlpha' in options) {\n      check$1.type(options.premultiplyAlpha, 'boolean',\n        'invalid premultiplyAlpha');\n      flags.premultiplyAlpha = options.premultiplyAlpha;\n    }\n\n    if ('flipY' in options) {\n      check$1.type(options.flipY, 'boolean',\n        'invalid texture flip');\n      flags.flipY = options.flipY;\n    }\n\n    if ('alignment' in options) {\n      check$1.oneOf(options.alignment, [1, 2, 4, 8],\n        'invalid texture unpack alignment');\n      flags.unpackAlignment = options.alignment;\n    }\n\n    if ('colorSpace' in options) {\n      check$1.parameter(options.colorSpace, colorSpace,\n        'invalid colorSpace');\n      flags.colorSpace = colorSpace[options.colorSpace];\n    }\n\n    if ('type' in options) {\n      var type = options.type;\n      check$1(extensions.oes_texture_float ||\n        !(type === 'float' || type === 'float32'),\n        'you must enable the OES_texture_float extension in order to use floating point textures.');\n      check$1(extensions.oes_texture_half_float ||\n        !(type === 'half float' || type === 'float16'),\n        'you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.');\n      check$1(extensions.webgl_depth_texture ||\n        !(type === 'uint16' || type === 'uint32' || type === 'depth stencil'),\n        'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.');\n      check$1.parameter(type, textureTypes,\n        'invalid texture type');\n      flags.type = textureTypes[type];\n    }\n\n    var w = flags.width;\n    var h = flags.height;\n    var c = flags.channels;\n    var hasChannels = false;\n    if ('shape' in options) {\n      check$1(Array.isArray(options.shape) && options.shape.length >= 2,\n        'shape must be an array');\n      w = options.shape[0];\n      h = options.shape[1];\n      if (options.shape.length === 3) {\n        c = options.shape[2];\n        check$1(c > 0 && c <= 4, 'invalid number of channels');\n        hasChannels = true;\n      }\n      check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid width');\n      check$1(h >= 0 && h <= limits.maxTextureSize, 'invalid height');\n    } else {\n      if ('radius' in options) {\n        w = h = options.radius;\n        check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid radius');\n      }\n      if ('width' in options) {\n        w = options.width;\n        check$1(w >= 0 && w <= limits.maxTextureSize, 'invalid width');\n      }\n      if ('height' in options) {\n        h = options.height;\n        check$1(h >= 0 && h <= limits.maxTextureSize, 'invalid height');\n      }\n      if ('channels' in options) {\n        c = options.channels;\n        check$1(c > 0 && c <= 4, 'invalid number of channels');\n        hasChannels = true;\n      }\n    }\n    flags.width = w | 0;\n    flags.height = h | 0;\n    flags.channels = c | 0;\n\n    var hasFormat = false;\n    if ('format' in options) {\n      var formatStr = options.format;\n      check$1(extensions.webgl_depth_texture ||\n        !(formatStr === 'depth' || formatStr === 'depth stencil'),\n        'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.');\n      check$1.parameter(formatStr, textureFormats,\n        'invalid texture format');\n      var internalformat = flags.internalformat = textureFormats[formatStr];\n      flags.format = colorFormats[internalformat];\n      if (formatStr in textureTypes) {\n        if (!('type' in options)) {\n          flags.type = textureTypes[formatStr];\n        }\n      }\n      if (formatStr in compressedTextureFormats) {\n        flags.compressed = true;\n      }\n      hasFormat = true;\n    }\n\n    // Reconcile channels and format\n    if (!hasChannels && hasFormat) {\n      flags.channels = FORMAT_CHANNELS[flags.format];\n    } else if (hasChannels && !hasFormat) {\n      if (flags.channels !== CHANNELS_FORMAT[flags.format]) {\n        flags.format = flags.internalformat = CHANNELS_FORMAT[flags.channels];\n      }\n    } else if (hasFormat && hasChannels) {\n      check$1(\n        flags.channels === FORMAT_CHANNELS[flags.format],\n        'number of channels inconsistent with specified format');\n    }\n  }\n\n  function setFlags (flags) {\n    gl.pixelStorei(GL_UNPACK_FLIP_Y_WEBGL, flags.flipY);\n    gl.pixelStorei(GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL, flags.premultiplyAlpha);\n    gl.pixelStorei(GL_UNPACK_COLORSPACE_CONVERSION_WEBGL, flags.colorSpace);\n    gl.pixelStorei(GL_UNPACK_ALIGNMENT, flags.unpackAlignment);\n  }\n\n  // -------------------------------------------------------\n  // Tex image data\n  // -------------------------------------------------------\n  function TexImage () {\n    TexFlags.call(this);\n\n    this.xOffset = 0;\n    this.yOffset = 0;\n\n    // data\n    this.data = null;\n    this.needsFree = false;\n\n    // html element\n    this.element = null;\n\n    // copyTexImage info\n    this.needsCopy = false;\n  }\n\n  function parseImage (image, options) {\n    var data = null;\n    if (isPixelData(options)) {\n      data = options;\n    } else if (options) {\n      check$1.type(options, 'object', 'invalid pixel data type');\n      parseFlags(image, options);\n      if ('x' in options) {\n        image.xOffset = options.x | 0;\n      }\n      if ('y' in options) {\n        image.yOffset = options.y | 0;\n      }\n      if (isPixelData(options.data)) {\n        data = options.data;\n      }\n    }\n\n    check$1(\n      !image.compressed ||\n      data instanceof Uint8Array,\n      'compressed texture data must be stored in a uint8array');\n\n    if (options.copy) {\n      check$1(!data, 'can not specify copy and data field for the same texture');\n      var viewW = contextState.viewportWidth;\n      var viewH = contextState.viewportHeight;\n      image.width = image.width || (viewW - image.xOffset);\n      image.height = image.height || (viewH - image.yOffset);\n      image.needsCopy = true;\n      check$1(image.xOffset >= 0 && image.xOffset < viewW &&\n            image.yOffset >= 0 && image.yOffset < viewH &&\n            image.width > 0 && image.width <= viewW &&\n            image.height > 0 && image.height <= viewH,\n            'copy texture read out of bounds');\n    } else if (!data) {\n      image.width = image.width || 1;\n      image.height = image.height || 1;\n      image.channels = image.channels || 4;\n    } else if (isTypedArray(data)) {\n      image.channels = image.channels || 4;\n      image.data = data;\n      if (!('type' in options) && image.type === GL_UNSIGNED_BYTE$4) {\n        image.type = typedArrayCode$1(data);\n      }\n    } else if (isNumericArray(data)) {\n      image.channels = image.channels || 4;\n      convertData(image, data);\n      image.alignment = 1;\n      image.needsFree = true;\n    } else if (isNDArrayLike(data)) {\n      var array = data.data;\n      if (!Array.isArray(array) && image.type === GL_UNSIGNED_BYTE$4) {\n        image.type = typedArrayCode$1(array);\n      }\n      var shape = data.shape;\n      var stride = data.stride;\n      var shapeX, shapeY, shapeC, strideX, strideY, strideC;\n      if (shape.length === 3) {\n        shapeC = shape[2];\n        strideC = stride[2];\n      } else {\n        check$1(shape.length === 2, 'invalid ndarray pixel data, must be 2 or 3D');\n        shapeC = 1;\n        strideC = 1;\n      }\n      shapeX = shape[0];\n      shapeY = shape[1];\n      strideX = stride[0];\n      strideY = stride[1];\n      image.alignment = 1;\n      image.width = shapeX;\n      image.height = shapeY;\n      image.channels = shapeC;\n      image.format = image.internalformat = CHANNELS_FORMAT[shapeC];\n      image.needsFree = true;\n      transposeData(image, array, strideX, strideY, strideC, data.offset);\n    } else if (isCanvasElement(data) || isContext2D(data)) {\n      if (isCanvasElement(data)) {\n        image.element = data;\n      } else {\n        image.element = data.canvas;\n      }\n      image.width = image.element.width;\n      image.height = image.element.height;\n      image.channels = 4;\n    } else if (isImageElement(data)) {\n      image.element = data;\n      image.width = data.naturalWidth;\n      image.height = data.naturalHeight;\n      image.channels = 4;\n    } else if (isVideoElement(data)) {\n      image.element = data;\n      image.width = data.videoWidth;\n      image.height = data.videoHeight;\n      image.channels = 4;\n    } else if (isRectArray(data)) {\n      var w = image.width || data[0].length;\n      var h = image.height || data.length;\n      var c = image.channels;\n      if (isArrayLike(data[0][0])) {\n        c = c || data[0][0].length;\n      } else {\n        c = c || 1;\n      }\n      var arrayShape = flattenUtils.shape(data);\n      var n = 1;\n      for (var dd = 0; dd < arrayShape.length; ++dd) {\n        n *= arrayShape[dd];\n      }\n      var allocData = preConvert(image, n);\n      flattenUtils.flatten(data, arrayShape, '', allocData);\n      postConvert(image, allocData);\n      image.alignment = 1;\n      image.width = w;\n      image.height = h;\n      image.channels = c;\n      image.format = image.internalformat = CHANNELS_FORMAT[c];\n      image.needsFree = true;\n    }\n\n    if (image.type === GL_FLOAT$3) {\n      check$1(limits.extensions.indexOf('oes_texture_float') >= 0,\n        'oes_texture_float extension not enabled');\n    } else if (image.type === GL_HALF_FLOAT_OES$1) {\n      check$1(limits.extensions.indexOf('oes_texture_half_float') >= 0,\n        'oes_texture_half_float extension not enabled');\n    }\n\n    // do compressed texture  validation here.\n  }\n\n  function setImage (info, target, miplevel) {\n    var element = info.element;\n    var data = info.data;\n    var internalformat = info.internalformat;\n    var format = info.format;\n    var type = info.type;\n    var width = info.width;\n    var height = info.height;\n\n    setFlags(info);\n\n    if (element) {\n      gl.texImage2D(target, miplevel, format, format, type, element);\n    } else if (info.compressed) {\n      gl.compressedTexImage2D(target, miplevel, internalformat, width, height, 0, data);\n    } else if (info.needsCopy) {\n      reglPoll();\n      gl.copyTexImage2D(\n        target, miplevel, format, info.xOffset, info.yOffset, width, height, 0);\n    } else {\n      gl.texImage2D(\n        target, miplevel, format, width, height, 0, format, type, data);\n    }\n  }\n\n  function setSubImage (info, target, x, y, miplevel) {\n    var element = info.element;\n    var data = info.data;\n    var internalformat = info.internalformat;\n    var format = info.format;\n    var type = info.type;\n    var width = info.width;\n    var height = info.height;\n\n    setFlags(info);\n\n    if (element) {\n      gl.texSubImage2D(\n        target, miplevel, x, y, format, type, element);\n    } else if (info.compressed) {\n      gl.compressedTexSubImage2D(\n        target, miplevel, x, y, internalformat, width, height, data);\n    } else if (info.needsCopy) {\n      reglPoll();\n      gl.copyTexSubImage2D(\n        target, miplevel, x, y, info.xOffset, info.yOffset, width, height);\n    } else {\n      gl.texSubImage2D(\n        target, miplevel, x, y, width, height, format, type, data);\n    }\n  }\n\n  // texImage pool\n  var imagePool = [];\n\n  function allocImage () {\n    return imagePool.pop() || new TexImage()\n  }\n\n  function freeImage (image) {\n    if (image.needsFree) {\n      pool.freeType(image.data);\n    }\n    TexImage.call(image);\n    imagePool.push(image);\n  }\n\n  // -------------------------------------------------------\n  // Mip map\n  // -------------------------------------------------------\n  function MipMap () {\n    TexFlags.call(this);\n\n    this.genMipmaps = false;\n    this.mipmapHint = GL_DONT_CARE;\n    this.mipmask = 0;\n    this.images = Array(16);\n  }\n\n  function parseMipMapFromShape (mipmap, width, height) {\n    var img = mipmap.images[0] = allocImage();\n    mipmap.mipmask = 1;\n    img.width = mipmap.width = width;\n    img.height = mipmap.height = height;\n    img.channels = mipmap.channels = 4;\n  }\n\n  function parseMipMapFromObject (mipmap, options) {\n    var imgData = null;\n    if (isPixelData(options)) {\n      imgData = mipmap.images[0] = allocImage();\n      copyFlags(imgData, mipmap);\n      parseImage(imgData, options);\n      mipmap.mipmask = 1;\n    } else {\n      parseFlags(mipmap, options);\n      if (Array.isArray(options.mipmap)) {\n        var mipData = options.mipmap;\n        for (var i = 0; i < mipData.length; ++i) {\n          imgData = mipmap.images[i] = allocImage();\n          copyFlags(imgData, mipmap);\n          imgData.width >>= i;\n          imgData.height >>= i;\n          parseImage(imgData, mipData[i]);\n          mipmap.mipmask |= (1 << i);\n        }\n      } else {\n        imgData = mipmap.images[0] = allocImage();\n        copyFlags(imgData, mipmap);\n        parseImage(imgData, options);\n        mipmap.mipmask = 1;\n      }\n    }\n    copyFlags(mipmap, mipmap.images[0]);\n\n    // For textures of the compressed format WEBGL_compressed_texture_s3tc\n    // we must have that\n    //\n    // \"When level equals zero width and height must be a multiple of 4.\n    // When level is greater than 0 width and height must be 0, 1, 2 or a multiple of 4. \"\n    //\n    // but we do not yet support having multiple mipmap levels for compressed textures,\n    // so we only test for level zero.\n\n    if (mipmap.compressed &&\n        (mipmap.internalformat === GL_COMPRESSED_RGB_S3TC_DXT1_EXT) ||\n        (mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT1_EXT) ||\n        (mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT3_EXT) ||\n        (mipmap.internalformat === GL_COMPRESSED_RGBA_S3TC_DXT5_EXT)) {\n      check$1(mipmap.width % 4 === 0 &&\n            mipmap.height % 4 === 0,\n            'for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4');\n    }\n  }\n\n  function setMipMap (mipmap, target) {\n    var images = mipmap.images;\n    for (var i = 0; i < images.length; ++i) {\n      if (!images[i]) {\n        return\n      }\n      setImage(images[i], target, i);\n    }\n  }\n\n  var mipPool = [];\n\n  function allocMipMap () {\n    var result = mipPool.pop() || new MipMap();\n    TexFlags.call(result);\n    result.mipmask = 0;\n    for (var i = 0; i < 16; ++i) {\n      result.images[i] = null;\n    }\n    return result\n  }\n\n  function freeMipMap (mipmap) {\n    var images = mipmap.images;\n    for (var i = 0; i < images.length; ++i) {\n      if (images[i]) {\n        freeImage(images[i]);\n      }\n      images[i] = null;\n    }\n    mipPool.push(mipmap);\n  }\n\n  // -------------------------------------------------------\n  // Tex info\n  // -------------------------------------------------------\n  function TexInfo () {\n    this.minFilter = GL_NEAREST$1;\n    this.magFilter = GL_NEAREST$1;\n\n    this.wrapS = GL_CLAMP_TO_EDGE$1;\n    this.wrapT = GL_CLAMP_TO_EDGE$1;\n\n    this.anisotropic = 1;\n\n    this.genMipmaps = false;\n    this.mipmapHint = GL_DONT_CARE;\n  }\n\n  function parseTexInfo (info, options) {\n    if ('min' in options) {\n      var minFilter = options.min;\n      check$1.parameter(minFilter, minFilters);\n      info.minFilter = minFilters[minFilter];\n      if (MIPMAP_FILTERS.indexOf(info.minFilter) >= 0) {\n        info.genMipmaps = true;\n      }\n    }\n\n    if ('mag' in options) {\n      var magFilter = options.mag;\n      check$1.parameter(magFilter, magFilters);\n      info.magFilter = magFilters[magFilter];\n    }\n\n    var wrapS = info.wrapS;\n    var wrapT = info.wrapT;\n    if ('wrap' in options) {\n      var wrap = options.wrap;\n      if (typeof wrap === 'string') {\n        check$1.parameter(wrap, wrapModes);\n        wrapS = wrapT = wrapModes[wrap];\n      } else if (Array.isArray(wrap)) {\n        check$1.parameter(wrap[0], wrapModes);\n        check$1.parameter(wrap[1], wrapModes);\n        wrapS = wrapModes[wrap[0]];\n        wrapT = wrapModes[wrap[1]];\n      }\n    } else {\n      if ('wrapS' in options) {\n        var optWrapS = options.wrapS;\n        check$1.parameter(optWrapS, wrapModes);\n        wrapS = wrapModes[optWrapS];\n      }\n      if ('wrapT' in options) {\n        var optWrapT = options.wrapT;\n        check$1.parameter(optWrapT, wrapModes);\n        wrapT = wrapModes[optWrapT];\n      }\n    }\n    info.wrapS = wrapS;\n    info.wrapT = wrapT;\n\n    if ('anisotropic' in options) {\n      var anisotropic = options.anisotropic;\n      check$1(typeof anisotropic === 'number' &&\n         anisotropic >= 1 && anisotropic <= limits.maxAnisotropic,\n        'aniso samples must be between 1 and ');\n      info.anisotropic = options.anisotropic;\n    }\n\n    if ('mipmap' in options) {\n      var hasMipMap = false;\n      switch (typeof options.mipmap) {\n        case 'string':\n          check$1.parameter(options.mipmap, mipmapHint,\n            'invalid mipmap hint');\n          info.mipmapHint = mipmapHint[options.mipmap];\n          info.genMipmaps = true;\n          hasMipMap = true;\n          break\n\n        case 'boolean':\n          hasMipMap = info.genMipmaps = options.mipmap;\n          break\n\n        case 'object':\n          check$1(Array.isArray(options.mipmap), 'invalid mipmap type');\n          info.genMipmaps = false;\n          hasMipMap = true;\n          break\n\n        default:\n          check$1.raise('invalid mipmap type');\n      }\n      if (hasMipMap && !('min' in options)) {\n        info.minFilter = GL_NEAREST_MIPMAP_NEAREST$1;\n      }\n    }\n  }\n\n  function setTexInfo (info, target) {\n    gl.texParameteri(target, GL_TEXTURE_MIN_FILTER, info.minFilter);\n    gl.texParameteri(target, GL_TEXTURE_MAG_FILTER, info.magFilter);\n    gl.texParameteri(target, GL_TEXTURE_WRAP_S, info.wrapS);\n    gl.texParameteri(target, GL_TEXTURE_WRAP_T, info.wrapT);\n    if (extensions.ext_texture_filter_anisotropic) {\n      gl.texParameteri(target, GL_TEXTURE_MAX_ANISOTROPY_EXT, info.anisotropic);\n    }\n    if (info.genMipmaps) {\n      gl.hint(GL_GENERATE_MIPMAP_HINT, info.mipmapHint);\n      gl.generateMipmap(target);\n    }\n  }\n\n  // -------------------------------------------------------\n  // Full texture object\n  // -------------------------------------------------------\n  var textureCount = 0;\n  var textureSet = {};\n  var numTexUnits = limits.maxTextureUnits;\n  var textureUnits = Array(numTexUnits).map(function () {\n    return null\n  });\n\n  function REGLTexture (target) {\n    TexFlags.call(this);\n    this.mipmask = 0;\n    this.internalformat = GL_RGBA;\n\n    this.id = textureCount++;\n\n    this.refCount = 1;\n\n    this.target = target;\n    this.texture = gl.createTexture();\n\n    this.unit = -1;\n    this.bindCount = 0;\n\n    this.texInfo = new TexInfo();\n\n    if (config.profile) {\n      this.stats = {size: 0};\n    }\n  }\n\n  function tempBind (texture) {\n    gl.activeTexture(GL_TEXTURE0);\n    gl.bindTexture(texture.target, texture.texture);\n  }\n\n  function tempRestore () {\n    var prev = textureUnits[0];\n    if (prev) {\n      gl.bindTexture(prev.target, prev.texture);\n    } else {\n      gl.bindTexture(GL_TEXTURE_2D, null);\n    }\n  }\n\n  function destroy (texture) {\n    var handle = texture.texture;\n    check$1(handle, 'must not double destroy texture');\n    var unit = texture.unit;\n    var target = texture.target;\n    if (unit >= 0) {\n      gl.activeTexture(GL_TEXTURE0 + unit);\n      gl.bindTexture(target, null);\n      textureUnits[unit] = null;\n    }\n    gl.deleteTexture(handle);\n    texture.texture = null;\n    texture.params = null;\n    texture.pixels = null;\n    texture.refCount = 0;\n    delete textureSet[texture.id];\n    stats.textureCount--;\n  }\n\n  extend(REGLTexture.prototype, {\n    bind: function () {\n      var texture = this;\n      texture.bindCount += 1;\n      var unit = texture.unit;\n      if (unit < 0) {\n        for (var i = 0; i < numTexUnits; ++i) {\n          var other = textureUnits[i];\n          if (other) {\n            if (other.bindCount > 0) {\n              continue\n            }\n            other.unit = -1;\n          }\n          textureUnits[i] = texture;\n          unit = i;\n          break\n        }\n        if (unit >= numTexUnits) {\n          check$1.raise('insufficient number of texture units');\n        }\n        if (config.profile && stats.maxTextureUnits < (unit + 1)) {\n          stats.maxTextureUnits = unit + 1; // +1, since the units are zero-based\n        }\n        texture.unit = unit;\n        gl.activeTexture(GL_TEXTURE0 + unit);\n        gl.bindTexture(texture.target, texture.texture);\n      }\n      return unit\n    },\n\n    unbind: function () {\n      this.bindCount -= 1;\n    },\n\n    decRef: function () {\n      if (--this.refCount <= 0) {\n        destroy(this);\n      }\n    }\n  });\n\n  function createTexture2D (a, b) {\n    var texture = new REGLTexture(GL_TEXTURE_2D);\n    textureSet[texture.id] = texture;\n    stats.textureCount++;\n\n    function reglTexture2D (a, b) {\n      var texInfo = texture.texInfo;\n      TexInfo.call(texInfo);\n      var mipData = allocMipMap();\n\n      if (typeof a === 'number') {\n        if (typeof b === 'number') {\n          parseMipMapFromShape(mipData, a | 0, b | 0);\n        } else {\n          parseMipMapFromShape(mipData, a | 0, a | 0);\n        }\n      } else if (a) {\n        check$1.type(a, 'object', 'invalid arguments to regl.texture');\n        parseTexInfo(texInfo, a);\n        parseMipMapFromObject(mipData, a);\n      } else {\n        // empty textures get assigned a default shape of 1x1\n        parseMipMapFromShape(mipData, 1, 1);\n      }\n\n      if (texInfo.genMipmaps) {\n        mipData.mipmask = (mipData.width << 1) - 1;\n      }\n      texture.mipmask = mipData.mipmask;\n\n      copyFlags(texture, mipData);\n\n      check$1.texture2D(texInfo, mipData, limits);\n      texture.internalformat = mipData.internalformat;\n\n      reglTexture2D.width = mipData.width;\n      reglTexture2D.height = mipData.height;\n\n      tempBind(texture);\n      setMipMap(mipData, GL_TEXTURE_2D);\n      setTexInfo(texInfo, GL_TEXTURE_2D);\n      tempRestore();\n\n      freeMipMap(mipData);\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          mipData.width,\n          mipData.height,\n          texInfo.genMipmaps,\n          false);\n      }\n      reglTexture2D.format = textureFormatsInvert[texture.internalformat];\n      reglTexture2D.type = textureTypesInvert[texture.type];\n\n      reglTexture2D.mag = magFiltersInvert[texInfo.magFilter];\n      reglTexture2D.min = minFiltersInvert[texInfo.minFilter];\n\n      reglTexture2D.wrapS = wrapModesInvert[texInfo.wrapS];\n      reglTexture2D.wrapT = wrapModesInvert[texInfo.wrapT];\n\n      return reglTexture2D\n    }\n\n    function subimage (image, x_, y_, level_) {\n      check$1(!!image, 'must specify image data');\n\n      var x = x_ | 0;\n      var y = y_ | 0;\n      var level = level_ | 0;\n\n      var imageData = allocImage();\n      copyFlags(imageData, texture);\n      imageData.width = 0;\n      imageData.height = 0;\n      parseImage(imageData, image);\n      imageData.width = imageData.width || ((texture.width >> level) - x);\n      imageData.height = imageData.height || ((texture.height >> level) - y);\n\n      check$1(\n        texture.type === imageData.type &&\n        texture.format === imageData.format &&\n        texture.internalformat === imageData.internalformat,\n        'incompatible format for texture.subimage');\n      check$1(\n        x >= 0 && y >= 0 &&\n        x + imageData.width <= texture.width &&\n        y + imageData.height <= texture.height,\n        'texture.subimage write out of bounds');\n      check$1(\n        texture.mipmask & (1 << level),\n        'missing mipmap data');\n      check$1(\n        imageData.data || imageData.element || imageData.needsCopy,\n        'missing image data');\n\n      tempBind(texture);\n      setSubImage(imageData, GL_TEXTURE_2D, x, y, level);\n      tempRestore();\n\n      freeImage(imageData);\n\n      return reglTexture2D\n    }\n\n    function resize (w_, h_) {\n      var w = w_ | 0;\n      var h = (h_ | 0) || w;\n      if (w === texture.width && h === texture.height) {\n        return reglTexture2D\n      }\n\n      reglTexture2D.width = texture.width = w;\n      reglTexture2D.height = texture.height = h;\n\n      tempBind(texture);\n      for (var i = 0; texture.mipmask >> i; ++i) {\n        gl.texImage2D(\n          GL_TEXTURE_2D,\n          i,\n          texture.format,\n          w >> i,\n          h >> i,\n          0,\n          texture.format,\n          texture.type,\n          null);\n      }\n      tempRestore();\n\n      // also, recompute the texture size.\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          w,\n          h,\n          false,\n          false);\n      }\n\n      return reglTexture2D\n    }\n\n    reglTexture2D(a, b);\n\n    reglTexture2D.subimage = subimage;\n    reglTexture2D.resize = resize;\n    reglTexture2D._reglType = 'texture2d';\n    reglTexture2D._texture = texture;\n    if (config.profile) {\n      reglTexture2D.stats = texture.stats;\n    }\n    reglTexture2D.destroy = function () {\n      texture.decRef();\n    };\n\n    return reglTexture2D\n  }\n\n  function createTextureCube (a0, a1, a2, a3, a4, a5) {\n    var texture = new REGLTexture(GL_TEXTURE_CUBE_MAP);\n    textureSet[texture.id] = texture;\n    stats.cubeCount++;\n\n    var faces = new Array(6);\n\n    function reglTextureCube (a0, a1, a2, a3, a4, a5) {\n      var i;\n      var texInfo = texture.texInfo;\n      TexInfo.call(texInfo);\n      for (i = 0; i < 6; ++i) {\n        faces[i] = allocMipMap();\n      }\n\n      if (typeof a0 === 'number' || !a0) {\n        var s = (a0 | 0) || 1;\n        for (i = 0; i < 6; ++i) {\n          parseMipMapFromShape(faces[i], s, s);\n        }\n      } else if (typeof a0 === 'object') {\n        if (a1) {\n          parseMipMapFromObject(faces[0], a0);\n          parseMipMapFromObject(faces[1], a1);\n          parseMipMapFromObject(faces[2], a2);\n          parseMipMapFromObject(faces[3], a3);\n          parseMipMapFromObject(faces[4], a4);\n          parseMipMapFromObject(faces[5], a5);\n        } else {\n          parseTexInfo(texInfo, a0);\n          parseFlags(texture, a0);\n          if ('faces' in a0) {\n            var face_input = a0.faces;\n            check$1(Array.isArray(face_input) && face_input.length === 6,\n              'cube faces must be a length 6 array');\n            for (i = 0; i < 6; ++i) {\n              check$1(typeof face_input[i] === 'object' && !!face_input[i],\n                'invalid input for cube map face');\n              copyFlags(faces[i], texture);\n              parseMipMapFromObject(faces[i], face_input[i]);\n            }\n          } else {\n            for (i = 0; i < 6; ++i) {\n              parseMipMapFromObject(faces[i], a0);\n            }\n          }\n        }\n      } else {\n        check$1.raise('invalid arguments to cube map');\n      }\n\n      copyFlags(texture, faces[0]);\n      if (texInfo.genMipmaps) {\n        texture.mipmask = (faces[0].width << 1) - 1;\n      } else {\n        texture.mipmask = faces[0].mipmask;\n      }\n\n      check$1.textureCube(texture, texInfo, faces, limits);\n      texture.internalformat = faces[0].internalformat;\n\n      reglTextureCube.width = faces[0].width;\n      reglTextureCube.height = faces[0].height;\n\n      tempBind(texture);\n      for (i = 0; i < 6; ++i) {\n        setMipMap(faces[i], GL_TEXTURE_CUBE_MAP_POSITIVE_X + i);\n      }\n      setTexInfo(texInfo, GL_TEXTURE_CUBE_MAP);\n      tempRestore();\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          reglTextureCube.width,\n          reglTextureCube.height,\n          texInfo.genMipmaps,\n          true);\n      }\n\n      reglTextureCube.format = textureFormatsInvert[texture.internalformat];\n      reglTextureCube.type = textureTypesInvert[texture.type];\n\n      reglTextureCube.mag = magFiltersInvert[texInfo.magFilter];\n      reglTextureCube.min = minFiltersInvert[texInfo.minFilter];\n\n      reglTextureCube.wrapS = wrapModesInvert[texInfo.wrapS];\n      reglTextureCube.wrapT = wrapModesInvert[texInfo.wrapT];\n\n      for (i = 0; i < 6; ++i) {\n        freeMipMap(faces[i]);\n      }\n\n      return reglTextureCube\n    }\n\n    function subimage (face, image, x_, y_, level_) {\n      check$1(!!image, 'must specify image data');\n      check$1(typeof face === 'number' && face === (face | 0) &&\n        face >= 0 && face < 6, 'invalid face');\n\n      var x = x_ | 0;\n      var y = y_ | 0;\n      var level = level_ | 0;\n\n      var imageData = allocImage();\n      copyFlags(imageData, texture);\n      imageData.width = 0;\n      imageData.height = 0;\n      parseImage(imageData, image);\n      imageData.width = imageData.width || ((texture.width >> level) - x);\n      imageData.height = imageData.height || ((texture.height >> level) - y);\n\n      check$1(\n        texture.type === imageData.type &&\n        texture.format === imageData.format &&\n        texture.internalformat === imageData.internalformat,\n        'incompatible format for texture.subimage');\n      check$1(\n        x >= 0 && y >= 0 &&\n        x + imageData.width <= texture.width &&\n        y + imageData.height <= texture.height,\n        'texture.subimage write out of bounds');\n      check$1(\n        texture.mipmask & (1 << level),\n        'missing mipmap data');\n      check$1(\n        imageData.data || imageData.element || imageData.needsCopy,\n        'missing image data');\n\n      tempBind(texture);\n      setSubImage(imageData, GL_TEXTURE_CUBE_MAP_POSITIVE_X + face, x, y, level);\n      tempRestore();\n\n      freeImage(imageData);\n\n      return reglTextureCube\n    }\n\n    function resize (radius_) {\n      var radius = radius_ | 0;\n      if (radius === texture.width) {\n        return\n      }\n\n      reglTextureCube.width = texture.width = radius;\n      reglTextureCube.height = texture.height = radius;\n\n      tempBind(texture);\n      for (var i = 0; i < 6; ++i) {\n        for (var j = 0; texture.mipmask >> j; ++j) {\n          gl.texImage2D(\n            GL_TEXTURE_CUBE_MAP_POSITIVE_X + i,\n            j,\n            texture.format,\n            radius >> j,\n            radius >> j,\n            0,\n            texture.format,\n            texture.type,\n            null);\n        }\n      }\n      tempRestore();\n\n      if (config.profile) {\n        texture.stats.size = getTextureSize(\n          texture.internalformat,\n          texture.type,\n          reglTextureCube.width,\n          reglTextureCube.height,\n          false,\n          true);\n      }\n\n      return reglTextureCube\n    }\n\n    reglTextureCube(a0, a1, a2, a3, a4, a5);\n\n    reglTextureCube.subimage = subimage;\n    reglTextureCube.resize = resize;\n    reglTextureCube._reglType = 'textureCube';\n    reglTextureCube._texture = texture;\n    if (config.profile) {\n      reglTextureCube.stats = texture.stats;\n    }\n    reglTextureCube.destroy = function () {\n      texture.decRef();\n    };\n\n    return reglTextureCube\n  }\n\n  // Called when regl is destroyed\n  function destroyTextures () {\n    for (var i = 0; i < numTexUnits; ++i) {\n      gl.activeTexture(GL_TEXTURE0 + i);\n      gl.bindTexture(GL_TEXTURE_2D, null);\n      textureUnits[i] = null;\n    }\n    values(textureSet).forEach(destroy);\n\n    stats.cubeCount = 0;\n    stats.textureCount = 0;\n  }\n\n  if (config.profile) {\n    stats.getTotalTextureSize = function () {\n      var total = 0;\n      Object.keys(textureSet).forEach(function (key) {\n        total += textureSet[key].stats.size;\n      });\n      return total\n    };\n  }\n\n  function restoreTextures () {\n    values(textureSet).forEach(function (texture) {\n      texture.texture = gl.createTexture();\n      gl.bindTexture(texture.target, texture.texture);\n      for (var i = 0; i < 32; ++i) {\n        if ((texture.mipmask & (1 << i)) === 0) {\n          continue\n        }\n        if (texture.target === GL_TEXTURE_2D) {\n          gl.texImage2D(GL_TEXTURE_2D,\n            i,\n            texture.internalformat,\n            texture.width >> i,\n            texture.height >> i,\n            0,\n            texture.internalformat,\n            texture.type,\n            null);\n        } else {\n          for (var j = 0; j < 6; ++j) {\n            gl.texImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + j,\n              i,\n              texture.internalformat,\n              texture.width >> i,\n              texture.height >> i,\n              0,\n              texture.internalformat,\n              texture.type,\n              null);\n          }\n        }\n      }\n      setTexInfo(texture.texInfo, texture.target);\n    });\n  }\n\n  return {\n    create2D: createTexture2D,\n    createCube: createTextureCube,\n    clear: destroyTextures,\n    getTexture: function (wrapper) {\n      return null\n    },\n    restore: restoreTextures\n  }\n}\n\nvar GL_RENDERBUFFER = 0x8D41;\n\nvar GL_RGBA4$1 = 0x8056;\nvar GL_RGB5_A1$1 = 0x8057;\nvar GL_RGB565$1 = 0x8D62;\nvar GL_DEPTH_COMPONENT16 = 0x81A5;\nvar GL_STENCIL_INDEX8 = 0x8D48;\nvar GL_DEPTH_STENCIL$1 = 0x84F9;\n\nvar GL_SRGB8_ALPHA8_EXT = 0x8C43;\n\nvar GL_RGBA32F_EXT = 0x8814;\n\nvar GL_RGBA16F_EXT = 0x881A;\nvar GL_RGB16F_EXT = 0x881B;\n\nvar FORMAT_SIZES = [];\n\nFORMAT_SIZES[GL_RGBA4$1] = 2;\nFORMAT_SIZES[GL_RGB5_A1$1] = 2;\nFORMAT_SIZES[GL_RGB565$1] = 2;\n\nFORMAT_SIZES[GL_DEPTH_COMPONENT16] = 2;\nFORMAT_SIZES[GL_STENCIL_INDEX8] = 1;\nFORMAT_SIZES[GL_DEPTH_STENCIL$1] = 4;\n\nFORMAT_SIZES[GL_SRGB8_ALPHA8_EXT] = 4;\nFORMAT_SIZES[GL_RGBA32F_EXT] = 16;\nFORMAT_SIZES[GL_RGBA16F_EXT] = 8;\nFORMAT_SIZES[GL_RGB16F_EXT] = 6;\n\nfunction getRenderbufferSize (format, width, height) {\n  return FORMAT_SIZES[format] * width * height\n}\n\nvar wrapRenderbuffers = function (gl, extensions, limits, stats, config) {\n  var formatTypes = {\n    'rgba4': GL_RGBA4$1,\n    'rgb565': GL_RGB565$1,\n    'rgb5 a1': GL_RGB5_A1$1,\n    'depth': GL_DEPTH_COMPONENT16,\n    'stencil': GL_STENCIL_INDEX8,\n    'depth stencil': GL_DEPTH_STENCIL$1\n  };\n\n  if (extensions.ext_srgb) {\n    formatTypes['srgba'] = GL_SRGB8_ALPHA8_EXT;\n  }\n\n  if (extensions.ext_color_buffer_half_float) {\n    formatTypes['rgba16f'] = GL_RGBA16F_EXT;\n    formatTypes['rgb16f'] = GL_RGB16F_EXT;\n  }\n\n  if (extensions.webgl_color_buffer_float) {\n    formatTypes['rgba32f'] = GL_RGBA32F_EXT;\n  }\n\n  var formatTypesInvert = [];\n  Object.keys(formatTypes).forEach(function (key) {\n    var val = formatTypes[key];\n    formatTypesInvert[val] = key;\n  });\n\n  var renderbufferCount = 0;\n  var renderbufferSet = {};\n\n  function REGLRenderbuffer (renderbuffer) {\n    this.id = renderbufferCount++;\n    this.refCount = 1;\n\n    this.renderbuffer = renderbuffer;\n\n    this.format = GL_RGBA4$1;\n    this.width = 0;\n    this.height = 0;\n\n    if (config.profile) {\n      this.stats = {size: 0};\n    }\n  }\n\n  REGLRenderbuffer.prototype.decRef = function () {\n    if (--this.refCount <= 0) {\n      destroy(this);\n    }\n  };\n\n  function destroy (rb) {\n    var handle = rb.renderbuffer;\n    check$1(handle, 'must not double destroy renderbuffer');\n    gl.bindRenderbuffer(GL_RENDERBUFFER, null);\n    gl.deleteRenderbuffer(handle);\n    rb.renderbuffer = null;\n    rb.refCount = 0;\n    delete renderbufferSet[rb.id];\n    stats.renderbufferCount--;\n  }\n\n  function createRenderbuffer (a, b) {\n    var renderbuffer = new REGLRenderbuffer(gl.createRenderbuffer());\n    renderbufferSet[renderbuffer.id] = renderbuffer;\n    stats.renderbufferCount++;\n\n    function reglRenderbuffer (a, b) {\n      var w = 0;\n      var h = 0;\n      var format = GL_RGBA4$1;\n\n      if (typeof a === 'object' && a) {\n        var options = a;\n        if ('shape' in options) {\n          var shape = options.shape;\n          check$1(Array.isArray(shape) && shape.length >= 2,\n            'invalid renderbuffer shape');\n          w = shape[0] | 0;\n          h = shape[1] | 0;\n        } else {\n          if ('radius' in options) {\n            w = h = options.radius | 0;\n          }\n          if ('width' in options) {\n            w = options.width | 0;\n          }\n          if ('height' in options) {\n            h = options.height | 0;\n          }\n        }\n        if ('format' in options) {\n          check$1.parameter(options.format, formatTypes,\n            'invalid renderbuffer format');\n          format = formatTypes[options.format];\n        }\n      } else if (typeof a === 'number') {\n        w = a | 0;\n        if (typeof b === 'number') {\n          h = b | 0;\n        } else {\n          h = w;\n        }\n      } else if (!a) {\n        w = h = 1;\n      } else {\n        check$1.raise('invalid arguments to renderbuffer constructor');\n      }\n\n      // check shape\n      check$1(\n        w > 0 && h > 0 &&\n        w <= limits.maxRenderbufferSize && h <= limits.maxRenderbufferSize,\n        'invalid renderbuffer size');\n\n      if (w === renderbuffer.width &&\n          h === renderbuffer.height &&\n          format === renderbuffer.format) {\n        return\n      }\n\n      reglRenderbuffer.width = renderbuffer.width = w;\n      reglRenderbuffer.height = renderbuffer.height = h;\n      renderbuffer.format = format;\n\n      gl.bindRenderbuffer(GL_RENDERBUFFER, renderbuffer.renderbuffer);\n      gl.renderbufferStorage(GL_RENDERBUFFER, format, w, h);\n\n      if (config.profile) {\n        renderbuffer.stats.size = getRenderbufferSize(renderbuffer.format, renderbuffer.width, renderbuffer.height);\n      }\n      reglRenderbuffer.format = formatTypesInvert[renderbuffer.format];\n\n      return reglRenderbuffer\n    }\n\n    function resize (w_, h_) {\n      var w = w_ | 0;\n      var h = (h_ | 0) || w;\n\n      if (w === renderbuffer.width && h === renderbuffer.height) {\n        return reglRenderbuffer\n      }\n\n      // check shape\n      check$1(\n        w > 0 && h > 0 &&\n        w <= limits.maxRenderbufferSize && h <= limits.maxRenderbufferSize,\n        'invalid renderbuffer size');\n\n      reglRenderbuffer.width = renderbuffer.width = w;\n      reglRenderbuffer.height = renderbuffer.height = h;\n\n      gl.bindRenderbuffer(GL_RENDERBUFFER, renderbuffer.renderbuffer);\n      gl.renderbufferStorage(GL_RENDERBUFFER, renderbuffer.format, w, h);\n\n      // also, recompute size.\n      if (config.profile) {\n        renderbuffer.stats.size = getRenderbufferSize(\n          renderbuffer.format, renderbuffer.width, renderbuffer.height);\n      }\n\n      return reglRenderbuffer\n    }\n\n    reglRenderbuffer(a, b);\n\n    reglRenderbuffer.resize = resize;\n    reglRenderbuffer._reglType = 'renderbuffer';\n    reglRenderbuffer._renderbuffer = renderbuffer;\n    if (config.profile) {\n      reglRenderbuffer.stats = renderbuffer.stats;\n    }\n    reglRenderbuffer.destroy = function () {\n      renderbuffer.decRef();\n    };\n\n    return reglRenderbuffer\n  }\n\n  if (config.profile) {\n    stats.getTotalRenderbufferSize = function () {\n      var total = 0;\n      Object.keys(renderbufferSet).forEach(function (key) {\n        total += renderbufferSet[key].stats.size;\n      });\n      return total\n    };\n  }\n\n  function restoreRenderbuffers () {\n    values(renderbufferSet).forEach(function (rb) {\n      rb.renderbuffer = gl.createRenderbuffer();\n      gl.bindRenderbuffer(GL_RENDERBUFFER, rb.renderbuffer);\n      gl.renderbufferStorage(GL_RENDERBUFFER, rb.format, rb.width, rb.height);\n    });\n    gl.bindRenderbuffer(GL_RENDERBUFFER, null);\n  }\n\n  return {\n    create: createRenderbuffer,\n    clear: function () {\n      values(renderbufferSet).forEach(destroy);\n    },\n    restore: restoreRenderbuffers\n  }\n};\n\n// We store these constants so that the minifier can inline them\nvar GL_FRAMEBUFFER = 0x8D40;\nvar GL_RENDERBUFFER$1 = 0x8D41;\n\nvar GL_TEXTURE_2D$1 = 0x0DE1;\nvar GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 = 0x8515;\n\nvar GL_COLOR_ATTACHMENT0 = 0x8CE0;\nvar GL_DEPTH_ATTACHMENT = 0x8D00;\nvar GL_STENCIL_ATTACHMENT = 0x8D20;\nvar GL_DEPTH_STENCIL_ATTACHMENT = 0x821A;\n\nvar GL_FRAMEBUFFER_COMPLETE = 0x8CD5;\nvar GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 0x8CD6;\nvar GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 0x8CD7;\nvar GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 0x8CD9;\nvar GL_FRAMEBUFFER_UNSUPPORTED = 0x8CDD;\n\nvar GL_HALF_FLOAT_OES$2 = 0x8D61;\nvar GL_UNSIGNED_BYTE$5 = 0x1401;\nvar GL_FLOAT$4 = 0x1406;\n\nvar GL_RGBA$1 = 0x1908;\n\nvar GL_DEPTH_COMPONENT$1 = 0x1902;\n\nvar colorTextureFormatEnums = [\n  GL_RGBA$1\n];\n\n// for every texture format, store\n// the number of channels\nvar textureFormatChannels = [];\ntextureFormatChannels[GL_RGBA$1] = 4;\n\n// for every texture type, store\n// the size in bytes.\nvar textureTypeSizes = [];\ntextureTypeSizes[GL_UNSIGNED_BYTE$5] = 1;\ntextureTypeSizes[GL_FLOAT$4] = 4;\ntextureTypeSizes[GL_HALF_FLOAT_OES$2] = 2;\n\nvar GL_RGBA4$2 = 0x8056;\nvar GL_RGB5_A1$2 = 0x8057;\nvar GL_RGB565$2 = 0x8D62;\nvar GL_DEPTH_COMPONENT16$1 = 0x81A5;\nvar GL_STENCIL_INDEX8$1 = 0x8D48;\nvar GL_DEPTH_STENCIL$2 = 0x84F9;\n\nvar GL_SRGB8_ALPHA8_EXT$1 = 0x8C43;\n\nvar GL_RGBA32F_EXT$1 = 0x8814;\n\nvar GL_RGBA16F_EXT$1 = 0x881A;\nvar GL_RGB16F_EXT$1 = 0x881B;\n\nvar colorRenderbufferFormatEnums = [\n  GL_RGBA4$2,\n  GL_RGB5_A1$2,\n  GL_RGB565$2,\n  GL_SRGB8_ALPHA8_EXT$1,\n  GL_RGBA16F_EXT$1,\n  GL_RGB16F_EXT$1,\n  GL_RGBA32F_EXT$1\n];\n\nvar statusCode = {};\nstatusCode[GL_FRAMEBUFFER_COMPLETE] = 'complete';\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT] = 'incomplete attachment';\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS] = 'incomplete dimensions';\nstatusCode[GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT] = 'incomplete, missing attachment';\nstatusCode[GL_FRAMEBUFFER_UNSUPPORTED] = 'unsupported';\n\nfunction wrapFBOState (\n  gl,\n  extensions,\n  limits,\n  textureState,\n  renderbufferState,\n  stats) {\n  var framebufferState = {\n    cur: null,\n    next: null,\n    dirty: false,\n    setFBO: null\n  };\n\n  var colorTextureFormats = ['rgba'];\n  var colorRenderbufferFormats = ['rgba4', 'rgb565', 'rgb5 a1'];\n\n  if (extensions.ext_srgb) {\n    colorRenderbufferFormats.push('srgba');\n  }\n\n  if (extensions.ext_color_buffer_half_float) {\n    colorRenderbufferFormats.push('rgba16f', 'rgb16f');\n  }\n\n  if (extensions.webgl_color_buffer_float) {\n    colorRenderbufferFormats.push('rgba32f');\n  }\n\n  var colorTypes = ['uint8'];\n  if (extensions.oes_texture_half_float) {\n    colorTypes.push('half float', 'float16');\n  }\n  if (extensions.oes_texture_float) {\n    colorTypes.push('float', 'float32');\n  }\n\n  function FramebufferAttachment (target, texture, renderbuffer) {\n    this.target = target;\n    this.texture = texture;\n    this.renderbuffer = renderbuffer;\n\n    var w = 0;\n    var h = 0;\n    if (texture) {\n      w = texture.width;\n      h = texture.height;\n    } else if (renderbuffer) {\n      w = renderbuffer.width;\n      h = renderbuffer.height;\n    }\n    this.width = w;\n    this.height = h;\n  }\n\n  function decRef (attachment) {\n    if (attachment) {\n      if (attachment.texture) {\n        attachment.texture._texture.decRef();\n      }\n      if (attachment.renderbuffer) {\n        attachment.renderbuffer._renderbuffer.decRef();\n      }\n    }\n  }\n\n  function incRefAndCheckShape (attachment, width, height) {\n    if (!attachment) {\n      return\n    }\n    if (attachment.texture) {\n      var texture = attachment.texture._texture;\n      var tw = Math.max(1, texture.width);\n      var th = Math.max(1, texture.height);\n      check$1(tw === width && th === height,\n        'inconsistent width/height for supplied texture');\n      texture.refCount += 1;\n    } else {\n      var renderbuffer = attachment.renderbuffer._renderbuffer;\n      check$1(\n        renderbuffer.width === width && renderbuffer.height === height,\n        'inconsistent width/height for renderbuffer');\n      renderbuffer.refCount += 1;\n    }\n  }\n\n  function attach (location, attachment) {\n    if (attachment) {\n      if (attachment.texture) {\n        gl.framebufferTexture2D(\n          GL_FRAMEBUFFER,\n          location,\n          attachment.target,\n          attachment.texture._texture.texture,\n          0);\n      } else {\n        gl.framebufferRenderbuffer(\n          GL_FRAMEBUFFER,\n          location,\n          GL_RENDERBUFFER$1,\n          attachment.renderbuffer._renderbuffer.renderbuffer);\n      }\n    }\n  }\n\n  function parseAttachment (attachment) {\n    var target = GL_TEXTURE_2D$1;\n    var texture = null;\n    var renderbuffer = null;\n\n    var data = attachment;\n    if (typeof attachment === 'object') {\n      data = attachment.data;\n      if ('target' in attachment) {\n        target = attachment.target | 0;\n      }\n    }\n\n    check$1.type(data, 'function', 'invalid attachment data');\n\n    var type = data._reglType;\n    if (type === 'texture2d') {\n      texture = data;\n      check$1(target === GL_TEXTURE_2D$1);\n    } else if (type === 'textureCube') {\n      texture = data;\n      check$1(\n        target >= GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 &&\n        target < GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + 6,\n        'invalid cube map target');\n    } else if (type === 'renderbuffer') {\n      renderbuffer = data;\n      target = GL_RENDERBUFFER$1;\n    } else {\n      check$1.raise('invalid regl object for attachment');\n    }\n\n    return new FramebufferAttachment(target, texture, renderbuffer)\n  }\n\n  function allocAttachment (\n    width,\n    height,\n    isTexture,\n    format,\n    type) {\n    if (isTexture) {\n      var texture = textureState.create2D({\n        width: width,\n        height: height,\n        format: format,\n        type: type\n      });\n      texture._texture.refCount = 0;\n      return new FramebufferAttachment(GL_TEXTURE_2D$1, texture, null)\n    } else {\n      var rb = renderbufferState.create({\n        width: width,\n        height: height,\n        format: format\n      });\n      rb._renderbuffer.refCount = 0;\n      return new FramebufferAttachment(GL_RENDERBUFFER$1, null, rb)\n    }\n  }\n\n  function unwrapAttachment (attachment) {\n    return attachment && (attachment.texture || attachment.renderbuffer)\n  }\n\n  function resizeAttachment (attachment, w, h) {\n    if (attachment) {\n      if (attachment.texture) {\n        attachment.texture.resize(w, h);\n      } else if (attachment.renderbuffer) {\n        attachment.renderbuffer.resize(w, h);\n      }\n    }\n  }\n\n  var framebufferCount = 0;\n  var framebufferSet = {};\n\n  function REGLFramebuffer () {\n    this.id = framebufferCount++;\n    framebufferSet[this.id] = this;\n\n    this.framebuffer = gl.createFramebuffer();\n    this.width = 0;\n    this.height = 0;\n\n    this.colorAttachments = [];\n    this.depthAttachment = null;\n    this.stencilAttachment = null;\n    this.depthStencilAttachment = null;\n  }\n\n  function decFBORefs (framebuffer) {\n    framebuffer.colorAttachments.forEach(decRef);\n    decRef(framebuffer.depthAttachment);\n    decRef(framebuffer.stencilAttachment);\n    decRef(framebuffer.depthStencilAttachment);\n  }\n\n  function destroy (framebuffer) {\n    var handle = framebuffer.framebuffer;\n    check$1(handle, 'must not double destroy framebuffer');\n    gl.deleteFramebuffer(handle);\n    framebuffer.framebuffer = null;\n    stats.framebufferCount--;\n    delete framebufferSet[framebuffer.id];\n  }\n\n  function updateFramebuffer (framebuffer) {\n    var i;\n\n    gl.bindFramebuffer(GL_FRAMEBUFFER, framebuffer.framebuffer);\n    var colorAttachments = framebuffer.colorAttachments;\n    for (i = 0; i < colorAttachments.length; ++i) {\n      attach(GL_COLOR_ATTACHMENT0 + i, colorAttachments[i]);\n    }\n    for (i = colorAttachments.length; i < limits.maxColorAttachments; ++i) {\n      gl.framebufferTexture2D(\n        GL_FRAMEBUFFER,\n        GL_COLOR_ATTACHMENT0 + i,\n        GL_TEXTURE_2D$1,\n        null,\n        0);\n    }\n\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER,\n      GL_DEPTH_STENCIL_ATTACHMENT,\n      GL_TEXTURE_2D$1,\n      null,\n      0);\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER,\n      GL_DEPTH_ATTACHMENT,\n      GL_TEXTURE_2D$1,\n      null,\n      0);\n    gl.framebufferTexture2D(\n      GL_FRAMEBUFFER,\n      GL_STENCIL_ATTACHMENT,\n      GL_TEXTURE_2D$1,\n      null,\n      0);\n\n    attach(GL_DEPTH_ATTACHMENT, framebuffer.depthAttachment);\n    attach(GL_STENCIL_ATTACHMENT, framebuffer.stencilAttachment);\n    attach(GL_DEPTH_STENCIL_ATTACHMENT, framebuffer.depthStencilAttachment);\n\n    // Check status code\n    var status = gl.checkFramebufferStatus(GL_FRAMEBUFFER);\n    if (status !== GL_FRAMEBUFFER_COMPLETE) {\n      check$1.raise('framebuffer configuration not supported, status = ' +\n        statusCode[status]);\n    }\n\n    gl.bindFramebuffer(GL_FRAMEBUFFER, framebufferState.next);\n    framebufferState.cur = framebufferState.next;\n\n    // FIXME: Clear error code here.  This is a work around for a bug in\n    // headless-gl\n    gl.getError();\n  }\n\n  function createFBO (a0, a1) {\n    var framebuffer = new REGLFramebuffer();\n    stats.framebufferCount++;\n\n    function reglFramebuffer (a, b) {\n      var i;\n\n      check$1(framebufferState.next !== framebuffer,\n        'can not update framebuffer which is currently in use');\n\n      var extDrawBuffers = extensions.webgl_draw_buffers;\n\n      var width = 0;\n      var height = 0;\n\n      var needsDepth = true;\n      var needsStencil = true;\n\n      var colorBuffer = null;\n      var colorTexture = true;\n      var colorFormat = 'rgba';\n      var colorType = 'uint8';\n      var colorCount = 1;\n\n      var depthBuffer = null;\n      var stencilBuffer = null;\n      var depthStencilBuffer = null;\n      var depthStencilTexture = false;\n\n      if (typeof a === 'number') {\n        width = a | 0;\n        height = (b | 0) || width;\n      } else if (!a) {\n        width = height = 1;\n      } else {\n        check$1.type(a, 'object', 'invalid arguments for framebuffer');\n        var options = a;\n\n        if ('shape' in options) {\n          var shape = options.shape;\n          check$1(Array.isArray(shape) && shape.length >= 2,\n            'invalid shape for framebuffer');\n          width = shape[0];\n          height = shape[1];\n        } else {\n          if ('radius' in options) {\n            width = height = options.radius;\n          }\n          if ('width' in options) {\n            width = options.width;\n          }\n          if ('height' in options) {\n            height = options.height;\n          }\n        }\n\n        if ('color' in options ||\n            'colors' in options) {\n          colorBuffer =\n            options.color ||\n            options.colors;\n          if (Array.isArray(colorBuffer)) {\n            check$1(\n              colorBuffer.length === 1 || extDrawBuffers,\n              'multiple render targets not supported');\n          }\n        }\n\n        if (!colorBuffer) {\n          if ('colorCount' in options) {\n            colorCount = options.colorCount | 0;\n            check$1(colorCount > 0, 'invalid color buffer count');\n          }\n\n          if ('colorTexture' in options) {\n            colorTexture = !!options.colorTexture;\n            colorFormat = 'rgba4';\n          }\n\n          if ('colorType' in options) {\n            colorType = options.colorType;\n            if (!colorTexture) {\n              if (colorType === 'half float' || colorType === 'float16') {\n                check$1(extensions.ext_color_buffer_half_float,\n                  'you must enable EXT_color_buffer_half_float to use 16-bit render buffers');\n                colorFormat = 'rgba16f';\n              } else if (colorType === 'float' || colorType === 'float32') {\n                check$1(extensions.webgl_color_buffer_float,\n                  'you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers');\n                colorFormat = 'rgba32f';\n              }\n            } else {\n              check$1(extensions.oes_texture_float ||\n                !(colorType === 'float' || colorType === 'float32'),\n                'you must enable OES_texture_float in order to use floating point framebuffer objects');\n              check$1(extensions.oes_texture_half_float ||\n                !(colorType === 'half float' || colorType === 'float16'),\n                'you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects');\n            }\n            check$1.oneOf(colorType, colorTypes, 'invalid color type');\n          }\n\n          if ('colorFormat' in options) {\n            colorFormat = options.colorFormat;\n            if (colorTextureFormats.indexOf(colorFormat) >= 0) {\n              colorTexture = true;\n            } else if (colorRenderbufferFormats.indexOf(colorFormat) >= 0) {\n              colorTexture = false;\n            } else {\n              if (colorTexture) {\n                check$1.oneOf(\n                  options.colorFormat, colorTextureFormats,\n                  'invalid color format for texture');\n              } else {\n                check$1.oneOf(\n                  options.colorFormat, colorRenderbufferFormats,\n                  'invalid color format for renderbuffer');\n              }\n            }\n          }\n        }\n\n        if ('depthTexture' in options || 'depthStencilTexture' in options) {\n          depthStencilTexture = !!(options.depthTexture ||\n            options.depthStencilTexture);\n          check$1(!depthStencilTexture || extensions.webgl_depth_texture,\n            'webgl_depth_texture extension not supported');\n        }\n\n        if ('depth' in options) {\n          if (typeof options.depth === 'boolean') {\n            needsDepth = options.depth;\n          } else {\n            depthBuffer = options.depth;\n            needsStencil = false;\n          }\n        }\n\n        if ('stencil' in options) {\n          if (typeof options.stencil === 'boolean') {\n            needsStencil = options.stencil;\n          } else {\n            stencilBuffer = options.stencil;\n            needsDepth = false;\n          }\n        }\n\n        if ('depthStencil' in options) {\n          if (typeof options.depthStencil === 'boolean') {\n            needsDepth = needsStencil = options.depthStencil;\n          } else {\n            depthStencilBuffer = options.depthStencil;\n            needsDepth = false;\n            needsStencil = false;\n          }\n        }\n      }\n\n      // parse attachments\n      var colorAttachments = null;\n      var depthAttachment = null;\n      var stencilAttachment = null;\n      var depthStencilAttachment = null;\n\n      // Set up color attachments\n      if (Array.isArray(colorBuffer)) {\n        colorAttachments = colorBuffer.map(parseAttachment);\n      } else if (colorBuffer) {\n        colorAttachments = [parseAttachment(colorBuffer)];\n      } else {\n        colorAttachments = new Array(colorCount);\n        for (i = 0; i < colorCount; ++i) {\n          colorAttachments[i] = allocAttachment(\n            width,\n            height,\n            colorTexture,\n            colorFormat,\n            colorType);\n        }\n      }\n\n      check$1(extensions.webgl_draw_buffers || colorAttachments.length <= 1,\n        'you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.');\n      check$1(colorAttachments.length <= limits.maxColorAttachments,\n        'too many color attachments, not supported');\n\n      width = width || colorAttachments[0].width;\n      height = height || colorAttachments[0].height;\n\n      if (depthBuffer) {\n        depthAttachment = parseAttachment(depthBuffer);\n      } else if (needsDepth && !needsStencil) {\n        depthAttachment = allocAttachment(\n          width,\n          height,\n          depthStencilTexture,\n          'depth',\n          'uint32');\n      }\n\n      if (stencilBuffer) {\n        stencilAttachment = parseAttachment(stencilBuffer);\n      } else if (needsStencil && !needsDepth) {\n        stencilAttachment = allocAttachment(\n          width,\n          height,\n          false,\n          'stencil',\n          'uint8');\n      }\n\n      if (depthStencilBuffer) {\n        depthStencilAttachment = parseAttachment(depthStencilBuffer);\n      } else if (!depthBuffer && !stencilBuffer && needsStencil && needsDepth) {\n        depthStencilAttachment = allocAttachment(\n          width,\n          height,\n          depthStencilTexture,\n          'depth stencil',\n          'depth stencil');\n      }\n\n      check$1(\n        (!!depthBuffer) + (!!stencilBuffer) + (!!depthStencilBuffer) <= 1,\n        'invalid framebuffer configuration, can specify exactly one depth/stencil attachment');\n\n      var commonColorAttachmentSize = null;\n\n      for (i = 0; i < colorAttachments.length; ++i) {\n        incRefAndCheckShape(colorAttachments[i], width, height);\n        check$1(!colorAttachments[i] ||\n          (colorAttachments[i].texture &&\n            colorTextureFormatEnums.indexOf(colorAttachments[i].texture._texture.format) >= 0) ||\n          (colorAttachments[i].renderbuffer &&\n            colorRenderbufferFormatEnums.indexOf(colorAttachments[i].renderbuffer._renderbuffer.format) >= 0),\n          'framebuffer color attachment ' + i + ' is invalid');\n\n        if (colorAttachments[i] && colorAttachments[i].texture) {\n          var colorAttachmentSize =\n              textureFormatChannels[colorAttachments[i].texture._texture.format] *\n              textureTypeSizes[colorAttachments[i].texture._texture.type];\n\n          if (commonColorAttachmentSize === null) {\n            commonColorAttachmentSize = colorAttachmentSize;\n          } else {\n            // We need to make sure that all color attachments have the same number of bitplanes\n            // (that is, the same numer of bits per pixel)\n            // This is required by the GLES2.0 standard. See the beginning of Chapter 4 in that document.\n            check$1(commonColorAttachmentSize === colorAttachmentSize,\n                  'all color attachments much have the same number of bits per pixel.');\n          }\n        }\n      }\n      incRefAndCheckShape(depthAttachment, width, height);\n      check$1(!depthAttachment ||\n        (depthAttachment.texture &&\n          depthAttachment.texture._texture.format === GL_DEPTH_COMPONENT$1) ||\n        (depthAttachment.renderbuffer &&\n          depthAttachment.renderbuffer._renderbuffer.format === GL_DEPTH_COMPONENT16$1),\n        'invalid depth attachment for framebuffer object');\n      incRefAndCheckShape(stencilAttachment, width, height);\n      check$1(!stencilAttachment ||\n        (stencilAttachment.renderbuffer &&\n          stencilAttachment.renderbuffer._renderbuffer.format === GL_STENCIL_INDEX8$1),\n        'invalid stencil attachment for framebuffer object');\n      incRefAndCheckShape(depthStencilAttachment, width, height);\n      check$1(!depthStencilAttachment ||\n        (depthStencilAttachment.texture &&\n          depthStencilAttachment.texture._texture.format === GL_DEPTH_STENCIL$2) ||\n        (depthStencilAttachment.renderbuffer &&\n          depthStencilAttachment.renderbuffer._renderbuffer.format === GL_DEPTH_STENCIL$2),\n        'invalid depth-stencil attachment for framebuffer object');\n\n      // decrement references\n      decFBORefs(framebuffer);\n\n      framebuffer.width = width;\n      framebuffer.height = height;\n\n      framebuffer.colorAttachments = colorAttachments;\n      framebuffer.depthAttachment = depthAttachment;\n      framebuffer.stencilAttachment = stencilAttachment;\n      framebuffer.depthStencilAttachment = depthStencilAttachment;\n\n      reglFramebuffer.color = colorAttachments.map(unwrapAttachment);\n      reglFramebuffer.depth = unwrapAttachment(depthAttachment);\n      reglFramebuffer.stencil = unwrapAttachment(stencilAttachment);\n      reglFramebuffer.depthStencil = unwrapAttachment(depthStencilAttachment);\n\n      reglFramebuffer.width = framebuffer.width;\n      reglFramebuffer.height = framebuffer.height;\n\n      updateFramebuffer(framebuffer);\n\n      return reglFramebuffer\n    }\n\n    function resize (w_, h_) {\n      check$1(framebufferState.next !== framebuffer,\n        'can not resize a framebuffer which is currently in use');\n\n      var w = w_ | 0;\n      var h = (h_ | 0) || w;\n      if (w === framebuffer.width && h === framebuffer.height) {\n        return reglFramebuffer\n      }\n\n      // resize all buffers\n      var colorAttachments = framebuffer.colorAttachments;\n      for (var i = 0; i < colorAttachments.length; ++i) {\n        resizeAttachment(colorAttachments[i], w, h);\n      }\n      resizeAttachment(framebuffer.depthAttachment, w, h);\n      resizeAttachment(framebuffer.stencilAttachment, w, h);\n      resizeAttachment(framebuffer.depthStencilAttachment, w, h);\n\n      framebuffer.width = reglFramebuffer.width = w;\n      framebuffer.height = reglFramebuffer.height = h;\n\n      updateFramebuffer(framebuffer);\n\n      return reglFramebuffer\n    }\n\n    reglFramebuffer(a0, a1);\n\n    return extend(reglFramebuffer, {\n      resize: resize,\n      _reglType: 'framebuffer',\n      _framebuffer: framebuffer,\n      destroy: function () {\n        destroy(framebuffer);\n        decFBORefs(framebuffer);\n      },\n      use: function (block) {\n        framebufferState.setFBO({\n          framebuffer: reglFramebuffer\n        }, block);\n      }\n    })\n  }\n\n  function createCubeFBO (options) {\n    var faces = Array(6);\n\n    function reglFramebufferCube (a) {\n      var i;\n\n      check$1(faces.indexOf(framebufferState.next) < 0,\n        'can not update framebuffer which is currently in use');\n\n      var extDrawBuffers = extensions.webgl_draw_buffers;\n\n      var params = {\n        color: null\n      };\n\n      var radius = 0;\n\n      var colorBuffer = null;\n      var colorFormat = 'rgba';\n      var colorType = 'uint8';\n      var colorCount = 1;\n\n      if (typeof a === 'number') {\n        radius = a | 0;\n      } else if (!a) {\n        radius = 1;\n      } else {\n        check$1.type(a, 'object', 'invalid arguments for framebuffer');\n        var options = a;\n\n        if ('shape' in options) {\n          var shape = options.shape;\n          check$1(\n            Array.isArray(shape) && shape.length >= 2,\n            'invalid shape for framebuffer');\n          check$1(\n            shape[0] === shape[1],\n            'cube framebuffer must be square');\n          radius = shape[0];\n        } else {\n          if ('radius' in options) {\n            radius = options.radius | 0;\n          }\n          if ('width' in options) {\n            radius = options.width | 0;\n            if ('height' in options) {\n              check$1(options.height === radius, 'must be square');\n            }\n          } else if ('height' in options) {\n            radius = options.height | 0;\n          }\n        }\n\n        if ('color' in options ||\n            'colors' in options) {\n          colorBuffer =\n            options.color ||\n            options.colors;\n          if (Array.isArray(colorBuffer)) {\n            check$1(\n              colorBuffer.length === 1 || extDrawBuffers,\n              'multiple render targets not supported');\n          }\n        }\n\n        if (!colorBuffer) {\n          if ('colorCount' in options) {\n            colorCount = options.colorCount | 0;\n            check$1(colorCount > 0, 'invalid color buffer count');\n          }\n\n          if ('colorType' in options) {\n            check$1.oneOf(\n              options.colorType, colorTypes,\n              'invalid color type');\n            colorType = options.colorType;\n          }\n\n          if ('colorFormat' in options) {\n            colorFormat = options.colorFormat;\n            check$1.oneOf(\n              options.colorFormat, colorTextureFormats,\n              'invalid color format for texture');\n          }\n        }\n\n        if ('depth' in options) {\n          params.depth = options.depth;\n        }\n\n        if ('stencil' in options) {\n          params.stencil = options.stencil;\n        }\n\n        if ('depthStencil' in options) {\n          params.depthStencil = options.depthStencil;\n        }\n      }\n\n      var colorCubes;\n      if (colorBuffer) {\n        if (Array.isArray(colorBuffer)) {\n          colorCubes = [];\n          for (i = 0; i < colorBuffer.length; ++i) {\n            colorCubes[i] = colorBuffer[i];\n          }\n        } else {\n          colorCubes = [ colorBuffer ];\n        }\n      } else {\n        colorCubes = Array(colorCount);\n        var cubeMapParams = {\n          radius: radius,\n          format: colorFormat,\n          type: colorType\n        };\n        for (i = 0; i < colorCount; ++i) {\n          colorCubes[i] = textureState.createCube(cubeMapParams);\n        }\n      }\n\n      // Check color cubes\n      params.color = Array(colorCubes.length);\n      for (i = 0; i < colorCubes.length; ++i) {\n        var cube = colorCubes[i];\n        check$1(\n          typeof cube === 'function' && cube._reglType === 'textureCube',\n          'invalid cube map');\n        radius = radius || cube.width;\n        check$1(\n          cube.width === radius && cube.height === radius,\n          'invalid cube map shape');\n        params.color[i] = {\n          target: GL_TEXTURE_CUBE_MAP_POSITIVE_X$1,\n          data: colorCubes[i]\n        };\n      }\n\n      for (i = 0; i < 6; ++i) {\n        for (var j = 0; j < colorCubes.length; ++j) {\n          params.color[j].target = GL_TEXTURE_CUBE_MAP_POSITIVE_X$1 + i;\n        }\n        // reuse depth-stencil attachments across all cube maps\n        if (i > 0) {\n          params.depth = faces[0].depth;\n          params.stencil = faces[0].stencil;\n          params.depthStencil = faces[0].depthStencil;\n        }\n        if (faces[i]) {\n          (faces[i])(params);\n        } else {\n          faces[i] = createFBO(params);\n        }\n      }\n\n      return extend(reglFramebufferCube, {\n        width: radius,\n        height: radius,\n        color: colorCubes\n      })\n    }\n\n    function resize (radius_) {\n      var i;\n      var radius = radius_ | 0;\n      check$1(radius > 0 && radius <= limits.maxCubeMapSize,\n        'invalid radius for cube fbo');\n\n      if (radius === reglFramebufferCube.width) {\n        return reglFramebufferCube\n      }\n\n      var colors = reglFramebufferCube.color;\n      for (i = 0; i < colors.length; ++i) {\n        colors[i].resize(radius);\n      }\n\n      for (i = 0; i < 6; ++i) {\n        faces[i].resize(radius);\n      }\n\n      reglFramebufferCube.width = reglFramebufferCube.height = radius;\n\n      return reglFramebufferCube\n    }\n\n    reglFramebufferCube(options);\n\n    return extend(reglFramebufferCube, {\n      faces: faces,\n      resize: resize,\n      _reglType: 'framebufferCube',\n      destroy: function () {\n        faces.forEach(function (f) {\n          f.destroy();\n        });\n      }\n    })\n  }\n\n  function restoreFramebuffers () {\n    values(framebufferSet).forEach(function (fb) {\n      fb.framebuffer = gl.createFramebuffer();\n      updateFramebuffer(fb);\n    });\n  }\n\n  return extend(framebufferState, {\n    getFramebuffer: function (object) {\n      if (typeof object === 'function' && object._reglType === 'framebuffer') {\n        var fbo = object._framebuffer;\n        if (fbo instanceof REGLFramebuffer) {\n          return fbo\n        }\n      }\n      return null\n    },\n    create: createFBO,\n    createCube: createCubeFBO,\n    clear: function () {\n      values(framebufferSet).forEach(destroy);\n    },\n    restore: restoreFramebuffers\n  })\n}\n\nvar GL_FLOAT$5 = 5126;\n\nfunction AttributeRecord () {\n  this.state = 0;\n\n  this.x = 0.0;\n  this.y = 0.0;\n  this.z = 0.0;\n  this.w = 0.0;\n\n  this.buffer = null;\n  this.size = 0;\n  this.normalized = false;\n  this.type = GL_FLOAT$5;\n  this.offset = 0;\n  this.stride = 0;\n  this.divisor = 0;\n}\n\nfunction wrapAttributeState (\n  gl,\n  extensions,\n  limits,\n  bufferState,\n  stringStore) {\n  var NUM_ATTRIBUTES = limits.maxAttributes;\n  var attributeBindings = new Array(NUM_ATTRIBUTES);\n  for (var i = 0; i < NUM_ATTRIBUTES; ++i) {\n    attributeBindings[i] = new AttributeRecord();\n  }\n\n  return {\n    Record: AttributeRecord,\n    scope: {},\n    state: attributeBindings\n  }\n}\n\nvar GL_FRAGMENT_SHADER = 35632;\nvar GL_VERTEX_SHADER = 35633;\n\nvar GL_ACTIVE_UNIFORMS = 0x8B86;\nvar GL_ACTIVE_ATTRIBUTES = 0x8B89;\n\nfunction wrapShaderState (gl, stringStore, stats, config) {\n  // ===================================================\n  // glsl compilation and linking\n  // ===================================================\n  var fragShaders = {};\n  var vertShaders = {};\n\n  function ActiveInfo (name, id, location, info) {\n    this.name = name;\n    this.id = id;\n    this.location = location;\n    this.info = info;\n  }\n\n  function insertActiveInfo (list, info) {\n    for (var i = 0; i < list.length; ++i) {\n      if (list[i].id === info.id) {\n        list[i].location = info.location;\n        return\n      }\n    }\n    list.push(info);\n  }\n\n  function getShader (type, id, command) {\n    var cache = type === GL_FRAGMENT_SHADER ? fragShaders : vertShaders;\n    var shader = cache[id];\n\n    if (!shader) {\n      var source = stringStore.str(id);\n      shader = gl.createShader(type);\n      gl.shaderSource(shader, source);\n      gl.compileShader(shader);\n      check$1.shaderError(gl, shader, source, type, command);\n      cache[id] = shader;\n    }\n\n    return shader\n  }\n\n  // ===================================================\n  // program linking\n  // ===================================================\n  var programCache = {};\n  var programList = [];\n\n  var PROGRAM_COUNTER = 0;\n\n  function REGLProgram (fragId, vertId) {\n    this.id = PROGRAM_COUNTER++;\n    this.fragId = fragId;\n    this.vertId = vertId;\n    this.program = null;\n    this.uniforms = [];\n    this.attributes = [];\n\n    if (config.profile) {\n      this.stats = {\n        uniformsCount: 0,\n        attributesCount: 0\n      };\n    }\n  }\n\n  function linkProgram (desc, command) {\n    var i, info;\n\n    // -------------------------------\n    // compile & link\n    // -------------------------------\n    var fragShader = getShader(GL_FRAGMENT_SHADER, desc.fragId);\n    var vertShader = getShader(GL_VERTEX_SHADER, desc.vertId);\n\n    var program = desc.program = gl.createProgram();\n    gl.attachShader(program, fragShader);\n    gl.attachShader(program, vertShader);\n    gl.linkProgram(program);\n    check$1.linkError(\n      gl,\n      program,\n      stringStore.str(desc.fragId),\n      stringStore.str(desc.vertId),\n      command);\n\n    // -------------------------------\n    // grab uniforms\n    // -------------------------------\n    var numUniforms = gl.getProgramParameter(program, GL_ACTIVE_UNIFORMS);\n    if (config.profile) {\n      desc.stats.uniformsCount = numUniforms;\n    }\n    var uniforms = desc.uniforms;\n    for (i = 0; i < numUniforms; ++i) {\n      info = gl.getActiveUniform(program, i);\n      if (info) {\n        if (info.size > 1) {\n          for (var j = 0; j < info.size; ++j) {\n            var name = info.name.replace('[0]', '[' + j + ']');\n            insertActiveInfo(uniforms, new ActiveInfo(\n              name,\n              stringStore.id(name),\n              gl.getUniformLocation(program, name),\n              info));\n          }\n        } else {\n          insertActiveInfo(uniforms, new ActiveInfo(\n            info.name,\n            stringStore.id(info.name),\n            gl.getUniformLocation(program, info.name),\n            info));\n        }\n      }\n    }\n\n    // -------------------------------\n    // grab attributes\n    // -------------------------------\n    var numAttributes = gl.getProgramParameter(program, GL_ACTIVE_ATTRIBUTES);\n    if (config.profile) {\n      desc.stats.attributesCount = numAttributes;\n    }\n\n    var attributes = desc.attributes;\n    for (i = 0; i < numAttributes; ++i) {\n      info = gl.getActiveAttrib(program, i);\n      if (info) {\n        insertActiveInfo(attributes, new ActiveInfo(\n          info.name,\n          stringStore.id(info.name),\n          gl.getAttribLocation(program, info.name),\n          info));\n      }\n    }\n  }\n\n  if (config.profile) {\n    stats.getMaxUniformsCount = function () {\n      var m = 0;\n      programList.forEach(function (desc) {\n        if (desc.stats.uniformsCount > m) {\n          m = desc.stats.uniformsCount;\n        }\n      });\n      return m\n    };\n\n    stats.getMaxAttributesCount = function () {\n      var m = 0;\n      programList.forEach(function (desc) {\n        if (desc.stats.attributesCount > m) {\n          m = desc.stats.attributesCount;\n        }\n      });\n      return m\n    };\n  }\n\n  function restoreShaders () {\n    fragShaders = {};\n    vertShaders = {};\n    for (var i = 0; i < programList.length; ++i) {\n      linkProgram(programList[i]);\n    }\n  }\n\n  return {\n    clear: function () {\n      var deleteShader = gl.deleteShader.bind(gl);\n      values(fragShaders).forEach(deleteShader);\n      fragShaders = {};\n      values(vertShaders).forEach(deleteShader);\n      vertShaders = {};\n\n      programList.forEach(function (desc) {\n        gl.deleteProgram(desc.program);\n      });\n      programList.length = 0;\n      programCache = {};\n\n      stats.shaderCount = 0;\n    },\n\n    program: function (vertId, fragId, command) {\n      check$1.command(vertId >= 0, 'missing vertex shader', command);\n      check$1.command(fragId >= 0, 'missing fragment shader', command);\n\n      var cache = programCache[fragId];\n      if (!cache) {\n        cache = programCache[fragId] = {};\n      }\n      var program = cache[vertId];\n      if (!program) {\n        program = new REGLProgram(fragId, vertId);\n        stats.shaderCount++;\n\n        linkProgram(program, command);\n        cache[vertId] = program;\n        programList.push(program);\n      }\n      return program\n    },\n\n    restore: restoreShaders,\n\n    shader: getShader,\n\n    frag: -1,\n    vert: -1\n  }\n}\n\nvar GL_RGBA$2 = 6408;\nvar GL_UNSIGNED_BYTE$6 = 5121;\nvar GL_PACK_ALIGNMENT = 0x0D05;\nvar GL_FLOAT$6 = 0x1406; // 5126\n\nfunction wrapReadPixels (\n  gl,\n  framebufferState,\n  reglPoll,\n  context,\n  glAttributes,\n  extensions) {\n  function readPixelsImpl (input) {\n    var type;\n    if (framebufferState.next === null) {\n      check$1(\n        glAttributes.preserveDrawingBuffer,\n        'you must create a webgl context with \"preserveDrawingBuffer\":true in order to read pixels from the drawing buffer');\n      type = GL_UNSIGNED_BYTE$6;\n    } else {\n      check$1(\n        framebufferState.next.colorAttachments[0].texture !== null,\n          'You cannot read from a renderbuffer');\n      type = framebufferState.next.colorAttachments[0].texture._texture.type;\n\n      if (extensions.oes_texture_float) {\n        check$1(\n          type === GL_UNSIGNED_BYTE$6 || type === GL_FLOAT$6,\n          'Reading from a framebuffer is only allowed for the types \\'uint8\\' and \\'float\\'');\n      } else {\n        check$1(\n          type === GL_UNSIGNED_BYTE$6,\n          'Reading from a framebuffer is only allowed for the type \\'uint8\\'');\n      }\n    }\n\n    var x = 0;\n    var y = 0;\n    var width = context.framebufferWidth;\n    var height = context.framebufferHeight;\n    var data = null;\n\n    if (isTypedArray(input)) {\n      data = input;\n    } else if (input) {\n      check$1.type(input, 'object', 'invalid arguments to regl.read()');\n      x = input.x | 0;\n      y = input.y | 0;\n      check$1(\n        x >= 0 && x < context.framebufferWidth,\n        'invalid x offset for regl.read');\n      check$1(\n        y >= 0 && y < context.framebufferHeight,\n        'invalid y offset for regl.read');\n      width = (input.width || (context.framebufferWidth - x)) | 0;\n      height = (input.height || (context.framebufferHeight - y)) | 0;\n      data = input.data || null;\n    }\n\n    // sanity check input.data\n    if (data) {\n      if (type === GL_UNSIGNED_BYTE$6) {\n        check$1(\n          data instanceof Uint8Array,\n          'buffer must be \\'Uint8Array\\' when reading from a framebuffer of type \\'uint8\\'');\n      } else if (type === GL_FLOAT$6) {\n        check$1(\n          data instanceof Float32Array,\n          'buffer must be \\'Float32Array\\' when reading from a framebuffer of type \\'float\\'');\n      }\n    }\n\n    check$1(\n      width > 0 && width + x <= context.framebufferWidth,\n      'invalid width for read pixels');\n    check$1(\n      height > 0 && height + y <= context.framebufferHeight,\n      'invalid height for read pixels');\n\n    // Update WebGL state\n    reglPoll();\n\n    // Compute size\n    var size = width * height * 4;\n\n    // Allocate data\n    if (!data) {\n      if (type === GL_UNSIGNED_BYTE$6) {\n        data = new Uint8Array(size);\n      } else if (type === GL_FLOAT$6) {\n        data = data || new Float32Array(size);\n      }\n    }\n\n    // Type check\n    check$1.isTypedArray(data, 'data buffer for regl.read() must be a typedarray');\n    check$1(data.byteLength >= size, 'data buffer for regl.read() too small');\n\n    // Run read pixels\n    gl.pixelStorei(GL_PACK_ALIGNMENT, 4);\n    gl.readPixels(x, y, width, height, GL_RGBA$2,\n                  type,\n                  data);\n\n    return data\n  }\n\n  function readPixelsFBO (options) {\n    var result;\n    framebufferState.setFBO({\n      framebuffer: options.framebuffer\n    }, function () {\n      result = readPixelsImpl(options);\n    });\n    return result\n  }\n\n  function readPixels (options) {\n    if (!options || !('framebuffer' in options)) {\n      return readPixelsImpl(options)\n    } else {\n      return readPixelsFBO(options)\n    }\n  }\n\n  return readPixels\n}\n\nfunction slice (x) {\n  return Array.prototype.slice.call(x)\n}\n\nfunction join (x) {\n  return slice(x).join('')\n}\n\nfunction createEnvironment () {\n  // Unique variable id counter\n  var varCounter = 0;\n\n  // Linked values are passed from this scope into the generated code block\n  // Calling link() passes a value into the generated scope and returns\n  // the variable name which it is bound to\n  var linkedNames = [];\n  var linkedValues = [];\n  function link (value) {\n    for (var i = 0; i < linkedValues.length; ++i) {\n      if (linkedValues[i] === value) {\n        return linkedNames[i]\n      }\n    }\n\n    var name = 'g' + (varCounter++);\n    linkedNames.push(name);\n    linkedValues.push(value);\n    return name\n  }\n\n  // create a code block\n  function block () {\n    var code = [];\n    function push () {\n      code.push.apply(code, slice(arguments));\n    }\n\n    var vars = [];\n    function def () {\n      var name = 'v' + (varCounter++);\n      vars.push(name);\n\n      if (arguments.length > 0) {\n        code.push(name, '=');\n        code.push.apply(code, slice(arguments));\n        code.push(';');\n      }\n\n      return name\n    }\n\n    return extend(push, {\n      def: def,\n      toString: function () {\n        return join([\n          (vars.length > 0 ? 'var ' + vars + ';' : ''),\n          join(code)\n        ])\n      }\n    })\n  }\n\n  function scope () {\n    var entry = block();\n    var exit = block();\n\n    var entryToString = entry.toString;\n    var exitToString = exit.toString;\n\n    function save (object, prop) {\n      exit(object, prop, '=', entry.def(object, prop), ';');\n    }\n\n    return extend(function () {\n      entry.apply(entry, slice(arguments));\n    }, {\n      def: entry.def,\n      entry: entry,\n      exit: exit,\n      save: save,\n      set: function (object, prop, value) {\n        save(object, prop);\n        entry(object, prop, '=', value, ';');\n      },\n      toString: function () {\n        return entryToString() + exitToString()\n      }\n    })\n  }\n\n  function conditional () {\n    var pred = join(arguments);\n    var thenBlock = scope();\n    var elseBlock = scope();\n\n    var thenToString = thenBlock.toString;\n    var elseToString = elseBlock.toString;\n\n    return extend(thenBlock, {\n      then: function () {\n        thenBlock.apply(thenBlock, slice(arguments));\n        return this\n      },\n      else: function () {\n        elseBlock.apply(elseBlock, slice(arguments));\n        return this\n      },\n      toString: function () {\n        var elseClause = elseToString();\n        if (elseClause) {\n          elseClause = 'else{' + elseClause + '}';\n        }\n        return join([\n          'if(', pred, '){',\n          thenToString(),\n          '}', elseClause\n        ])\n      }\n    })\n  }\n\n  // procedure list\n  var globalBlock = block();\n  var procedures = {};\n  function proc (name, count) {\n    var args = [];\n    function arg () {\n      var name = 'a' + args.length;\n      args.push(name);\n      return name\n    }\n\n    count = count || 0;\n    for (var i = 0; i < count; ++i) {\n      arg();\n    }\n\n    var body = scope();\n    var bodyToString = body.toString;\n\n    var result = procedures[name] = extend(body, {\n      arg: arg,\n      toString: function () {\n        return join([\n          'function(', args.join(), '){',\n          bodyToString(),\n          '}'\n        ])\n      }\n    });\n\n    return result\n  }\n\n  function compile () {\n    var code = ['\"use strict\";',\n      globalBlock,\n      'return {'];\n    Object.keys(procedures).forEach(function (name) {\n      code.push('\"', name, '\":', procedures[name].toString(), ',');\n    });\n    code.push('}');\n    var src = join(code)\n      .replace(/;/g, ';\\n')\n      .replace(/}/g, '}\\n')\n      .replace(/{/g, '{\\n');\n    var proc = Function.apply(null, linkedNames.concat(src));\n    return proc.apply(null, linkedValues)\n  }\n\n  return {\n    global: globalBlock,\n    link: link,\n    block: block,\n    proc: proc,\n    scope: scope,\n    cond: conditional,\n    compile: compile\n  }\n}\n\n// \"cute\" names for vector components\nvar CUTE_COMPONENTS = 'xyzw'.split('');\n\nvar GL_UNSIGNED_BYTE$7 = 5121;\n\nvar ATTRIB_STATE_POINTER = 1;\nvar ATTRIB_STATE_CONSTANT = 2;\n\nvar DYN_FUNC$1 = 0;\nvar DYN_PROP$1 = 1;\nvar DYN_CONTEXT$1 = 2;\nvar DYN_STATE$1 = 3;\nvar DYN_THUNK = 4;\n\nvar S_DITHER = 'dither';\nvar S_BLEND_ENABLE = 'blend.enable';\nvar S_BLEND_COLOR = 'blend.color';\nvar S_BLEND_EQUATION = 'blend.equation';\nvar S_BLEND_FUNC = 'blend.func';\nvar S_DEPTH_ENABLE = 'depth.enable';\nvar S_DEPTH_FUNC = 'depth.func';\nvar S_DEPTH_RANGE = 'depth.range';\nvar S_DEPTH_MASK = 'depth.mask';\nvar S_COLOR_MASK = 'colorMask';\nvar S_CULL_ENABLE = 'cull.enable';\nvar S_CULL_FACE = 'cull.face';\nvar S_FRONT_FACE = 'frontFace';\nvar S_LINE_WIDTH = 'lineWidth';\nvar S_POLYGON_OFFSET_ENABLE = 'polygonOffset.enable';\nvar S_POLYGON_OFFSET_OFFSET = 'polygonOffset.offset';\nvar S_SAMPLE_ALPHA = 'sample.alpha';\nvar S_SAMPLE_ENABLE = 'sample.enable';\nvar S_SAMPLE_COVERAGE = 'sample.coverage';\nvar S_STENCIL_ENABLE = 'stencil.enable';\nvar S_STENCIL_MASK = 'stencil.mask';\nvar S_STENCIL_FUNC = 'stencil.func';\nvar S_STENCIL_OPFRONT = 'stencil.opFront';\nvar S_STENCIL_OPBACK = 'stencil.opBack';\nvar S_SCISSOR_ENABLE = 'scissor.enable';\nvar S_SCISSOR_BOX = 'scissor.box';\nvar S_VIEWPORT = 'viewport';\n\nvar S_PROFILE = 'profile';\n\nvar S_FRAMEBUFFER = 'framebuffer';\nvar S_VERT = 'vert';\nvar S_FRAG = 'frag';\nvar S_ELEMENTS = 'elements';\nvar S_PRIMITIVE = 'primitive';\nvar S_COUNT = 'count';\nvar S_OFFSET = 'offset';\nvar S_INSTANCES = 'instances';\n\nvar SUFFIX_WIDTH = 'Width';\nvar SUFFIX_HEIGHT = 'Height';\n\nvar S_FRAMEBUFFER_WIDTH = S_FRAMEBUFFER + SUFFIX_WIDTH;\nvar S_FRAMEBUFFER_HEIGHT = S_FRAMEBUFFER + SUFFIX_HEIGHT;\nvar S_VIEWPORT_WIDTH = S_VIEWPORT + SUFFIX_WIDTH;\nvar S_VIEWPORT_HEIGHT = S_VIEWPORT + SUFFIX_HEIGHT;\nvar S_DRAWINGBUFFER = 'drawingBuffer';\nvar S_DRAWINGBUFFER_WIDTH = S_DRAWINGBUFFER + SUFFIX_WIDTH;\nvar S_DRAWINGBUFFER_HEIGHT = S_DRAWINGBUFFER + SUFFIX_HEIGHT;\n\nvar NESTED_OPTIONS = [\n  S_BLEND_FUNC,\n  S_BLEND_EQUATION,\n  S_STENCIL_FUNC,\n  S_STENCIL_OPFRONT,\n  S_STENCIL_OPBACK,\n  S_SAMPLE_COVERAGE,\n  S_VIEWPORT,\n  S_SCISSOR_BOX,\n  S_POLYGON_OFFSET_OFFSET\n];\n\nvar GL_ARRAY_BUFFER$1 = 34962;\nvar GL_ELEMENT_ARRAY_BUFFER$1 = 34963;\n\nvar GL_FRAGMENT_SHADER$1 = 35632;\nvar GL_VERTEX_SHADER$1 = 35633;\n\nvar GL_TEXTURE_2D$2 = 0x0DE1;\nvar GL_TEXTURE_CUBE_MAP$1 = 0x8513;\n\nvar GL_CULL_FACE = 0x0B44;\nvar GL_BLEND = 0x0BE2;\nvar GL_DITHER = 0x0BD0;\nvar GL_STENCIL_TEST = 0x0B90;\nvar GL_DEPTH_TEST = 0x0B71;\nvar GL_SCISSOR_TEST = 0x0C11;\nvar GL_POLYGON_OFFSET_FILL = 0x8037;\nvar GL_SAMPLE_ALPHA_TO_COVERAGE = 0x809E;\nvar GL_SAMPLE_COVERAGE = 0x80A0;\n\nvar GL_FLOAT$7 = 5126;\nvar GL_FLOAT_VEC2 = 35664;\nvar GL_FLOAT_VEC3 = 35665;\nvar GL_FLOAT_VEC4 = 35666;\nvar GL_INT$3 = 5124;\nvar GL_INT_VEC2 = 35667;\nvar GL_INT_VEC3 = 35668;\nvar GL_INT_VEC4 = 35669;\nvar GL_BOOL = 35670;\nvar GL_BOOL_VEC2 = 35671;\nvar GL_BOOL_VEC3 = 35672;\nvar GL_BOOL_VEC4 = 35673;\nvar GL_FLOAT_MAT2 = 35674;\nvar GL_FLOAT_MAT3 = 35675;\nvar GL_FLOAT_MAT4 = 35676;\nvar GL_SAMPLER_2D = 35678;\nvar GL_SAMPLER_CUBE = 35680;\n\nvar GL_TRIANGLES$1 = 4;\n\nvar GL_FRONT = 1028;\nvar GL_BACK = 1029;\nvar GL_CW = 0x0900;\nvar GL_CCW = 0x0901;\nvar GL_MIN_EXT = 0x8007;\nvar GL_MAX_EXT = 0x8008;\nvar GL_ALWAYS = 519;\nvar GL_KEEP = 7680;\nvar GL_ZERO = 0;\nvar GL_ONE = 1;\nvar GL_FUNC_ADD = 0x8006;\nvar GL_LESS = 513;\n\nvar GL_FRAMEBUFFER$1 = 0x8D40;\nvar GL_COLOR_ATTACHMENT0$1 = 0x8CE0;\n\nvar blendFuncs = {\n  '0': 0,\n  '1': 1,\n  'zero': 0,\n  'one': 1,\n  'src color': 768,\n  'one minus src color': 769,\n  'src alpha': 770,\n  'one minus src alpha': 771,\n  'dst color': 774,\n  'one minus dst color': 775,\n  'dst alpha': 772,\n  'one minus dst alpha': 773,\n  'constant color': 32769,\n  'one minus constant color': 32770,\n  'constant alpha': 32771,\n  'one minus constant alpha': 32772,\n  'src alpha saturate': 776\n};\n\n// There are invalid values for srcRGB and dstRGB. See:\n// https://www.khronos.org/registry/webgl/specs/1.0/#6.13\n// https://github.com/KhronosGroup/WebGL/blob/0d3201f5f7ec3c0060bc1f04077461541f1987b9/conformance-suites/1.0.3/conformance/misc/webgl-specific.html#L56\nvar invalidBlendCombinations = [\n  'constant color, constant alpha',\n  'one minus constant color, constant alpha',\n  'constant color, one minus constant alpha',\n  'one minus constant color, one minus constant alpha',\n  'constant alpha, constant color',\n  'constant alpha, one minus constant color',\n  'one minus constant alpha, constant color',\n  'one minus constant alpha, one minus constant color'\n];\n\nvar compareFuncs = {\n  'never': 512,\n  'less': 513,\n  '<': 513,\n  'equal': 514,\n  '=': 514,\n  '==': 514,\n  '===': 514,\n  'lequal': 515,\n  '<=': 515,\n  'greater': 516,\n  '>': 516,\n  'notequal': 517,\n  '!=': 517,\n  '!==': 517,\n  'gequal': 518,\n  '>=': 518,\n  'always': 519\n};\n\nvar stencilOps = {\n  '0': 0,\n  'zero': 0,\n  'keep': 7680,\n  'replace': 7681,\n  'increment': 7682,\n  'decrement': 7683,\n  'increment wrap': 34055,\n  'decrement wrap': 34056,\n  'invert': 5386\n};\n\nvar shaderType = {\n  'frag': GL_FRAGMENT_SHADER$1,\n  'vert': GL_VERTEX_SHADER$1\n};\n\nvar orientationType = {\n  'cw': GL_CW,\n  'ccw': GL_CCW\n};\n\nfunction isBufferArgs (x) {\n  return Array.isArray(x) ||\n    isTypedArray(x) ||\n    isNDArrayLike(x)\n}\n\n// Make sure viewport is processed first\nfunction sortState (state) {\n  return state.sort(function (a, b) {\n    if (a === S_VIEWPORT) {\n      return -1\n    } else if (b === S_VIEWPORT) {\n      return 1\n    }\n    return (a < b) ? -1 : 1\n  })\n}\n\nfunction Declaration (thisDep, contextDep, propDep, append) {\n  this.thisDep = thisDep;\n  this.contextDep = contextDep;\n  this.propDep = propDep;\n  this.append = append;\n}\n\nfunction isStatic (decl) {\n  return decl && !(decl.thisDep || decl.contextDep || decl.propDep)\n}\n\nfunction createStaticDecl (append) {\n  return new Declaration(false, false, false, append)\n}\n\nfunction createDynamicDecl (dyn, append) {\n  var type = dyn.type;\n  if (type === DYN_FUNC$1) {\n    var numArgs = dyn.data.length;\n    return new Declaration(\n      true,\n      numArgs >= 1,\n      numArgs >= 2,\n      append)\n  } else if (type === DYN_THUNK) {\n    var data = dyn.data;\n    return new Declaration(\n      data.thisDep,\n      data.contextDep,\n      data.propDep,\n      append)\n  } else {\n    return new Declaration(\n      type === DYN_STATE$1,\n      type === DYN_CONTEXT$1,\n      type === DYN_PROP$1,\n      append)\n  }\n}\n\nvar SCOPE_DECL = new Declaration(false, false, false, function () {});\n\nfunction reglCore (\n  gl,\n  stringStore,\n  extensions,\n  limits,\n  bufferState,\n  elementState,\n  textureState,\n  framebufferState,\n  uniformState,\n  attributeState,\n  shaderState,\n  drawState,\n  contextState,\n  timer,\n  config) {\n  var AttributeRecord = attributeState.Record;\n\n  var blendEquations = {\n    'add': 32774,\n    'subtract': 32778,\n    'reverse subtract': 32779\n  };\n  if (extensions.ext_blend_minmax) {\n    blendEquations.min = GL_MIN_EXT;\n    blendEquations.max = GL_MAX_EXT;\n  }\n\n  var extInstancing = extensions.angle_instanced_arrays;\n  var extDrawBuffers = extensions.webgl_draw_buffers;\n\n  // ===================================================\n  // ===================================================\n  // WEBGL STATE\n  // ===================================================\n  // ===================================================\n  var currentState = {\n    dirty: true,\n    profile: config.profile\n  };\n  var nextState = {};\n  var GL_STATE_NAMES = [];\n  var GL_FLAGS = {};\n  var GL_VARIABLES = {};\n\n  function propName (name) {\n    return name.replace('.', '_')\n  }\n\n  function stateFlag (sname, cap, init) {\n    var name = propName(sname);\n    GL_STATE_NAMES.push(sname);\n    nextState[name] = currentState[name] = !!init;\n    GL_FLAGS[name] = cap;\n  }\n\n  function stateVariable (sname, func, init) {\n    var name = propName(sname);\n    GL_STATE_NAMES.push(sname);\n    if (Array.isArray(init)) {\n      currentState[name] = init.slice();\n      nextState[name] = init.slice();\n    } else {\n      currentState[name] = nextState[name] = init;\n    }\n    GL_VARIABLES[name] = func;\n  }\n\n  // Dithering\n  stateFlag(S_DITHER, GL_DITHER);\n\n  // Blending\n  stateFlag(S_BLEND_ENABLE, GL_BLEND);\n  stateVariable(S_BLEND_COLOR, 'blendColor', [0, 0, 0, 0]);\n  stateVariable(S_BLEND_EQUATION, 'blendEquationSeparate',\n    [GL_FUNC_ADD, GL_FUNC_ADD]);\n  stateVariable(S_BLEND_FUNC, 'blendFuncSeparate',\n    [GL_ONE, GL_ZERO, GL_ONE, GL_ZERO]);\n\n  // Depth\n  stateFlag(S_DEPTH_ENABLE, GL_DEPTH_TEST, true);\n  stateVariable(S_DEPTH_FUNC, 'depthFunc', GL_LESS);\n  stateVariable(S_DEPTH_RANGE, 'depthRange', [0, 1]);\n  stateVariable(S_DEPTH_MASK, 'depthMask', true);\n\n  // Color mask\n  stateVariable(S_COLOR_MASK, S_COLOR_MASK, [true, true, true, true]);\n\n  // Face culling\n  stateFlag(S_CULL_ENABLE, GL_CULL_FACE);\n  stateVariable(S_CULL_FACE, 'cullFace', GL_BACK);\n\n  // Front face orientation\n  stateVariable(S_FRONT_FACE, S_FRONT_FACE, GL_CCW);\n\n  // Line width\n  stateVariable(S_LINE_WIDTH, S_LINE_WIDTH, 1);\n\n  // Polygon offset\n  stateFlag(S_POLYGON_OFFSET_ENABLE, GL_POLYGON_OFFSET_FILL);\n  stateVariable(S_POLYGON_OFFSET_OFFSET, 'polygonOffset', [0, 0]);\n\n  // Sample coverage\n  stateFlag(S_SAMPLE_ALPHA, GL_SAMPLE_ALPHA_TO_COVERAGE);\n  stateFlag(S_SAMPLE_ENABLE, GL_SAMPLE_COVERAGE);\n  stateVariable(S_SAMPLE_COVERAGE, 'sampleCoverage', [1, false]);\n\n  // Stencil\n  stateFlag(S_STENCIL_ENABLE, GL_STENCIL_TEST);\n  stateVariable(S_STENCIL_MASK, 'stencilMask', -1);\n  stateVariable(S_STENCIL_FUNC, 'stencilFunc', [GL_ALWAYS, 0, -1]);\n  stateVariable(S_STENCIL_OPFRONT, 'stencilOpSeparate',\n    [GL_FRONT, GL_KEEP, GL_KEEP, GL_KEEP]);\n  stateVariable(S_STENCIL_OPBACK, 'stencilOpSeparate',\n    [GL_BACK, GL_KEEP, GL_KEEP, GL_KEEP]);\n\n  // Scissor\n  stateFlag(S_SCISSOR_ENABLE, GL_SCISSOR_TEST);\n  stateVariable(S_SCISSOR_BOX, 'scissor',\n    [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight]);\n\n  // Viewport\n  stateVariable(S_VIEWPORT, S_VIEWPORT,\n    [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight]);\n\n  // ===================================================\n  // ===================================================\n  // ENVIRONMENT\n  // ===================================================\n  // ===================================================\n  var sharedState = {\n    gl: gl,\n    context: contextState,\n    strings: stringStore,\n    next: nextState,\n    current: currentState,\n    draw: drawState,\n    elements: elementState,\n    buffer: bufferState,\n    shader: shaderState,\n    attributes: attributeState.state,\n    uniforms: uniformState,\n    framebuffer: framebufferState,\n    extensions: extensions,\n\n    timer: timer,\n    isBufferArgs: isBufferArgs\n  };\n\n  var sharedConstants = {\n    primTypes: primTypes,\n    compareFuncs: compareFuncs,\n    blendFuncs: blendFuncs,\n    blendEquations: blendEquations,\n    stencilOps: stencilOps,\n    glTypes: glTypes,\n    orientationType: orientationType\n  };\n\n  check$1.optional(function () {\n    sharedState.isArrayLike = isArrayLike;\n  });\n\n  if (extDrawBuffers) {\n    sharedConstants.backBuffer = [GL_BACK];\n    sharedConstants.drawBuffer = loop(limits.maxDrawbuffers, function (i) {\n      if (i === 0) {\n        return [0]\n      }\n      return loop(i, function (j) {\n        return GL_COLOR_ATTACHMENT0$1 + j\n      })\n    });\n  }\n\n  var drawCallCounter = 0;\n  function createREGLEnvironment () {\n    var env = createEnvironment();\n    var link = env.link;\n    var global = env.global;\n    env.id = drawCallCounter++;\n\n    env.batchId = '0';\n\n    // link shared state\n    var SHARED = link(sharedState);\n    var shared = env.shared = {\n      props: 'a0'\n    };\n    Object.keys(sharedState).forEach(function (prop) {\n      shared[prop] = global.def(SHARED, '.', prop);\n    });\n\n    // Inject runtime assertion stuff for debug builds\n    check$1.optional(function () {\n      env.CHECK = link(check$1);\n      env.commandStr = check$1.guessCommand();\n      env.command = link(env.commandStr);\n      env.assert = function (block, pred, message) {\n        block(\n          'if(!(', pred, '))',\n          this.CHECK, '.commandRaise(', link(message), ',', this.command, ');');\n      };\n\n      sharedConstants.invalidBlendCombinations = invalidBlendCombinations;\n    });\n\n    // Copy GL state variables over\n    var nextVars = env.next = {};\n    var currentVars = env.current = {};\n    Object.keys(GL_VARIABLES).forEach(function (variable) {\n      if (Array.isArray(currentState[variable])) {\n        nextVars[variable] = global.def(shared.next, '.', variable);\n        currentVars[variable] = global.def(shared.current, '.', variable);\n      }\n    });\n\n    // Initialize shared constants\n    var constants = env.constants = {};\n    Object.keys(sharedConstants).forEach(function (name) {\n      constants[name] = global.def(JSON.stringify(sharedConstants[name]));\n    });\n\n    // Helper function for calling a block\n    env.invoke = function (block, x) {\n      switch (x.type) {\n        case DYN_FUNC$1:\n          var argList = [\n            'this',\n            shared.context,\n            shared.props,\n            env.batchId\n          ];\n          return block.def(\n            link(x.data), '.call(',\n              argList.slice(0, Math.max(x.data.length + 1, 4)),\n             ')')\n        case DYN_PROP$1:\n          return block.def(shared.props, x.data)\n        case DYN_CONTEXT$1:\n          return block.def(shared.context, x.data)\n        case DYN_STATE$1:\n          return block.def('this', x.data)\n        case DYN_THUNK:\n          x.data.append(env, block);\n          return x.data.ref\n      }\n    };\n\n    env.attribCache = {};\n\n    var scopeAttribs = {};\n    env.scopeAttrib = function (name) {\n      var id = stringStore.id(name);\n      if (id in scopeAttribs) {\n        return scopeAttribs[id]\n      }\n      var binding = attributeState.scope[id];\n      if (!binding) {\n        binding = attributeState.scope[id] = new AttributeRecord();\n      }\n      var result = scopeAttribs[id] = link(binding);\n      return result\n    };\n\n    return env\n  }\n\n  // ===================================================\n  // ===================================================\n  // PARSING\n  // ===================================================\n  // ===================================================\n  function parseProfile (options) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    var profileEnable;\n    if (S_PROFILE in staticOptions) {\n      var value = !!staticOptions[S_PROFILE];\n      profileEnable = createStaticDecl(function (env, scope) {\n        return value\n      });\n      profileEnable.enable = value;\n    } else if (S_PROFILE in dynamicOptions) {\n      var dyn = dynamicOptions[S_PROFILE];\n      profileEnable = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      });\n    }\n\n    return profileEnable\n  }\n\n  function parseFramebuffer (options, env) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    if (S_FRAMEBUFFER in staticOptions) {\n      var framebuffer = staticOptions[S_FRAMEBUFFER];\n      if (framebuffer) {\n        framebuffer = framebufferState.getFramebuffer(framebuffer);\n        check$1.command(framebuffer, 'invalid framebuffer object');\n        return createStaticDecl(function (env, block) {\n          var FRAMEBUFFER = env.link(framebuffer);\n          var shared = env.shared;\n          block.set(\n            shared.framebuffer,\n            '.next',\n            FRAMEBUFFER);\n          var CONTEXT = shared.context;\n          block.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_WIDTH,\n            FRAMEBUFFER + '.width');\n          block.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_HEIGHT,\n            FRAMEBUFFER + '.height');\n          return FRAMEBUFFER\n        })\n      } else {\n        return createStaticDecl(function (env, scope) {\n          var shared = env.shared;\n          scope.set(\n            shared.framebuffer,\n            '.next',\n            'null');\n          var CONTEXT = shared.context;\n          scope.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_WIDTH,\n            CONTEXT + '.' + S_DRAWINGBUFFER_WIDTH);\n          scope.set(\n            CONTEXT,\n            '.' + S_FRAMEBUFFER_HEIGHT,\n            CONTEXT + '.' + S_DRAWINGBUFFER_HEIGHT);\n          return 'null'\n        })\n      }\n    } else if (S_FRAMEBUFFER in dynamicOptions) {\n      var dyn = dynamicOptions[S_FRAMEBUFFER];\n      return createDynamicDecl(dyn, function (env, scope) {\n        var FRAMEBUFFER_FUNC = env.invoke(scope, dyn);\n        var shared = env.shared;\n        var FRAMEBUFFER_STATE = shared.framebuffer;\n        var FRAMEBUFFER = scope.def(\n          FRAMEBUFFER_STATE, '.getFramebuffer(', FRAMEBUFFER_FUNC, ')');\n\n        check$1.optional(function () {\n          env.assert(scope,\n            '!' + FRAMEBUFFER_FUNC + '||' + FRAMEBUFFER,\n            'invalid framebuffer object');\n        });\n\n        scope.set(\n          FRAMEBUFFER_STATE,\n          '.next',\n          FRAMEBUFFER);\n        var CONTEXT = shared.context;\n        scope.set(\n          CONTEXT,\n          '.' + S_FRAMEBUFFER_WIDTH,\n          FRAMEBUFFER + '?' + FRAMEBUFFER + '.width:' +\n          CONTEXT + '.' + S_DRAWINGBUFFER_WIDTH);\n        scope.set(\n          CONTEXT,\n          '.' + S_FRAMEBUFFER_HEIGHT,\n          FRAMEBUFFER +\n          '?' + FRAMEBUFFER + '.height:' +\n          CONTEXT + '.' + S_DRAWINGBUFFER_HEIGHT);\n        return FRAMEBUFFER\n      })\n    } else {\n      return null\n    }\n  }\n\n  function parseViewportScissor (options, framebuffer, env) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    function parseBox (param) {\n      if (param in staticOptions) {\n        var box = staticOptions[param];\n        check$1.commandType(box, 'object', 'invalid ' + param, env.commandStr);\n\n        var isStatic = true;\n        var x = box.x | 0;\n        var y = box.y | 0;\n        var w, h;\n        if ('width' in box) {\n          w = box.width | 0;\n          check$1.command(w >= 0, 'invalid ' + param, env.commandStr);\n        } else {\n          isStatic = false;\n        }\n        if ('height' in box) {\n          h = box.height | 0;\n          check$1.command(h >= 0, 'invalid ' + param, env.commandStr);\n        } else {\n          isStatic = false;\n        }\n\n        return new Declaration(\n          !isStatic && framebuffer && framebuffer.thisDep,\n          !isStatic && framebuffer && framebuffer.contextDep,\n          !isStatic && framebuffer && framebuffer.propDep,\n          function (env, scope) {\n            var CONTEXT = env.shared.context;\n            var BOX_W = w;\n            if (!('width' in box)) {\n              BOX_W = scope.def(CONTEXT, '.', S_FRAMEBUFFER_WIDTH, '-', x);\n            }\n            var BOX_H = h;\n            if (!('height' in box)) {\n              BOX_H = scope.def(CONTEXT, '.', S_FRAMEBUFFER_HEIGHT, '-', y);\n            }\n            return [x, y, BOX_W, BOX_H]\n          })\n      } else if (param in dynamicOptions) {\n        var dynBox = dynamicOptions[param];\n        var result = createDynamicDecl(dynBox, function (env, scope) {\n          var BOX = env.invoke(scope, dynBox);\n\n          check$1.optional(function () {\n            env.assert(scope,\n              BOX + '&&typeof ' + BOX + '===\"object\"',\n              'invalid ' + param);\n          });\n\n          var CONTEXT = env.shared.context;\n          var BOX_X = scope.def(BOX, '.x|0');\n          var BOX_Y = scope.def(BOX, '.y|0');\n          var BOX_W = scope.def(\n            '\"width\" in ', BOX, '?', BOX, '.width|0:',\n            '(', CONTEXT, '.', S_FRAMEBUFFER_WIDTH, '-', BOX_X, ')');\n          var BOX_H = scope.def(\n            '\"height\" in ', BOX, '?', BOX, '.height|0:',\n            '(', CONTEXT, '.', S_FRAMEBUFFER_HEIGHT, '-', BOX_Y, ')');\n\n          check$1.optional(function () {\n            env.assert(scope,\n              BOX_W + '>=0&&' +\n              BOX_H + '>=0',\n              'invalid ' + param);\n          });\n\n          return [BOX_X, BOX_Y, BOX_W, BOX_H]\n        });\n        if (framebuffer) {\n          result.thisDep = result.thisDep || framebuffer.thisDep;\n          result.contextDep = result.contextDep || framebuffer.contextDep;\n          result.propDep = result.propDep || framebuffer.propDep;\n        }\n        return result\n      } else if (framebuffer) {\n        return new Declaration(\n          framebuffer.thisDep,\n          framebuffer.contextDep,\n          framebuffer.propDep,\n          function (env, scope) {\n            var CONTEXT = env.shared.context;\n            return [\n              0, 0,\n              scope.def(CONTEXT, '.', S_FRAMEBUFFER_WIDTH),\n              scope.def(CONTEXT, '.', S_FRAMEBUFFER_HEIGHT)]\n          })\n      } else {\n        return null\n      }\n    }\n\n    var viewport = parseBox(S_VIEWPORT);\n\n    if (viewport) {\n      var prevViewport = viewport;\n      viewport = new Declaration(\n        viewport.thisDep,\n        viewport.contextDep,\n        viewport.propDep,\n        function (env, scope) {\n          var VIEWPORT = prevViewport.append(env, scope);\n          var CONTEXT = env.shared.context;\n          scope.set(\n            CONTEXT,\n            '.' + S_VIEWPORT_WIDTH,\n            VIEWPORT[2]);\n          scope.set(\n            CONTEXT,\n            '.' + S_VIEWPORT_HEIGHT,\n            VIEWPORT[3]);\n          return VIEWPORT\n        });\n    }\n\n    return {\n      viewport: viewport,\n      scissor_box: parseBox(S_SCISSOR_BOX)\n    }\n  }\n\n  function parseProgram (options) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    function parseShader (name) {\n      if (name in staticOptions) {\n        var id = stringStore.id(staticOptions[name]);\n        check$1.optional(function () {\n          shaderState.shader(shaderType[name], id, check$1.guessCommand());\n        });\n        var result = createStaticDecl(function () {\n          return id\n        });\n        result.id = id;\n        return result\n      } else if (name in dynamicOptions) {\n        var dyn = dynamicOptions[name];\n        return createDynamicDecl(dyn, function (env, scope) {\n          var str = env.invoke(scope, dyn);\n          var id = scope.def(env.shared.strings, '.id(', str, ')');\n          check$1.optional(function () {\n            scope(\n              env.shared.shader, '.shader(',\n              shaderType[name], ',',\n              id, ',',\n              env.command, ');');\n          });\n          return id\n        })\n      }\n      return null\n    }\n\n    var frag = parseShader(S_FRAG);\n    var vert = parseShader(S_VERT);\n\n    var program = null;\n    var progVar;\n    if (isStatic(frag) && isStatic(vert)) {\n      program = shaderState.program(vert.id, frag.id);\n      progVar = createStaticDecl(function (env, scope) {\n        return env.link(program)\n      });\n    } else {\n      progVar = new Declaration(\n        (frag && frag.thisDep) || (vert && vert.thisDep),\n        (frag && frag.contextDep) || (vert && vert.contextDep),\n        (frag && frag.propDep) || (vert && vert.propDep),\n        function (env, scope) {\n          var SHADER_STATE = env.shared.shader;\n          var fragId;\n          if (frag) {\n            fragId = frag.append(env, scope);\n          } else {\n            fragId = scope.def(SHADER_STATE, '.', S_FRAG);\n          }\n          var vertId;\n          if (vert) {\n            vertId = vert.append(env, scope);\n          } else {\n            vertId = scope.def(SHADER_STATE, '.', S_VERT);\n          }\n          var progDef = SHADER_STATE + '.program(' + vertId + ',' + fragId;\n          check$1.optional(function () {\n            progDef += ',' + env.command;\n          });\n          return scope.def(progDef + ')')\n        });\n    }\n\n    return {\n      frag: frag,\n      vert: vert,\n      progVar: progVar,\n      program: program\n    }\n  }\n\n  function parseDraw (options, env) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    function parseElements () {\n      if (S_ELEMENTS in staticOptions) {\n        var elements = staticOptions[S_ELEMENTS];\n        if (isBufferArgs(elements)) {\n          elements = elementState.getElements(elementState.create(elements, true));\n        } else if (elements) {\n          elements = elementState.getElements(elements);\n          check$1.command(elements, 'invalid elements', env.commandStr);\n        }\n        var result = createStaticDecl(function (env, scope) {\n          if (elements) {\n            var result = env.link(elements);\n            env.ELEMENTS = result;\n            return result\n          }\n          env.ELEMENTS = null;\n          return null\n        });\n        result.value = elements;\n        return result\n      } else if (S_ELEMENTS in dynamicOptions) {\n        var dyn = dynamicOptions[S_ELEMENTS];\n        return createDynamicDecl(dyn, function (env, scope) {\n          var shared = env.shared;\n\n          var IS_BUFFER_ARGS = shared.isBufferArgs;\n          var ELEMENT_STATE = shared.elements;\n\n          var elementDefn = env.invoke(scope, dyn);\n          var elements = scope.def('null');\n          var elementStream = scope.def(IS_BUFFER_ARGS, '(', elementDefn, ')');\n\n          var ifte = env.cond(elementStream)\n            .then(elements, '=', ELEMENT_STATE, '.createStream(', elementDefn, ');')\n            .else(elements, '=', ELEMENT_STATE, '.getElements(', elementDefn, ');');\n\n          check$1.optional(function () {\n            env.assert(ifte.else,\n              '!' + elementDefn + '||' + elements,\n              'invalid elements');\n          });\n\n          scope.entry(ifte);\n          scope.exit(\n            env.cond(elementStream)\n              .then(ELEMENT_STATE, '.destroyStream(', elements, ');'));\n\n          env.ELEMENTS = elements;\n\n          return elements\n        })\n      }\n\n      return null\n    }\n\n    var elements = parseElements();\n\n    function parsePrimitive () {\n      if (S_PRIMITIVE in staticOptions) {\n        var primitive = staticOptions[S_PRIMITIVE];\n        check$1.commandParameter(primitive, primTypes, 'invalid primitve', env.commandStr);\n        return createStaticDecl(function (env, scope) {\n          return primTypes[primitive]\n        })\n      } else if (S_PRIMITIVE in dynamicOptions) {\n        var dynPrimitive = dynamicOptions[S_PRIMITIVE];\n        return createDynamicDecl(dynPrimitive, function (env, scope) {\n          var PRIM_TYPES = env.constants.primTypes;\n          var prim = env.invoke(scope, dynPrimitive);\n          check$1.optional(function () {\n            env.assert(scope,\n              prim + ' in ' + PRIM_TYPES,\n              'invalid primitive, must be one of ' + Object.keys(primTypes));\n          });\n          return scope.def(PRIM_TYPES, '[', prim, ']')\n        })\n      } else if (elements) {\n        if (isStatic(elements)) {\n          if (elements.value) {\n            return createStaticDecl(function (env, scope) {\n              return scope.def(env.ELEMENTS, '.primType')\n            })\n          } else {\n            return createStaticDecl(function () {\n              return GL_TRIANGLES$1\n            })\n          }\n        } else {\n          return new Declaration(\n            elements.thisDep,\n            elements.contextDep,\n            elements.propDep,\n            function (env, scope) {\n              var elements = env.ELEMENTS;\n              return scope.def(elements, '?', elements, '.primType:', GL_TRIANGLES$1)\n            })\n        }\n      }\n      return null\n    }\n\n    function parseParam (param, isOffset) {\n      if (param in staticOptions) {\n        var value = staticOptions[param] | 0;\n        check$1.command(!isOffset || value >= 0, 'invalid ' + param, env.commandStr);\n        return createStaticDecl(function (env, scope) {\n          if (isOffset) {\n            env.OFFSET = value;\n          }\n          return value\n        })\n      } else if (param in dynamicOptions) {\n        var dynValue = dynamicOptions[param];\n        return createDynamicDecl(dynValue, function (env, scope) {\n          var result = env.invoke(scope, dynValue);\n          if (isOffset) {\n            env.OFFSET = result;\n            check$1.optional(function () {\n              env.assert(scope,\n                result + '>=0',\n                'invalid ' + param);\n            });\n          }\n          return result\n        })\n      } else if (isOffset && elements) {\n        return createStaticDecl(function (env, scope) {\n          env.OFFSET = '0';\n          return 0\n        })\n      }\n      return null\n    }\n\n    var OFFSET = parseParam(S_OFFSET, true);\n\n    function parseVertCount () {\n      if (S_COUNT in staticOptions) {\n        var count = staticOptions[S_COUNT] | 0;\n        check$1.command(\n          typeof count === 'number' && count >= 0, 'invalid vertex count', env.commandStr);\n        return createStaticDecl(function () {\n          return count\n        })\n      } else if (S_COUNT in dynamicOptions) {\n        var dynCount = dynamicOptions[S_COUNT];\n        return createDynamicDecl(dynCount, function (env, scope) {\n          var result = env.invoke(scope, dynCount);\n          check$1.optional(function () {\n            env.assert(scope,\n              'typeof ' + result + '===\"number\"&&' +\n              result + '>=0&&' +\n              result + '===(' + result + '|0)',\n              'invalid vertex count');\n          });\n          return result\n        })\n      } else if (elements) {\n        if (isStatic(elements)) {\n          if (elements) {\n            if (OFFSET) {\n              return new Declaration(\n                OFFSET.thisDep,\n                OFFSET.contextDep,\n                OFFSET.propDep,\n                function (env, scope) {\n                  var result = scope.def(\n                    env.ELEMENTS, '.vertCount-', env.OFFSET);\n\n                  check$1.optional(function () {\n                    env.assert(scope,\n                      result + '>=0',\n                      'invalid vertex offset/element buffer too small');\n                  });\n\n                  return result\n                })\n            } else {\n              return createStaticDecl(function (env, scope) {\n                return scope.def(env.ELEMENTS, '.vertCount')\n              })\n            }\n          } else {\n            var result = createStaticDecl(function () {\n              return -1\n            });\n            check$1.optional(function () {\n              result.MISSING = true;\n            });\n            return result\n          }\n        } else {\n          var variable = new Declaration(\n            elements.thisDep || OFFSET.thisDep,\n            elements.contextDep || OFFSET.contextDep,\n            elements.propDep || OFFSET.propDep,\n            function (env, scope) {\n              var elements = env.ELEMENTS;\n              if (env.OFFSET) {\n                return scope.def(elements, '?', elements, '.vertCount-',\n                  env.OFFSET, ':-1')\n              }\n              return scope.def(elements, '?', elements, '.vertCount:-1')\n            });\n          check$1.optional(function () {\n            variable.DYNAMIC = true;\n          });\n          return variable\n        }\n      }\n      return null\n    }\n\n    return {\n      elements: elements,\n      primitive: parsePrimitive(),\n      count: parseVertCount(),\n      instances: parseParam(S_INSTANCES, false),\n      offset: OFFSET\n    }\n  }\n\n  function parseGLState (options, env) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    var STATE = {};\n\n    GL_STATE_NAMES.forEach(function (prop) {\n      var param = propName(prop);\n\n      function parseParam (parseStatic, parseDynamic) {\n        if (prop in staticOptions) {\n          var value = parseStatic(staticOptions[prop]);\n          STATE[param] = createStaticDecl(function () {\n            return value\n          });\n        } else if (prop in dynamicOptions) {\n          var dyn = dynamicOptions[prop];\n          STATE[param] = createDynamicDecl(dyn, function (env, scope) {\n            return parseDynamic(env, scope, env.invoke(scope, dyn))\n          });\n        }\n      }\n\n      switch (prop) {\n        case S_CULL_ENABLE:\n        case S_BLEND_ENABLE:\n        case S_DITHER:\n        case S_STENCIL_ENABLE:\n        case S_DEPTH_ENABLE:\n        case S_SCISSOR_ENABLE:\n        case S_POLYGON_OFFSET_ENABLE:\n        case S_SAMPLE_ALPHA:\n        case S_SAMPLE_ENABLE:\n        case S_DEPTH_MASK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'boolean', prop, env.commandStr);\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"boolean\"',\n                  'invalid flag ' + prop, env.commandStr);\n              });\n              return value\n            })\n\n        case S_DEPTH_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandParameter(value, compareFuncs, 'invalid ' + prop, env.commandStr);\n              return compareFuncs[value]\n            },\n            function (env, scope, value) {\n              var COMPARE_FUNCS = env.constants.compareFuncs;\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + ' in ' + COMPARE_FUNCS,\n                  'invalid ' + prop + ', must be one of ' + Object.keys(compareFuncs));\n              });\n              return scope.def(COMPARE_FUNCS, '[', value, ']')\n            })\n\n        case S_DEPTH_RANGE:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) &&\n                value.length === 2 &&\n                typeof value[0] === 'number' &&\n                typeof value[1] === 'number' &&\n                value[0] <= value[1],\n                'depth range is 2d array',\n                env.commandStr);\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===2&&' +\n                  'typeof ' + value + '[0]===\"number\"&&' +\n                  'typeof ' + value + '[1]===\"number\"&&' +\n                  value + '[0]<=' + value + '[1]',\n                  'depth range must be a 2d array');\n              });\n\n              var Z_NEAR = scope.def('+', value, '[0]');\n              var Z_FAR = scope.def('+', value, '[1]');\n              return [Z_NEAR, Z_FAR]\n            })\n\n        case S_BLEND_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', 'blend.func', env.commandStr);\n              var srcRGB = ('srcRGB' in value ? value.srcRGB : value.src);\n              var srcAlpha = ('srcAlpha' in value ? value.srcAlpha : value.src);\n              var dstRGB = ('dstRGB' in value ? value.dstRGB : value.dst);\n              var dstAlpha = ('dstAlpha' in value ? value.dstAlpha : value.dst);\n              check$1.commandParameter(srcRGB, blendFuncs, param + '.srcRGB', env.commandStr);\n              check$1.commandParameter(srcAlpha, blendFuncs, param + '.srcAlpha', env.commandStr);\n              check$1.commandParameter(dstRGB, blendFuncs, param + '.dstRGB', env.commandStr);\n              check$1.commandParameter(dstAlpha, blendFuncs, param + '.dstAlpha', env.commandStr);\n\n              check$1.command(\n                (invalidBlendCombinations.indexOf(srcRGB + ', ' + dstRGB) === -1),\n                'unallowed blending combination (srcRGB, dstRGB) = (' + srcRGB + ', ' + dstRGB + ')', env.commandStr);\n\n              return [\n                blendFuncs[srcRGB],\n                blendFuncs[dstRGB],\n                blendFuncs[srcAlpha],\n                blendFuncs[dstAlpha]\n              ]\n            },\n            function (env, scope, value) {\n              var BLEND_FUNCS = env.constants.blendFuncs;\n\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid blend func, must be an object');\n              });\n\n              function read (prefix, suffix) {\n                var func = scope.def(\n                  '\"', prefix, suffix, '\" in ', value,\n                  '?', value, '.', prefix, suffix,\n                  ':', value, '.', prefix);\n\n                check$1.optional(function () {\n                  env.assert(scope,\n                    func + ' in ' + BLEND_FUNCS,\n                    'invalid ' + prop + '.' + prefix + suffix + ', must be one of ' + Object.keys(blendFuncs));\n                });\n\n                return func\n              }\n\n              var srcRGB = read('src', 'RGB');\n              var dstRGB = read('dst', 'RGB');\n\n              check$1.optional(function () {\n                var INVALID_BLEND_COMBINATIONS = env.constants.invalidBlendCombinations;\n\n                env.assert(scope,\n                           INVALID_BLEND_COMBINATIONS +\n                           '.indexOf(' + srcRGB + '+\", \"+' + dstRGB + ') === -1 ',\n                           'unallowed blending combination for (srcRGB, dstRGB)'\n                          );\n              });\n\n              var SRC_RGB = scope.def(BLEND_FUNCS, '[', srcRGB, ']');\n              var SRC_ALPHA = scope.def(BLEND_FUNCS, '[', read('src', 'Alpha'), ']');\n              var DST_RGB = scope.def(BLEND_FUNCS, '[', dstRGB, ']');\n              var DST_ALPHA = scope.def(BLEND_FUNCS, '[', read('dst', 'Alpha'), ']');\n\n              return [SRC_RGB, DST_RGB, SRC_ALPHA, DST_ALPHA]\n            })\n\n        case S_BLEND_EQUATION:\n          return parseParam(\n            function (value) {\n              if (typeof value === 'string') {\n                check$1.commandParameter(value, blendEquations, 'invalid ' + prop, env.commandStr);\n                return [\n                  blendEquations[value],\n                  blendEquations[value]\n                ]\n              } else if (typeof value === 'object') {\n                check$1.commandParameter(\n                  value.rgb, blendEquations, prop + '.rgb', env.commandStr);\n                check$1.commandParameter(\n                  value.alpha, blendEquations, prop + '.alpha', env.commandStr);\n                return [\n                  blendEquations[value.rgb],\n                  blendEquations[value.alpha]\n                ]\n              } else {\n                check$1.commandRaise('invalid blend.equation', env.commandStr);\n              }\n            },\n            function (env, scope, value) {\n              var BLEND_EQUATIONS = env.constants.blendEquations;\n\n              var RGB = scope.def();\n              var ALPHA = scope.def();\n\n              var ifte = env.cond('typeof ', value, '===\"string\"');\n\n              check$1.optional(function () {\n                function checkProp (block, name, value) {\n                  env.assert(block,\n                    value + ' in ' + BLEND_EQUATIONS,\n                    'invalid ' + name + ', must be one of ' + Object.keys(blendEquations));\n                }\n                checkProp(ifte.then, prop, value);\n\n                env.assert(ifte.else,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop);\n                checkProp(ifte.else, prop + '.rgb', value + '.rgb');\n                checkProp(ifte.else, prop + '.alpha', value + '.alpha');\n              });\n\n              ifte.then(\n                RGB, '=', ALPHA, '=', BLEND_EQUATIONS, '[', value, '];');\n              ifte.else(\n                RGB, '=', BLEND_EQUATIONS, '[', value, '.rgb];',\n                ALPHA, '=', BLEND_EQUATIONS, '[', value, '.alpha];');\n\n              scope(ifte);\n\n              return [RGB, ALPHA]\n            })\n\n        case S_BLEND_COLOR:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) &&\n                value.length === 4,\n                'blend.color must be a 4d array', env.commandStr);\n              return loop(4, function (i) {\n                return +value[i]\n              })\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===4',\n                  'blend.color must be a 4d array');\n              });\n              return loop(4, function (i) {\n                return scope.def('+', value, '[', i, ']')\n              })\n            })\n\n        case S_STENCIL_MASK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'number', param, env.commandStr);\n              return value | 0\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"number\"',\n                  'invalid stencil.mask');\n              });\n              return scope.def(value, '|0')\n            })\n\n        case S_STENCIL_FUNC:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr);\n              var cmp = value.cmp || 'keep';\n              var ref = value.ref || 0;\n              var mask = 'mask' in value ? value.mask : -1;\n              check$1.commandParameter(cmp, compareFuncs, prop + '.cmp', env.commandStr);\n              check$1.commandType(ref, 'number', prop + '.ref', env.commandStr);\n              check$1.commandType(mask, 'number', prop + '.mask', env.commandStr);\n              return [\n                compareFuncs[cmp],\n                ref,\n                mask\n              ]\n            },\n            function (env, scope, value) {\n              var COMPARE_FUNCS = env.constants.compareFuncs;\n              check$1.optional(function () {\n                function assert () {\n                  env.assert(scope,\n                    Array.prototype.join.call(arguments, ''),\n                    'invalid stencil.func');\n                }\n                assert(value + '&&typeof ', value, '===\"object\"');\n                assert('!(\"cmp\" in ', value, ')||(',\n                  value, '.cmp in ', COMPARE_FUNCS, ')');\n              });\n              var cmp = scope.def(\n                '\"cmp\" in ', value,\n                '?', COMPARE_FUNCS, '[', value, '.cmp]',\n                ':', GL_KEEP);\n              var ref = scope.def(value, '.ref|0');\n              var mask = scope.def(\n                '\"mask\" in ', value,\n                '?', value, '.mask|0:-1');\n              return [cmp, ref, mask]\n            })\n\n        case S_STENCIL_OPFRONT:\n        case S_STENCIL_OPBACK:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr);\n              var fail = value.fail || 'keep';\n              var zfail = value.zfail || 'keep';\n              var zpass = value.zpass || 'keep';\n              check$1.commandParameter(fail, stencilOps, prop + '.fail', env.commandStr);\n              check$1.commandParameter(zfail, stencilOps, prop + '.zfail', env.commandStr);\n              check$1.commandParameter(zpass, stencilOps, prop + '.zpass', env.commandStr);\n              return [\n                prop === S_STENCIL_OPBACK ? GL_BACK : GL_FRONT,\n                stencilOps[fail],\n                stencilOps[zfail],\n                stencilOps[zpass]\n              ]\n            },\n            function (env, scope, value) {\n              var STENCIL_OPS = env.constants.stencilOps;\n\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop);\n              });\n\n              function read (name) {\n                check$1.optional(function () {\n                  env.assert(scope,\n                    '!(\"' + name + '\" in ' + value + ')||' +\n                    '(' + value + '.' + name + ' in ' + STENCIL_OPS + ')',\n                    'invalid ' + prop + '.' + name + ', must be one of ' + Object.keys(stencilOps));\n                });\n\n                return scope.def(\n                  '\"', name, '\" in ', value,\n                  '?', STENCIL_OPS, '[', value, '.', name, ']:',\n                  GL_KEEP)\n              }\n\n              return [\n                prop === S_STENCIL_OPBACK ? GL_BACK : GL_FRONT,\n                read('fail'),\n                read('zfail'),\n                read('zpass')\n              ]\n            })\n\n        case S_POLYGON_OFFSET_OFFSET:\n          return parseParam(\n            function (value) {\n              check$1.commandType(value, 'object', param, env.commandStr);\n              var factor = value.factor | 0;\n              var units = value.units | 0;\n              check$1.commandType(factor, 'number', param + '.factor', env.commandStr);\n              check$1.commandType(units, 'number', param + '.units', env.commandStr);\n              return [factor, units]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid ' + prop);\n              });\n\n              var FACTOR = scope.def(value, '.factor|0');\n              var UNITS = scope.def(value, '.units|0');\n\n              return [FACTOR, UNITS]\n            })\n\n        case S_CULL_FACE:\n          return parseParam(\n            function (value) {\n              var face = 0;\n              if (value === 'front') {\n                face = GL_FRONT;\n              } else if (value === 'back') {\n                face = GL_BACK;\n              }\n              check$1.command(!!face, param, env.commandStr);\n              return face\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '===\"front\"||' +\n                  value + '===\"back\"',\n                  'invalid cull.face');\n              });\n              return scope.def(value, '===\"front\"?', GL_FRONT, ':', GL_BACK)\n            })\n\n        case S_LINE_WIDTH:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                typeof value === 'number' &&\n                value >= limits.lineWidthDims[0] &&\n                value <= limits.lineWidthDims[1],\n                'invalid line width, must positive number between ' +\n                limits.lineWidthDims[0] + ' and ' + limits.lineWidthDims[1], env.commandStr);\n              return value\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  'typeof ' + value + '===\"number\"&&' +\n                  value + '>=' + limits.lineWidthDims[0] + '&&' +\n                  value + '<=' + limits.lineWidthDims[1],\n                  'invalid line width');\n              });\n\n              return value\n            })\n\n        case S_FRONT_FACE:\n          return parseParam(\n            function (value) {\n              check$1.commandParameter(value, orientationType, param, env.commandStr);\n              return orientationType[value]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '===\"cw\"||' +\n                  value + '===\"ccw\"',\n                  'invalid frontFace, must be one of cw,ccw');\n              });\n              return scope.def(value + '===\"cw\"?' + GL_CW + ':' + GL_CCW)\n            })\n\n        case S_COLOR_MASK:\n          return parseParam(\n            function (value) {\n              check$1.command(\n                isArrayLike(value) && value.length === 4,\n                'color.mask must be length 4 array', env.commandStr);\n              return value.map(function (v) { return !!v })\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  env.shared.isArrayLike + '(' + value + ')&&' +\n                  value + '.length===4',\n                  'invalid color.mask');\n              });\n              return loop(4, function (i) {\n                return '!!' + value + '[' + i + ']'\n              })\n            })\n\n        case S_SAMPLE_COVERAGE:\n          return parseParam(\n            function (value) {\n              check$1.command(typeof value === 'object' && value, param, env.commandStr);\n              var sampleValue = 'value' in value ? value.value : 1;\n              var sampleInvert = !!value.invert;\n              check$1.command(\n                typeof sampleValue === 'number' &&\n                sampleValue >= 0 && sampleValue <= 1,\n                'sample.coverage.value must be a number between 0 and 1', env.commandStr);\n              return [sampleValue, sampleInvert]\n            },\n            function (env, scope, value) {\n              check$1.optional(function () {\n                env.assert(scope,\n                  value + '&&typeof ' + value + '===\"object\"',\n                  'invalid sample.coverage');\n              });\n              var VALUE = scope.def(\n                '\"value\" in ', value, '?+', value, '.value:1');\n              var INVERT = scope.def('!!', value, '.invert');\n              return [VALUE, INVERT]\n            })\n      }\n    });\n\n    return STATE\n  }\n\n  function parseUniforms (uniforms, env) {\n    var staticUniforms = uniforms.static;\n    var dynamicUniforms = uniforms.dynamic;\n\n    var UNIFORMS = {};\n\n    Object.keys(staticUniforms).forEach(function (name) {\n      var value = staticUniforms[name];\n      var result;\n      if (typeof value === 'number' ||\n          typeof value === 'boolean') {\n        result = createStaticDecl(function () {\n          return value\n        });\n      } else if (typeof value === 'function') {\n        var reglType = value._reglType;\n        if (reglType === 'texture2d' ||\n            reglType === 'textureCube') {\n          result = createStaticDecl(function (env) {\n            return env.link(value)\n          });\n        } else if (reglType === 'framebuffer' ||\n                   reglType === 'framebufferCube') {\n          check$1.command(value.color.length > 0,\n            'missing color attachment for framebuffer sent to uniform \"' + name + '\"', env.commandStr);\n          result = createStaticDecl(function (env) {\n            return env.link(value.color[0])\n          });\n        } else {\n          check$1.commandRaise('invalid data for uniform \"' + name + '\"', env.commandStr);\n        }\n      } else if (isArrayLike(value)) {\n        result = createStaticDecl(function (env) {\n          var ITEM = env.global.def('[',\n            loop(value.length, function (i) {\n              check$1.command(\n                typeof value[i] === 'number' ||\n                typeof value[i] === 'boolean',\n                'invalid uniform ' + name, env.commandStr);\n              return value[i]\n            }), ']');\n          return ITEM\n        });\n      } else {\n        check$1.commandRaise('invalid or missing data for uniform \"' + name + '\"', env.commandStr);\n      }\n      result.value = value;\n      UNIFORMS[name] = result;\n    });\n\n    Object.keys(dynamicUniforms).forEach(function (key) {\n      var dyn = dynamicUniforms[key];\n      UNIFORMS[key] = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      });\n    });\n\n    return UNIFORMS\n  }\n\n  function parseAttributes (attributes, env) {\n    var staticAttributes = attributes.static;\n    var dynamicAttributes = attributes.dynamic;\n\n    var attributeDefs = {};\n\n    Object.keys(staticAttributes).forEach(function (attribute) {\n      var value = staticAttributes[attribute];\n      var id = stringStore.id(attribute);\n\n      var record = new AttributeRecord();\n      if (isBufferArgs(value)) {\n        record.state = ATTRIB_STATE_POINTER;\n        record.buffer = bufferState.getBuffer(\n          bufferState.create(value, GL_ARRAY_BUFFER$1, false, true));\n        record.type = 0;\n      } else {\n        var buffer = bufferState.getBuffer(value);\n        if (buffer) {\n          record.state = ATTRIB_STATE_POINTER;\n          record.buffer = buffer;\n          record.type = 0;\n        } else {\n          check$1.command(typeof value === 'object' && value,\n            'invalid data for attribute ' + attribute, env.commandStr);\n          if (value.constant) {\n            var constant = value.constant;\n            record.buffer = 'null';\n            record.state = ATTRIB_STATE_CONSTANT;\n            if (typeof constant === 'number') {\n              record.x = constant;\n            } else {\n              check$1.command(\n                isArrayLike(constant) &&\n                constant.length > 0 &&\n                constant.length <= 4,\n                'invalid constant for attribute ' + attribute, env.commandStr);\n              CUTE_COMPONENTS.forEach(function (c, i) {\n                if (i < constant.length) {\n                  record[c] = constant[i];\n                }\n              });\n            }\n          } else {\n            if (isBufferArgs(value.buffer)) {\n              buffer = bufferState.getBuffer(\n                bufferState.create(value.buffer, GL_ARRAY_BUFFER$1, false, true));\n            } else {\n              buffer = bufferState.getBuffer(value.buffer);\n            }\n            check$1.command(!!buffer, 'missing buffer for attribute \"' + attribute + '\"', env.commandStr);\n\n            var offset = value.offset | 0;\n            check$1.command(offset >= 0,\n              'invalid offset for attribute \"' + attribute + '\"', env.commandStr);\n\n            var stride = value.stride | 0;\n            check$1.command(stride >= 0 && stride < 256,\n              'invalid stride for attribute \"' + attribute + '\", must be integer betweeen [0, 255]', env.commandStr);\n\n            var size = value.size | 0;\n            check$1.command(!('size' in value) || (size > 0 && size <= 4),\n              'invalid size for attribute \"' + attribute + '\", must be 1,2,3,4', env.commandStr);\n\n            var normalized = !!value.normalized;\n\n            var type = 0;\n            if ('type' in value) {\n              check$1.commandParameter(\n                value.type, glTypes,\n                'invalid type for attribute ' + attribute, env.commandStr);\n              type = glTypes[value.type];\n            }\n\n            var divisor = value.divisor | 0;\n            if ('divisor' in value) {\n              check$1.command(divisor === 0 || extInstancing,\n                'cannot specify divisor for attribute \"' + attribute + '\", instancing not supported', env.commandStr);\n              check$1.command(divisor >= 0,\n                'invalid divisor for attribute \"' + attribute + '\"', env.commandStr);\n            }\n\n            check$1.optional(function () {\n              var command = env.commandStr;\n\n              var VALID_KEYS = [\n                'buffer',\n                'offset',\n                'divisor',\n                'normalized',\n                'type',\n                'size',\n                'stride'\n              ];\n\n              Object.keys(value).forEach(function (prop) {\n                check$1.command(\n                  VALID_KEYS.indexOf(prop) >= 0,\n                  'unknown parameter \"' + prop + '\" for attribute pointer \"' + attribute + '\" (valid parameters are ' + VALID_KEYS + ')',\n                  command);\n              });\n            });\n\n            record.buffer = buffer;\n            record.state = ATTRIB_STATE_POINTER;\n            record.size = size;\n            record.normalized = normalized;\n            record.type = type || buffer.dtype;\n            record.offset = offset;\n            record.stride = stride;\n            record.divisor = divisor;\n          }\n        }\n      }\n\n      attributeDefs[attribute] = createStaticDecl(function (env, scope) {\n        var cache = env.attribCache;\n        if (id in cache) {\n          return cache[id]\n        }\n        var result = {\n          isStream: false\n        };\n        Object.keys(record).forEach(function (key) {\n          result[key] = record[key];\n        });\n        if (record.buffer) {\n          result.buffer = env.link(record.buffer);\n          result.type = result.type || (result.buffer + '.dtype');\n        }\n        cache[id] = result;\n        return result\n      });\n    });\n\n    Object.keys(dynamicAttributes).forEach(function (attribute) {\n      var dyn = dynamicAttributes[attribute];\n\n      function appendAttributeCode (env, block) {\n        var VALUE = env.invoke(block, dyn);\n\n        var shared = env.shared;\n\n        var IS_BUFFER_ARGS = shared.isBufferArgs;\n        var BUFFER_STATE = shared.buffer;\n\n        // Perform validation on attribute\n        check$1.optional(function () {\n          env.assert(block,\n            VALUE + '&&(typeof ' + VALUE + '===\"object\"||typeof ' +\n            VALUE + '===\"function\")&&(' +\n            IS_BUFFER_ARGS + '(' + VALUE + ')||' +\n            BUFFER_STATE + '.getBuffer(' + VALUE + ')||' +\n            BUFFER_STATE + '.getBuffer(' + VALUE + '.buffer)||' +\n            IS_BUFFER_ARGS + '(' + VALUE + '.buffer)||' +\n            '(\"constant\" in ' + VALUE +\n            '&&(typeof ' + VALUE + '.constant===\"number\"||' +\n            shared.isArrayLike + '(' + VALUE + '.constant))))',\n            'invalid dynamic attribute \"' + attribute + '\"');\n        });\n\n        // allocate names for result\n        var result = {\n          isStream: block.def(false)\n        };\n        var defaultRecord = new AttributeRecord();\n        defaultRecord.state = ATTRIB_STATE_POINTER;\n        Object.keys(defaultRecord).forEach(function (key) {\n          result[key] = block.def('' + defaultRecord[key]);\n        });\n\n        var BUFFER = result.buffer;\n        var TYPE = result.type;\n        block(\n          'if(', IS_BUFFER_ARGS, '(', VALUE, ')){',\n          result.isStream, '=true;',\n          BUFFER, '=', BUFFER_STATE, '.createStream(', GL_ARRAY_BUFFER$1, ',', VALUE, ');',\n          TYPE, '=', BUFFER, '.dtype;',\n          '}else{',\n          BUFFER, '=', BUFFER_STATE, '.getBuffer(', VALUE, ');',\n          'if(', BUFFER, '){',\n          TYPE, '=', BUFFER, '.dtype;',\n          '}else if(\"constant\" in ', VALUE, '){',\n          result.state, '=', ATTRIB_STATE_CONSTANT, ';',\n          'if(typeof ' + VALUE + '.constant === \"number\"){',\n          result[CUTE_COMPONENTS[0]], '=', VALUE, '.constant;',\n          CUTE_COMPONENTS.slice(1).map(function (n) {\n            return result[n]\n          }).join('='), '=0;',\n          '}else{',\n          CUTE_COMPONENTS.map(function (name, i) {\n            return (\n              result[name] + '=' + VALUE + '.constant.length>=' + i +\n              '?' + VALUE + '.constant[' + i + ']:0;'\n            )\n          }).join(''),\n          '}}else{',\n          'if(', IS_BUFFER_ARGS, '(', VALUE, '.buffer)){',\n          BUFFER, '=', BUFFER_STATE, '.createStream(', GL_ARRAY_BUFFER$1, ',', VALUE, '.buffer);',\n          '}else{',\n          BUFFER, '=', BUFFER_STATE, '.getBuffer(', VALUE, '.buffer);',\n          '}',\n          TYPE, '=\"type\" in ', VALUE, '?',\n          shared.glTypes, '[', VALUE, '.type]:', BUFFER, '.dtype;',\n          result.normalized, '=!!', VALUE, '.normalized;');\n        function emitReadRecord (name) {\n          block(result[name], '=', VALUE, '.', name, '|0;');\n        }\n        emitReadRecord('size');\n        emitReadRecord('offset');\n        emitReadRecord('stride');\n        emitReadRecord('divisor');\n\n        block('}}');\n\n        block.exit(\n          'if(', result.isStream, '){',\n          BUFFER_STATE, '.destroyStream(', BUFFER, ');',\n          '}');\n\n        return result\n      }\n\n      attributeDefs[attribute] = createDynamicDecl(dyn, appendAttributeCode);\n    });\n\n    return attributeDefs\n  }\n\n  function parseContext (context) {\n    var staticContext = context.static;\n    var dynamicContext = context.dynamic;\n    var result = {};\n\n    Object.keys(staticContext).forEach(function (name) {\n      var value = staticContext[name];\n      result[name] = createStaticDecl(function (env, scope) {\n        if (typeof value === 'number' || typeof value === 'boolean') {\n          return '' + value\n        } else {\n          return env.link(value)\n        }\n      });\n    });\n\n    Object.keys(dynamicContext).forEach(function (name) {\n      var dyn = dynamicContext[name];\n      result[name] = createDynamicDecl(dyn, function (env, scope) {\n        return env.invoke(scope, dyn)\n      });\n    });\n\n    return result\n  }\n\n  function parseArguments (options, attributes, uniforms, context, env) {\n    var staticOptions = options.static;\n    var dynamicOptions = options.dynamic;\n\n    check$1.optional(function () {\n      var KEY_NAMES = [\n        S_FRAMEBUFFER,\n        S_VERT,\n        S_FRAG,\n        S_ELEMENTS,\n        S_PRIMITIVE,\n        S_OFFSET,\n        S_COUNT,\n        S_INSTANCES,\n        S_PROFILE\n      ].concat(GL_STATE_NAMES);\n\n      function checkKeys (dict) {\n        Object.keys(dict).forEach(function (key) {\n          check$1.command(\n            KEY_NAMES.indexOf(key) >= 0,\n            'unknown parameter \"' + key + '\"',\n            env.commandStr);\n        });\n      }\n\n      checkKeys(staticOptions);\n      checkKeys(dynamicOptions);\n    });\n\n    var framebuffer = parseFramebuffer(options, env);\n    var viewportAndScissor = parseViewportScissor(options, framebuffer, env);\n    var draw = parseDraw(options, env);\n    var state = parseGLState(options, env);\n    var shader = parseProgram(options, env);\n\n    function copyBox (name) {\n      var defn = viewportAndScissor[name];\n      if (defn) {\n        state[name] = defn;\n      }\n    }\n    copyBox(S_VIEWPORT);\n    copyBox(propName(S_SCISSOR_BOX));\n\n    var dirty = Object.keys(state).length > 0;\n\n    var result = {\n      framebuffer: framebuffer,\n      draw: draw,\n      shader: shader,\n      state: state,\n      dirty: dirty\n    };\n\n    result.profile = parseProfile(options, env);\n    result.uniforms = parseUniforms(uniforms, env);\n    result.attributes = parseAttributes(attributes, env);\n    result.context = parseContext(context, env);\n    return result\n  }\n\n  // ===================================================\n  // ===================================================\n  // COMMON UPDATE FUNCTIONS\n  // ===================================================\n  // ===================================================\n  function emitContext (env, scope, context) {\n    var shared = env.shared;\n    var CONTEXT = shared.context;\n\n    var contextEnter = env.scope();\n\n    Object.keys(context).forEach(function (name) {\n      scope.save(CONTEXT, '.' + name);\n      var defn = context[name];\n      contextEnter(CONTEXT, '.', name, '=', defn.append(env, scope), ';');\n    });\n\n    scope(contextEnter);\n  }\n\n  // ===================================================\n  // ===================================================\n  // COMMON DRAWING FUNCTIONS\n  // ===================================================\n  // ===================================================\n  function emitPollFramebuffer (env, scope, framebuffer, skipCheck) {\n    var shared = env.shared;\n\n    var GL = shared.gl;\n    var FRAMEBUFFER_STATE = shared.framebuffer;\n    var EXT_DRAW_BUFFERS;\n    if (extDrawBuffers) {\n      EXT_DRAW_BUFFERS = scope.def(shared.extensions, '.webgl_draw_buffers');\n    }\n\n    var constants = env.constants;\n\n    var DRAW_BUFFERS = constants.drawBuffer;\n    var BACK_BUFFER = constants.backBuffer;\n\n    var NEXT;\n    if (framebuffer) {\n      NEXT = framebuffer.append(env, scope);\n    } else {\n      NEXT = scope.def(FRAMEBUFFER_STATE, '.next');\n    }\n\n    if (!skipCheck) {\n      scope('if(', NEXT, '!==', FRAMEBUFFER_STATE, '.cur){');\n    }\n    scope(\n      'if(', NEXT, '){',\n      GL, '.bindFramebuffer(', GL_FRAMEBUFFER$1, ',', NEXT, '.framebuffer);');\n    if (extDrawBuffers) {\n      scope(EXT_DRAW_BUFFERS, '.drawBuffersWEBGL(',\n        DRAW_BUFFERS, '[', NEXT, '.colorAttachments.length]);');\n    }\n    scope('}else{',\n      GL, '.bindFramebuffer(', GL_FRAMEBUFFER$1, ',null);');\n    if (extDrawBuffers) {\n      scope(EXT_DRAW_BUFFERS, '.drawBuffersWEBGL(', BACK_BUFFER, ');');\n    }\n    scope(\n      '}',\n      FRAMEBUFFER_STATE, '.cur=', NEXT, ';');\n    if (!skipCheck) {\n      scope('}');\n    }\n  }\n\n  function emitPollState (env, scope, args) {\n    var shared = env.shared;\n\n    var GL = shared.gl;\n\n    var CURRENT_VARS = env.current;\n    var NEXT_VARS = env.next;\n    var CURRENT_STATE = shared.current;\n    var NEXT_STATE = shared.next;\n\n    var block = env.cond(CURRENT_STATE, '.dirty');\n\n    GL_STATE_NAMES.forEach(function (prop) {\n      var param = propName(prop);\n      if (param in args.state) {\n        return\n      }\n\n      var NEXT, CURRENT;\n      if (param in NEXT_VARS) {\n        NEXT = NEXT_VARS[param];\n        CURRENT = CURRENT_VARS[param];\n        var parts = loop(currentState[param].length, function (i) {\n          return block.def(NEXT, '[', i, ']')\n        });\n        block(env.cond(parts.map(function (p, i) {\n          return p + '!==' + CURRENT + '[' + i + ']'\n        }).join('||'))\n          .then(\n            GL, '.', GL_VARIABLES[param], '(', parts, ');',\n            parts.map(function (p, i) {\n              return CURRENT + '[' + i + ']=' + p\n            }).join(';'), ';'));\n      } else {\n        NEXT = block.def(NEXT_STATE, '.', param);\n        var ifte = env.cond(NEXT, '!==', CURRENT_STATE, '.', param);\n        block(ifte);\n        if (param in GL_FLAGS) {\n          ifte(\n            env.cond(NEXT)\n                .then(GL, '.enable(', GL_FLAGS[param], ');')\n                .else(GL, '.disable(', GL_FLAGS[param], ');'),\n            CURRENT_STATE, '.', param, '=', NEXT, ';');\n        } else {\n          ifte(\n            GL, '.', GL_VARIABLES[param], '(', NEXT, ');',\n            CURRENT_STATE, '.', param, '=', NEXT, ';');\n        }\n      }\n    });\n    if (Object.keys(args.state).length === 0) {\n      block(CURRENT_STATE, '.dirty=false;');\n    }\n    scope(block);\n  }\n\n  function emitSetOptions (env, scope, options, filter) {\n    var shared = env.shared;\n    var CURRENT_VARS = env.current;\n    var CURRENT_STATE = shared.current;\n    var GL = shared.gl;\n    sortState(Object.keys(options)).forEach(function (param) {\n      var defn = options[param];\n      if (filter && !filter(defn)) {\n        return\n      }\n      var variable = defn.append(env, scope);\n      if (GL_FLAGS[param]) {\n        var flag = GL_FLAGS[param];\n        if (isStatic(defn)) {\n          if (variable) {\n            scope(GL, '.enable(', flag, ');');\n          } else {\n            scope(GL, '.disable(', flag, ');');\n          }\n        } else {\n          scope(env.cond(variable)\n            .then(GL, '.enable(', flag, ');')\n            .else(GL, '.disable(', flag, ');'));\n        }\n        scope(CURRENT_STATE, '.', param, '=', variable, ';');\n      } else if (isArrayLike(variable)) {\n        var CURRENT = CURRENT_VARS[param];\n        scope(\n          GL, '.', GL_VARIABLES[param], '(', variable, ');',\n          variable.map(function (v, i) {\n            return CURRENT + '[' + i + ']=' + v\n          }).join(';'), ';');\n      } else {\n        scope(\n          GL, '.', GL_VARIABLES[param], '(', variable, ');',\n          CURRENT_STATE, '.', param, '=', variable, ';');\n      }\n    });\n  }\n\n  function injectExtensions (env, scope) {\n    if (extInstancing) {\n      env.instancing = scope.def(\n        env.shared.extensions, '.angle_instanced_arrays');\n    }\n  }\n\n  function emitProfile (env, scope, args, useScope, incrementCounter) {\n    var shared = env.shared;\n    var STATS = env.stats;\n    var CURRENT_STATE = shared.current;\n    var TIMER = shared.timer;\n    var profileArg = args.profile;\n\n    function perfCounter () {\n      if (typeof performance === 'undefined') {\n        return 'Date.now()'\n      } else {\n        return 'performance.now()'\n      }\n    }\n\n    var CPU_START, QUERY_COUNTER;\n    function emitProfileStart (block) {\n      CPU_START = scope.def();\n      block(CPU_START, '=', perfCounter(), ';');\n      if (typeof incrementCounter === 'string') {\n        block(STATS, '.count+=', incrementCounter, ';');\n      } else {\n        block(STATS, '.count++;');\n      }\n      if (timer) {\n        if (useScope) {\n          QUERY_COUNTER = scope.def();\n          block(QUERY_COUNTER, '=', TIMER, '.getNumPendingQueries();');\n        } else {\n          block(TIMER, '.beginQuery(', STATS, ');');\n        }\n      }\n    }\n\n    function emitProfileEnd (block) {\n      block(STATS, '.cpuTime+=', perfCounter(), '-', CPU_START, ';');\n      if (timer) {\n        if (useScope) {\n          block(TIMER, '.pushScopeStats(',\n            QUERY_COUNTER, ',',\n            TIMER, '.getNumPendingQueries(),',\n            STATS, ');');\n        } else {\n          block(TIMER, '.endQuery();');\n        }\n      }\n    }\n\n    function scopeProfile (value) {\n      var prev = scope.def(CURRENT_STATE, '.profile');\n      scope(CURRENT_STATE, '.profile=', value, ';');\n      scope.exit(CURRENT_STATE, '.profile=', prev, ';');\n    }\n\n    var USE_PROFILE;\n    if (profileArg) {\n      if (isStatic(profileArg)) {\n        if (profileArg.enable) {\n          emitProfileStart(scope);\n          emitProfileEnd(scope.exit);\n          scopeProfile('true');\n        } else {\n          scopeProfile('false');\n        }\n        return\n      }\n      USE_PROFILE = profileArg.append(env, scope);\n      scopeProfile(USE_PROFILE);\n    } else {\n      USE_PROFILE = scope.def(CURRENT_STATE, '.profile');\n    }\n\n    var start = env.block();\n    emitProfileStart(start);\n    scope('if(', USE_PROFILE, '){', start, '}');\n    var end = env.block();\n    emitProfileEnd(end);\n    scope.exit('if(', USE_PROFILE, '){', end, '}');\n  }\n\n  function emitAttributes (env, scope, args, attributes, filter) {\n    var shared = env.shared;\n\n    function typeLength (x) {\n      switch (x) {\n        case GL_FLOAT_VEC2:\n        case GL_INT_VEC2:\n        case GL_BOOL_VEC2:\n          return 2\n        case GL_FLOAT_VEC3:\n        case GL_INT_VEC3:\n        case GL_BOOL_VEC3:\n          return 3\n        case GL_FLOAT_VEC4:\n        case GL_INT_VEC4:\n        case GL_BOOL_VEC4:\n          return 4\n        default:\n          return 1\n      }\n    }\n\n    function emitBindAttribute (ATTRIBUTE, size, record) {\n      var GL = shared.gl;\n\n      var LOCATION = scope.def(ATTRIBUTE, '.location');\n      var BINDING = scope.def(shared.attributes, '[', LOCATION, ']');\n\n      var STATE = record.state;\n      var BUFFER = record.buffer;\n      var CONST_COMPONENTS = [\n        record.x,\n        record.y,\n        record.z,\n        record.w\n      ];\n\n      var COMMON_KEYS = [\n        'buffer',\n        'normalized',\n        'offset',\n        'stride'\n      ];\n\n      function emitBuffer () {\n        scope(\n          'if(!', BINDING, '.buffer){',\n          GL, '.enableVertexAttribArray(', LOCATION, ');}');\n\n        var TYPE = record.type;\n        var SIZE;\n        if (!record.size) {\n          SIZE = size;\n        } else {\n          SIZE = scope.def(record.size, '||', size);\n        }\n\n        scope('if(',\n          BINDING, '.type!==', TYPE, '||',\n          BINDING, '.size!==', SIZE, '||',\n          COMMON_KEYS.map(function (key) {\n            return BINDING + '.' + key + '!==' + record[key]\n          }).join('||'),\n          '){',\n          GL, '.bindBuffer(', GL_ARRAY_BUFFER$1, ',', BUFFER, '.buffer);',\n          GL, '.vertexAttribPointer(', [\n            LOCATION,\n            SIZE,\n            TYPE,\n            record.normalized,\n            record.stride,\n            record.offset\n          ], ');',\n          BINDING, '.type=', TYPE, ';',\n          BINDING, '.size=', SIZE, ';',\n          COMMON_KEYS.map(function (key) {\n            return BINDING + '.' + key + '=' + record[key] + ';'\n          }).join(''),\n          '}');\n\n        if (extInstancing) {\n          var DIVISOR = record.divisor;\n          scope(\n            'if(', BINDING, '.divisor!==', DIVISOR, '){',\n            env.instancing, '.vertexAttribDivisorANGLE(', [LOCATION, DIVISOR], ');',\n            BINDING, '.divisor=', DIVISOR, ';}');\n        }\n      }\n\n      function emitConstant () {\n        scope(\n          'if(', BINDING, '.buffer){',\n          GL, '.disableVertexAttribArray(', LOCATION, ');',\n          '}if(', CUTE_COMPONENTS.map(function (c, i) {\n            return BINDING + '.' + c + '!==' + CONST_COMPONENTS[i]\n          }).join('||'), '){',\n          GL, '.vertexAttrib4f(', LOCATION, ',', CONST_COMPONENTS, ');',\n          CUTE_COMPONENTS.map(function (c, i) {\n            return BINDING + '.' + c + '=' + CONST_COMPONENTS[i] + ';'\n          }).join(''),\n          '}');\n      }\n\n      if (STATE === ATTRIB_STATE_POINTER) {\n        emitBuffer();\n      } else if (STATE === ATTRIB_STATE_CONSTANT) {\n        emitConstant();\n      } else {\n        scope('if(', STATE, '===', ATTRIB_STATE_POINTER, '){');\n        emitBuffer();\n        scope('}else{');\n        emitConstant();\n        scope('}');\n      }\n    }\n\n    attributes.forEach(function (attribute) {\n      var name = attribute.name;\n      var arg = args.attributes[name];\n      var record;\n      if (arg) {\n        if (!filter(arg)) {\n          return\n        }\n        record = arg.append(env, scope);\n      } else {\n        if (!filter(SCOPE_DECL)) {\n          return\n        }\n        var scopeAttrib = env.scopeAttrib(name);\n        check$1.optional(function () {\n          env.assert(scope,\n            scopeAttrib + '.state',\n            'missing attribute ' + name);\n        });\n        record = {};\n        Object.keys(new AttributeRecord()).forEach(function (key) {\n          record[key] = scope.def(scopeAttrib, '.', key);\n        });\n      }\n      emitBindAttribute(\n        env.link(attribute), typeLength(attribute.info.type), record);\n    });\n  }\n\n  function emitUniforms (env, scope, args, uniforms, filter) {\n    var shared = env.shared;\n    var GL = shared.gl;\n\n    var infix;\n    for (var i = 0; i < uniforms.length; ++i) {\n      var uniform = uniforms[i];\n      var name = uniform.name;\n      var type = uniform.info.type;\n      var arg = args.uniforms[name];\n      var UNIFORM = env.link(uniform);\n      var LOCATION = UNIFORM + '.location';\n\n      var VALUE;\n      if (arg) {\n        if (!filter(arg)) {\n          continue\n        }\n        if (isStatic(arg)) {\n          var value = arg.value;\n          check$1.command(\n            value !== null && typeof value !== 'undefined',\n            'missing uniform \"' + name + '\"', env.commandStr);\n          if (type === GL_SAMPLER_2D || type === GL_SAMPLER_CUBE) {\n            check$1.command(\n              typeof value === 'function' &&\n              ((type === GL_SAMPLER_2D &&\n                (value._reglType === 'texture2d' ||\n                value._reglType === 'framebuffer')) ||\n              (type === GL_SAMPLER_CUBE &&\n                (value._reglType === 'textureCube' ||\n                value._reglType === 'framebufferCube'))),\n              'invalid texture for uniform ' + name, env.commandStr);\n            var TEX_VALUE = env.link(value._texture || value.color[0]._texture);\n            scope(GL, '.uniform1i(', LOCATION, ',', TEX_VALUE + '.bind());');\n            scope.exit(TEX_VALUE, '.unbind();');\n          } else if (\n            type === GL_FLOAT_MAT2 ||\n            type === GL_FLOAT_MAT3 ||\n            type === GL_FLOAT_MAT4) {\n            check$1.optional(function () {\n              check$1.command(isArrayLike(value),\n                'invalid matrix for uniform ' + name, env.commandStr);\n              check$1.command(\n                (type === GL_FLOAT_MAT2 && value.length === 4) ||\n                (type === GL_FLOAT_MAT3 && value.length === 9) ||\n                (type === GL_FLOAT_MAT4 && value.length === 16),\n                'invalid length for matrix uniform ' + name, env.commandStr);\n            });\n            var MAT_VALUE = env.global.def('new Float32Array([' +\n              Array.prototype.slice.call(value) + '])');\n            var dim = 2;\n            if (type === GL_FLOAT_MAT3) {\n              dim = 3;\n            } else if (type === GL_FLOAT_MAT4) {\n              dim = 4;\n            }\n            scope(\n              GL, '.uniformMatrix', dim, 'fv(',\n              LOCATION, ',false,', MAT_VALUE, ');');\n          } else {\n            switch (type) {\n              case GL_FLOAT$7:\n                check$1.commandType(value, 'number', 'uniform ' + name, env.commandStr);\n                infix = '1f';\n                break\n              case GL_FLOAT_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr);\n                infix = '2f';\n                break\n              case GL_FLOAT_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr);\n                infix = '3f';\n                break\n              case GL_FLOAT_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr);\n                infix = '4f';\n                break\n              case GL_BOOL:\n                check$1.commandType(value, 'boolean', 'uniform ' + name, env.commandStr);\n                infix = '1i';\n                break\n              case GL_INT$3:\n                check$1.commandType(value, 'number', 'uniform ' + name, env.commandStr);\n                infix = '1i';\n                break\n              case GL_BOOL_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr);\n                infix = '2i';\n                break\n              case GL_INT_VEC2:\n                check$1.command(\n                  isArrayLike(value) && value.length === 2,\n                  'uniform ' + name, env.commandStr);\n                infix = '2i';\n                break\n              case GL_BOOL_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr);\n                infix = '3i';\n                break\n              case GL_INT_VEC3:\n                check$1.command(\n                  isArrayLike(value) && value.length === 3,\n                  'uniform ' + name, env.commandStr);\n                infix = '3i';\n                break\n              case GL_BOOL_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr);\n                infix = '4i';\n                break\n              case GL_INT_VEC4:\n                check$1.command(\n                  isArrayLike(value) && value.length === 4,\n                  'uniform ' + name, env.commandStr);\n                infix = '4i';\n                break\n            }\n            scope(GL, '.uniform', infix, '(', LOCATION, ',',\n              isArrayLike(value) ? Array.prototype.slice.call(value) : value,\n              ');');\n          }\n          continue\n        } else {\n          VALUE = arg.append(env, scope);\n        }\n      } else {\n        if (!filter(SCOPE_DECL)) {\n          continue\n        }\n        VALUE = scope.def(shared.uniforms, '[', stringStore.id(name), ']');\n      }\n\n      if (type === GL_SAMPLER_2D) {\n        scope(\n          'if(', VALUE, '&&', VALUE, '._reglType===\"framebuffer\"){',\n          VALUE, '=', VALUE, '.color[0];',\n          '}');\n      } else if (type === GL_SAMPLER_CUBE) {\n        scope(\n          'if(', VALUE, '&&', VALUE, '._reglType===\"framebufferCube\"){',\n          VALUE, '=', VALUE, '.color[0];',\n          '}');\n      }\n\n      // perform type validation\n      check$1.optional(function () {\n        function check (pred, message) {\n          env.assert(scope, pred,\n            'bad data or missing for uniform \"' + name + '\".  ' + message);\n        }\n\n        function checkType (type) {\n          check(\n            'typeof ' + VALUE + '===\"' + type + '\"',\n            'invalid type, expected ' + type);\n        }\n\n        function checkVector (n, type) {\n          check(\n            shared.isArrayLike + '(' + VALUE + ')&&' + VALUE + '.length===' + n,\n            'invalid vector, should have length ' + n, env.commandStr);\n        }\n\n        function checkTexture (target) {\n          check(\n            'typeof ' + VALUE + '===\"function\"&&' +\n            VALUE + '._reglType===\"texture' +\n            (target === GL_TEXTURE_2D$2 ? '2d' : 'Cube') + '\"',\n            'invalid texture type', env.commandStr);\n        }\n\n        switch (type) {\n          case GL_INT$3:\n            checkType('number');\n            break\n          case GL_INT_VEC2:\n            checkVector(2, 'number');\n            break\n          case GL_INT_VEC3:\n            checkVector(3, 'number');\n            break\n          case GL_INT_VEC4:\n            checkVector(4, 'number');\n            break\n          case GL_FLOAT$7:\n            checkType('number');\n            break\n          case GL_FLOAT_VEC2:\n            checkVector(2, 'number');\n            break\n          case GL_FLOAT_VEC3:\n            checkVector(3, 'number');\n            break\n          case GL_FLOAT_VEC4:\n            checkVector(4, 'number');\n            break\n          case GL_BOOL:\n            checkType('boolean');\n            break\n          case GL_BOOL_VEC2:\n            checkVector(2, 'boolean');\n            break\n          case GL_BOOL_VEC3:\n            checkVector(3, 'boolean');\n            break\n          case GL_BOOL_VEC4:\n            checkVector(4, 'boolean');\n            break\n          case GL_FLOAT_MAT2:\n            checkVector(4, 'number');\n            break\n          case GL_FLOAT_MAT3:\n            checkVector(9, 'number');\n            break\n          case GL_FLOAT_MAT4:\n            checkVector(16, 'number');\n            break\n          case GL_SAMPLER_2D:\n            checkTexture(GL_TEXTURE_2D$2);\n            break\n          case GL_SAMPLER_CUBE:\n            checkTexture(GL_TEXTURE_CUBE_MAP$1);\n            break\n        }\n      });\n\n      var unroll = 1;\n      switch (type) {\n        case GL_SAMPLER_2D:\n        case GL_SAMPLER_CUBE:\n          var TEX = scope.def(VALUE, '._texture');\n          scope(GL, '.uniform1i(', LOCATION, ',', TEX, '.bind());');\n          scope.exit(TEX, '.unbind();');\n          continue\n\n        case GL_INT$3:\n        case GL_BOOL:\n          infix = '1i';\n          break\n\n        case GL_INT_VEC2:\n        case GL_BOOL_VEC2:\n          infix = '2i';\n          unroll = 2;\n          break\n\n        case GL_INT_VEC3:\n        case GL_BOOL_VEC3:\n          infix = '3i';\n          unroll = 3;\n          break\n\n        case GL_INT_VEC4:\n        case GL_BOOL_VEC4:\n          infix = '4i';\n          unroll = 4;\n          break\n\n        case GL_FLOAT$7:\n          infix = '1f';\n          break\n\n        case GL_FLOAT_VEC2:\n          infix = '2f';\n          unroll = 2;\n          break\n\n        case GL_FLOAT_VEC3:\n          infix = '3f';\n          unroll = 3;\n          break\n\n        case GL_FLOAT_VEC4:\n          infix = '4f';\n          unroll = 4;\n          break\n\n        case GL_FLOAT_MAT2:\n          infix = 'Matrix2fv';\n          break\n\n        case GL_FLOAT_MAT3:\n          infix = 'Matrix3fv';\n          break\n\n        case GL_FLOAT_MAT4:\n          infix = 'Matrix4fv';\n          break\n      }\n\n      scope(GL, '.uniform', infix, '(', LOCATION, ',');\n      if (infix.charAt(0) === 'M') {\n        var matSize = Math.pow(type - GL_FLOAT_MAT2 + 2, 2);\n        var STORAGE = env.global.def('new Float32Array(', matSize, ')');\n        scope(\n          'false,(Array.isArray(', VALUE, ')||', VALUE, ' instanceof Float32Array)?', VALUE, ':(',\n          loop(matSize, function (i) {\n            return STORAGE + '[' + i + ']=' + VALUE + '[' + i + ']'\n          }), ',', STORAGE, ')');\n      } else if (unroll > 1) {\n        scope(loop(unroll, function (i) {\n          return VALUE + '[' + i + ']'\n        }));\n      } else {\n        scope(VALUE);\n      }\n      scope(');');\n    }\n  }\n\n  function emitDraw (env, outer, inner, args) {\n    var shared = env.shared;\n    var GL = shared.gl;\n    var DRAW_STATE = shared.draw;\n\n    var drawOptions = args.draw;\n\n    function emitElements () {\n      var defn = drawOptions.elements;\n      var ELEMENTS;\n      var scope = outer;\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          scope = inner;\n        }\n        ELEMENTS = defn.append(env, scope);\n      } else {\n        ELEMENTS = scope.def(DRAW_STATE, '.', S_ELEMENTS);\n      }\n      if (ELEMENTS) {\n        scope(\n          'if(' + ELEMENTS + ')' +\n          GL + '.bindBuffer(' + GL_ELEMENT_ARRAY_BUFFER$1 + ',' + ELEMENTS + '.buffer.buffer);');\n      }\n      return ELEMENTS\n    }\n\n    function emitCount () {\n      var defn = drawOptions.count;\n      var COUNT;\n      var scope = outer;\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          scope = inner;\n        }\n        COUNT = defn.append(env, scope);\n        check$1.optional(function () {\n          if (defn.MISSING) {\n            env.assert(outer, 'false', 'missing vertex count');\n          }\n          if (defn.DYNAMIC) {\n            env.assert(scope, COUNT + '>=0', 'missing vertex count');\n          }\n        });\n      } else {\n        COUNT = scope.def(DRAW_STATE, '.', S_COUNT);\n        check$1.optional(function () {\n          env.assert(scope, COUNT + '>=0', 'missing vertex count');\n        });\n      }\n      return COUNT\n    }\n\n    var ELEMENTS = emitElements();\n    function emitValue (name) {\n      var defn = drawOptions[name];\n      if (defn) {\n        if ((defn.contextDep && args.contextDynamic) || defn.propDep) {\n          return defn.append(env, inner)\n        } else {\n          return defn.append(env, outer)\n        }\n      } else {\n        return outer.def(DRAW_STATE, '.', name)\n      }\n    }\n\n    var PRIMITIVE = emitValue(S_PRIMITIVE);\n    var OFFSET = emitValue(S_OFFSET);\n\n    var COUNT = emitCount();\n    if (typeof COUNT === 'number') {\n      if (COUNT === 0) {\n        return\n      }\n    } else {\n      inner('if(', COUNT, '){');\n      inner.exit('}');\n    }\n\n    var INSTANCES, EXT_INSTANCING;\n    if (extInstancing) {\n      INSTANCES = emitValue(S_INSTANCES);\n      EXT_INSTANCING = env.instancing;\n    }\n\n    var ELEMENT_TYPE = ELEMENTS + '.type';\n\n    var elementsStatic = drawOptions.elements && isStatic(drawOptions.elements);\n\n    function emitInstancing () {\n      function drawElements () {\n        inner(EXT_INSTANCING, '.drawElementsInstancedANGLE(', [\n          PRIMITIVE,\n          COUNT,\n          ELEMENT_TYPE,\n          OFFSET + '<<((' + ELEMENT_TYPE + '-' + GL_UNSIGNED_BYTE$7 + ')>>1)',\n          INSTANCES\n        ], ');');\n      }\n\n      function drawArrays () {\n        inner(EXT_INSTANCING, '.drawArraysInstancedANGLE(',\n          [PRIMITIVE, OFFSET, COUNT, INSTANCES], ');');\n      }\n\n      if (ELEMENTS) {\n        if (!elementsStatic) {\n          inner('if(', ELEMENTS, '){');\n          drawElements();\n          inner('}else{');\n          drawArrays();\n          inner('}');\n        } else {\n          drawElements();\n        }\n      } else {\n        drawArrays();\n      }\n    }\n\n    function emitRegular () {\n      function drawElements () {\n        inner(GL + '.drawElements(' + [\n          PRIMITIVE,\n          COUNT,\n          ELEMENT_TYPE,\n          OFFSET + '<<((' + ELEMENT_TYPE + '-' + GL_UNSIGNED_BYTE$7 + ')>>1)'\n        ] + ');');\n      }\n\n      function drawArrays () {\n        inner(GL + '.drawArrays(' + [PRIMITIVE, OFFSET, COUNT] + ');');\n      }\n\n      if (ELEMENTS) {\n        if (!elementsStatic) {\n          inner('if(', ELEMENTS, '){');\n          drawElements();\n          inner('}else{');\n          drawArrays();\n          inner('}');\n        } else {\n          drawElements();\n        }\n      } else {\n        drawArrays();\n      }\n    }\n\n    if (extInstancing && (typeof INSTANCES !== 'number' || INSTANCES >= 0)) {\n      if (typeof INSTANCES === 'string') {\n        inner('if(', INSTANCES, '>0){');\n        emitInstancing();\n        inner('}else if(', INSTANCES, '<0){');\n        emitRegular();\n        inner('}');\n      } else {\n        emitInstancing();\n      }\n    } else {\n      emitRegular();\n    }\n  }\n\n  function createBody (emitBody, parentEnv, args, program, count) {\n    var env = createREGLEnvironment();\n    var scope = env.proc('body', count);\n    check$1.optional(function () {\n      env.commandStr = parentEnv.commandStr;\n      env.command = env.link(parentEnv.commandStr);\n    });\n    if (extInstancing) {\n      env.instancing = scope.def(\n        env.shared.extensions, '.angle_instanced_arrays');\n    }\n    emitBody(env, scope, args, program);\n    return env.compile().body\n  }\n\n  // ===================================================\n  // ===================================================\n  // DRAW PROC\n  // ===================================================\n  // ===================================================\n  function emitDrawBody (env, draw, args, program) {\n    injectExtensions(env, draw);\n    emitAttributes(env, draw, args, program.attributes, function () {\n      return true\n    });\n    emitUniforms(env, draw, args, program.uniforms, function () {\n      return true\n    });\n    emitDraw(env, draw, draw, args);\n  }\n\n  function emitDrawProc (env, args) {\n    var draw = env.proc('draw', 1);\n\n    injectExtensions(env, draw);\n\n    emitContext(env, draw, args.context);\n    emitPollFramebuffer(env, draw, args.framebuffer);\n\n    emitPollState(env, draw, args);\n    emitSetOptions(env, draw, args.state);\n\n    emitProfile(env, draw, args, false, true);\n\n    var program = args.shader.progVar.append(env, draw);\n    draw(env.shared.gl, '.useProgram(', program, '.program);');\n\n    if (args.shader.program) {\n      emitDrawBody(env, draw, args, args.shader.program);\n    } else {\n      var drawCache = env.global.def('{}');\n      var PROG_ID = draw.def(program, '.id');\n      var CACHED_PROC = draw.def(drawCache, '[', PROG_ID, ']');\n      draw(\n        env.cond(CACHED_PROC)\n          .then(CACHED_PROC, '.call(this,a0);')\n          .else(\n            CACHED_PROC, '=', drawCache, '[', PROG_ID, ']=',\n            env.link(function (program) {\n              return createBody(emitDrawBody, env, args, program, 1)\n            }), '(', program, ');',\n            CACHED_PROC, '.call(this,a0);'));\n    }\n\n    if (Object.keys(args.state).length > 0) {\n      draw(env.shared.current, '.dirty=true;');\n    }\n  }\n\n  // ===================================================\n  // ===================================================\n  // BATCH PROC\n  // ===================================================\n  // ===================================================\n\n  function emitBatchDynamicShaderBody (env, scope, args, program) {\n    env.batchId = 'a1';\n\n    injectExtensions(env, scope);\n\n    function all () {\n      return true\n    }\n\n    emitAttributes(env, scope, args, program.attributes, all);\n    emitUniforms(env, scope, args, program.uniforms, all);\n    emitDraw(env, scope, scope, args);\n  }\n\n  function emitBatchBody (env, scope, args, program) {\n    injectExtensions(env, scope);\n\n    var contextDynamic = args.contextDep;\n\n    var BATCH_ID = scope.def();\n    var PROP_LIST = 'a0';\n    var NUM_PROPS = 'a1';\n    var PROPS = scope.def();\n    env.shared.props = PROPS;\n    env.batchId = BATCH_ID;\n\n    var outer = env.scope();\n    var inner = env.scope();\n\n    scope(\n      outer.entry,\n      'for(', BATCH_ID, '=0;', BATCH_ID, '<', NUM_PROPS, ';++', BATCH_ID, '){',\n      PROPS, '=', PROP_LIST, '[', BATCH_ID, '];',\n      inner,\n      '}',\n      outer.exit);\n\n    function isInnerDefn (defn) {\n      return ((defn.contextDep && contextDynamic) || defn.propDep)\n    }\n\n    function isOuterDefn (defn) {\n      return !isInnerDefn(defn)\n    }\n\n    if (args.needsContext) {\n      emitContext(env, inner, args.context);\n    }\n    if (args.needsFramebuffer) {\n      emitPollFramebuffer(env, inner, args.framebuffer);\n    }\n    emitSetOptions(env, inner, args.state, isInnerDefn);\n\n    if (args.profile && isInnerDefn(args.profile)) {\n      emitProfile(env, inner, args, false, true);\n    }\n\n    if (!program) {\n      var progCache = env.global.def('{}');\n      var PROGRAM = args.shader.progVar.append(env, inner);\n      var PROG_ID = inner.def(PROGRAM, '.id');\n      var CACHED_PROC = inner.def(progCache, '[', PROG_ID, ']');\n      inner(\n        env.shared.gl, '.useProgram(', PROGRAM, '.program);',\n        'if(!', CACHED_PROC, '){',\n        CACHED_PROC, '=', progCache, '[', PROG_ID, ']=',\n        env.link(function (program) {\n          return createBody(\n            emitBatchDynamicShaderBody, env, args, program, 2)\n        }), '(', PROGRAM, ');}',\n        CACHED_PROC, '.call(this,a0[', BATCH_ID, '],', BATCH_ID, ');');\n    } else {\n      emitAttributes(env, outer, args, program.attributes, isOuterDefn);\n      emitAttributes(env, inner, args, program.attributes, isInnerDefn);\n      emitUniforms(env, outer, args, program.uniforms, isOuterDefn);\n      emitUniforms(env, inner, args, program.uniforms, isInnerDefn);\n      emitDraw(env, outer, inner, args);\n    }\n  }\n\n  function emitBatchProc (env, args) {\n    var batch = env.proc('batch', 2);\n    env.batchId = '0';\n\n    injectExtensions(env, batch);\n\n    // Check if any context variables depend on props\n    var contextDynamic = false;\n    var needsContext = true;\n    Object.keys(args.context).forEach(function (name) {\n      contextDynamic = contextDynamic || args.context[name].propDep;\n    });\n    if (!contextDynamic) {\n      emitContext(env, batch, args.context);\n      needsContext = false;\n    }\n\n    // framebuffer state affects framebufferWidth/height context vars\n    var framebuffer = args.framebuffer;\n    var needsFramebuffer = false;\n    if (framebuffer) {\n      if (framebuffer.propDep) {\n        contextDynamic = needsFramebuffer = true;\n      } else if (framebuffer.contextDep && contextDynamic) {\n        needsFramebuffer = true;\n      }\n      if (!needsFramebuffer) {\n        emitPollFramebuffer(env, batch, framebuffer);\n      }\n    } else {\n      emitPollFramebuffer(env, batch, null);\n    }\n\n    // viewport is weird because it can affect context vars\n    if (args.state.viewport && args.state.viewport.propDep) {\n      contextDynamic = true;\n    }\n\n    function isInnerDefn (defn) {\n      return (defn.contextDep && contextDynamic) || defn.propDep\n    }\n\n    // set webgl options\n    emitPollState(env, batch, args);\n    emitSetOptions(env, batch, args.state, function (defn) {\n      return !isInnerDefn(defn)\n    });\n\n    if (!args.profile || !isInnerDefn(args.profile)) {\n      emitProfile(env, batch, args, false, 'a1');\n    }\n\n    // Save these values to args so that the batch body routine can use them\n    args.contextDep = contextDynamic;\n    args.needsContext = needsContext;\n    args.needsFramebuffer = needsFramebuffer;\n\n    // determine if shader is dynamic\n    var progDefn = args.shader.progVar;\n    if ((progDefn.contextDep && contextDynamic) || progDefn.propDep) {\n      emitBatchBody(\n        env,\n        batch,\n        args,\n        null);\n    } else {\n      var PROGRAM = progDefn.append(env, batch);\n      batch(env.shared.gl, '.useProgram(', PROGRAM, '.program);');\n      if (args.shader.program) {\n        emitBatchBody(\n          env,\n          batch,\n          args,\n          args.shader.program);\n      } else {\n        var batchCache = env.global.def('{}');\n        var PROG_ID = batch.def(PROGRAM, '.id');\n        var CACHED_PROC = batch.def(batchCache, '[', PROG_ID, ']');\n        batch(\n          env.cond(CACHED_PROC)\n            .then(CACHED_PROC, '.call(this,a0,a1);')\n            .else(\n              CACHED_PROC, '=', batchCache, '[', PROG_ID, ']=',\n              env.link(function (program) {\n                return createBody(emitBatchBody, env, args, program, 2)\n              }), '(', PROGRAM, ');',\n              CACHED_PROC, '.call(this,a0,a1);'));\n      }\n    }\n\n    if (Object.keys(args.state).length > 0) {\n      batch(env.shared.current, '.dirty=true;');\n    }\n  }\n\n  // ===================================================\n  // ===================================================\n  // SCOPE COMMAND\n  // ===================================================\n  // ===================================================\n  function emitScopeProc (env, args) {\n    var scope = env.proc('scope', 3);\n    env.batchId = 'a2';\n\n    var shared = env.shared;\n    var CURRENT_STATE = shared.current;\n\n    emitContext(env, scope, args.context);\n\n    if (args.framebuffer) {\n      args.framebuffer.append(env, scope);\n    }\n\n    sortState(Object.keys(args.state)).forEach(function (name) {\n      var defn = args.state[name];\n      var value = defn.append(env, scope);\n      if (isArrayLike(value)) {\n        value.forEach(function (v, i) {\n          scope.set(env.next[name], '[' + i + ']', v);\n        });\n      } else {\n        scope.set(shared.next, '.' + name, value);\n      }\n    });\n\n    emitProfile(env, scope, args, true, true)\n\n    ;[S_ELEMENTS, S_OFFSET, S_COUNT, S_INSTANCES, S_PRIMITIVE].forEach(\n      function (opt) {\n        var variable = args.draw[opt];\n        if (!variable) {\n          return\n        }\n        scope.set(shared.draw, '.' + opt, '' + variable.append(env, scope));\n      });\n\n    Object.keys(args.uniforms).forEach(function (opt) {\n      scope.set(\n        shared.uniforms,\n        '[' + stringStore.id(opt) + ']',\n        args.uniforms[opt].append(env, scope));\n    });\n\n    Object.keys(args.attributes).forEach(function (name) {\n      var record = args.attributes[name].append(env, scope);\n      var scopeAttrib = env.scopeAttrib(name);\n      Object.keys(new AttributeRecord()).forEach(function (prop) {\n        scope.set(scopeAttrib, '.' + prop, record[prop]);\n      });\n    });\n\n    function saveShader (name) {\n      var shader = args.shader[name];\n      if (shader) {\n        scope.set(shared.shader, '.' + name, shader.append(env, scope));\n      }\n    }\n    saveShader(S_VERT);\n    saveShader(S_FRAG);\n\n    if (Object.keys(args.state).length > 0) {\n      scope(CURRENT_STATE, '.dirty=true;');\n      scope.exit(CURRENT_STATE, '.dirty=true;');\n    }\n\n    scope('a1(', env.shared.context, ',a0,', env.batchId, ');');\n  }\n\n  function isDynamicObject (object) {\n    if (typeof object !== 'object' || isArrayLike(object)) {\n      return\n    }\n    var props = Object.keys(object);\n    for (var i = 0; i < props.length; ++i) {\n      if (dynamic.isDynamic(object[props[i]])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function splatObject (env, options, name) {\n    var object = options.static[name];\n    if (!object || !isDynamicObject(object)) {\n      return\n    }\n\n    var globals = env.global;\n    var keys = Object.keys(object);\n    var thisDep = false;\n    var contextDep = false;\n    var propDep = false;\n    var objectRef = env.global.def('{}');\n    keys.forEach(function (key) {\n      var value = object[key];\n      if (dynamic.isDynamic(value)) {\n        if (typeof value === 'function') {\n          value = object[key] = dynamic.unbox(value);\n        }\n        var deps = createDynamicDecl(value, null);\n        thisDep = thisDep || deps.thisDep;\n        propDep = propDep || deps.propDep;\n        contextDep = contextDep || deps.contextDep;\n      } else {\n        globals(objectRef, '.', key, '=');\n        switch (typeof value) {\n          case 'number':\n            globals(value);\n            break\n          case 'string':\n            globals('\"', value, '\"');\n            break\n          case 'object':\n            if (Array.isArray(value)) {\n              globals('[', value.join(), ']');\n            }\n            break\n          default:\n            globals(env.link(value));\n            break\n        }\n        globals(';');\n      }\n    });\n\n    function appendBlock (env, block) {\n      keys.forEach(function (key) {\n        var value = object[key];\n        if (!dynamic.isDynamic(value)) {\n          return\n        }\n        var ref = env.invoke(block, value);\n        block(objectRef, '.', key, '=', ref, ';');\n      });\n    }\n\n    options.dynamic[name] = new dynamic.DynamicVariable(DYN_THUNK, {\n      thisDep: thisDep,\n      contextDep: contextDep,\n      propDep: propDep,\n      ref: objectRef,\n      append: appendBlock\n    });\n    delete options.static[name];\n  }\n\n  // ===========================================================================\n  // ===========================================================================\n  // MAIN DRAW COMMAND\n  // ===========================================================================\n  // ===========================================================================\n  function compileCommand (options, attributes, uniforms, context, stats) {\n    var env = createREGLEnvironment();\n\n    // link stats, so that we can easily access it in the program.\n    env.stats = env.link(stats);\n\n    // splat options and attributes to allow for dynamic nested properties\n    Object.keys(attributes.static).forEach(function (key) {\n      splatObject(env, attributes, key);\n    });\n    NESTED_OPTIONS.forEach(function (name) {\n      splatObject(env, options, name);\n    });\n\n    var args = parseArguments(options, attributes, uniforms, context, env);\n\n    emitDrawProc(env, args);\n    emitScopeProc(env, args);\n    emitBatchProc(env, args);\n\n    return env.compile()\n  }\n\n  // ===========================================================================\n  // ===========================================================================\n  // POLL / REFRESH\n  // ===========================================================================\n  // ===========================================================================\n  return {\n    next: nextState,\n    current: currentState,\n    procs: (function () {\n      var env = createREGLEnvironment();\n      var poll = env.proc('poll');\n      var refresh = env.proc('refresh');\n      var common = env.block();\n      poll(common);\n      refresh(common);\n\n      var shared = env.shared;\n      var GL = shared.gl;\n      var NEXT_STATE = shared.next;\n      var CURRENT_STATE = shared.current;\n\n      common(CURRENT_STATE, '.dirty=false;');\n\n      emitPollFramebuffer(env, poll);\n      emitPollFramebuffer(env, refresh, null, true);\n\n      // Refresh updates all attribute state changes\n      var extInstancing = gl.getExtension('angle_instanced_arrays');\n      var INSTANCING;\n      if (extInstancing) {\n        INSTANCING = env.link(extInstancing);\n      }\n      for (var i = 0; i < limits.maxAttributes; ++i) {\n        var BINDING = refresh.def(shared.attributes, '[', i, ']');\n        var ifte = env.cond(BINDING, '.buffer');\n        ifte.then(\n          GL, '.enableVertexAttribArray(', i, ');',\n          GL, '.bindBuffer(',\n            GL_ARRAY_BUFFER$1, ',',\n            BINDING, '.buffer.buffer);',\n          GL, '.vertexAttribPointer(',\n            i, ',',\n            BINDING, '.size,',\n            BINDING, '.type,',\n            BINDING, '.normalized,',\n            BINDING, '.stride,',\n            BINDING, '.offset);'\n        ).else(\n          GL, '.disableVertexAttribArray(', i, ');',\n          GL, '.vertexAttrib4f(',\n            i, ',',\n            BINDING, '.x,',\n            BINDING, '.y,',\n            BINDING, '.z,',\n            BINDING, '.w);',\n          BINDING, '.buffer=null;');\n        refresh(ifte);\n        if (extInstancing) {\n          refresh(\n            INSTANCING, '.vertexAttribDivisorANGLE(',\n            i, ',',\n            BINDING, '.divisor);');\n        }\n      }\n\n      Object.keys(GL_FLAGS).forEach(function (flag) {\n        var cap = GL_FLAGS[flag];\n        var NEXT = common.def(NEXT_STATE, '.', flag);\n        var block = env.block();\n        block('if(', NEXT, '){',\n          GL, '.enable(', cap, ')}else{',\n          GL, '.disable(', cap, ')}',\n          CURRENT_STATE, '.', flag, '=', NEXT, ';');\n        refresh(block);\n        poll(\n          'if(', NEXT, '!==', CURRENT_STATE, '.', flag, '){',\n          block,\n          '}');\n      });\n\n      Object.keys(GL_VARIABLES).forEach(function (name) {\n        var func = GL_VARIABLES[name];\n        var init = currentState[name];\n        var NEXT, CURRENT;\n        var block = env.block();\n        block(GL, '.', func, '(');\n        if (isArrayLike(init)) {\n          var n = init.length;\n          NEXT = env.global.def(NEXT_STATE, '.', name);\n          CURRENT = env.global.def(CURRENT_STATE, '.', name);\n          block(\n            loop(n, function (i) {\n              return NEXT + '[' + i + ']'\n            }), ');',\n            loop(n, function (i) {\n              return CURRENT + '[' + i + ']=' + NEXT + '[' + i + '];'\n            }).join(''));\n          poll(\n            'if(', loop(n, function (i) {\n              return NEXT + '[' + i + ']!==' + CURRENT + '[' + i + ']'\n            }).join('||'), '){',\n            block,\n            '}');\n        } else {\n          NEXT = common.def(NEXT_STATE, '.', name);\n          CURRENT = common.def(CURRENT_STATE, '.', name);\n          block(\n            NEXT, ');',\n            CURRENT_STATE, '.', name, '=', NEXT, ';');\n          poll(\n            'if(', NEXT, '!==', CURRENT, '){',\n            block,\n            '}');\n        }\n        refresh(block);\n      });\n\n      return env.compile()\n    })(),\n    compile: compileCommand\n  }\n}\n\nfunction stats () {\n  return {\n    bufferCount: 0,\n    elementsCount: 0,\n    framebufferCount: 0,\n    shaderCount: 0,\n    textureCount: 0,\n    cubeCount: 0,\n    renderbufferCount: 0,\n\n    maxTextureUnits: 0\n  }\n}\n\nvar GL_QUERY_RESULT_EXT = 0x8866;\nvar GL_QUERY_RESULT_AVAILABLE_EXT = 0x8867;\nvar GL_TIME_ELAPSED_EXT = 0x88BF;\n\nvar createTimer = function (gl, extensions) {\n  var extTimer = extensions.ext_disjoint_timer_query;\n\n  if (!extTimer) {\n    return null\n  }\n\n  // QUERY POOL BEGIN\n  var queryPool = [];\n  function allocQuery () {\n    return queryPool.pop() || extTimer.createQueryEXT()\n  }\n  function freeQuery (query) {\n    queryPool.push(query);\n  }\n  // QUERY POOL END\n\n  var pendingQueries = [];\n  function beginQuery (stats) {\n    var query = allocQuery();\n    extTimer.beginQueryEXT(GL_TIME_ELAPSED_EXT, query);\n    pendingQueries.push(query);\n    pushScopeStats(pendingQueries.length - 1, pendingQueries.length, stats);\n  }\n\n  function endQuery () {\n    extTimer.endQueryEXT(GL_TIME_ELAPSED_EXT);\n  }\n\n  //\n  // Pending stats pool.\n  //\n  function PendingStats () {\n    this.startQueryIndex = -1;\n    this.endQueryIndex = -1;\n    this.sum = 0;\n    this.stats = null;\n  }\n  var pendingStatsPool = [];\n  function allocPendingStats () {\n    return pendingStatsPool.pop() || new PendingStats()\n  }\n  function freePendingStats (pendingStats) {\n    pendingStatsPool.push(pendingStats);\n  }\n  // Pending stats pool end\n\n  var pendingStats = [];\n  function pushScopeStats (start, end, stats) {\n    var ps = allocPendingStats();\n    ps.startQueryIndex = start;\n    ps.endQueryIndex = end;\n    ps.sum = 0;\n    ps.stats = stats;\n    pendingStats.push(ps);\n  }\n\n  // we should call this at the beginning of the frame,\n  // in order to update gpuTime\n  var timeSum = [];\n  var queryPtr = [];\n  function update () {\n    var ptr, i;\n\n    var n = pendingQueries.length;\n    if (n === 0) {\n      return\n    }\n\n    // Reserve space\n    queryPtr.length = Math.max(queryPtr.length, n + 1);\n    timeSum.length = Math.max(timeSum.length, n + 1);\n    timeSum[0] = 0;\n    queryPtr[0] = 0;\n\n    // Update all pending timer queries\n    var queryTime = 0;\n    ptr = 0;\n    for (i = 0; i < pendingQueries.length; ++i) {\n      var query = pendingQueries[i];\n      if (extTimer.getQueryObjectEXT(query, GL_QUERY_RESULT_AVAILABLE_EXT)) {\n        queryTime += extTimer.getQueryObjectEXT(query, GL_QUERY_RESULT_EXT);\n        freeQuery(query);\n      } else {\n        pendingQueries[ptr++] = query;\n      }\n      timeSum[i + 1] = queryTime;\n      queryPtr[i + 1] = ptr;\n    }\n    pendingQueries.length = ptr;\n\n    // Update all pending stat queries\n    ptr = 0;\n    for (i = 0; i < pendingStats.length; ++i) {\n      var stats = pendingStats[i];\n      var start = stats.startQueryIndex;\n      var end = stats.endQueryIndex;\n      stats.sum += timeSum[end] - timeSum[start];\n      var startPtr = queryPtr[start];\n      var endPtr = queryPtr[end];\n      if (endPtr === startPtr) {\n        stats.stats.gpuTime += stats.sum / 1e6;\n        freePendingStats(stats);\n      } else {\n        stats.startQueryIndex = startPtr;\n        stats.endQueryIndex = endPtr;\n        pendingStats[ptr++] = stats;\n      }\n    }\n    pendingStats.length = ptr;\n  }\n\n  return {\n    beginQuery: beginQuery,\n    endQuery: endQuery,\n    pushScopeStats: pushScopeStats,\n    update: update,\n    getNumPendingQueries: function () {\n      return pendingQueries.length\n    },\n    clear: function () {\n      queryPool.push.apply(queryPool, pendingQueries);\n      for (var i = 0; i < queryPool.length; i++) {\n        extTimer.deleteQueryEXT(queryPool[i]);\n      }\n      pendingQueries.length = 0;\n      queryPool.length = 0;\n    },\n    restore: function () {\n      pendingQueries.length = 0;\n      queryPool.length = 0;\n    }\n  }\n};\n\nvar GL_COLOR_BUFFER_BIT = 16384;\nvar GL_DEPTH_BUFFER_BIT = 256;\nvar GL_STENCIL_BUFFER_BIT = 1024;\n\nvar GL_ARRAY_BUFFER = 34962;\n\nvar CONTEXT_LOST_EVENT = 'webglcontextlost';\nvar CONTEXT_RESTORED_EVENT = 'webglcontextrestored';\n\nvar DYN_PROP = 1;\nvar DYN_CONTEXT = 2;\nvar DYN_STATE = 3;\n\nfunction find (haystack, needle) {\n  for (var i = 0; i < haystack.length; ++i) {\n    if (haystack[i] === needle) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction wrapREGL (args) {\n  var config = parseArgs(args);\n  if (!config) {\n    return null\n  }\n\n  var gl = config.gl;\n  var glAttributes = gl.getContextAttributes();\n  var contextLost = gl.isContextLost();\n\n  var extensionState = createExtensionCache(gl, config);\n  if (!extensionState) {\n    return null\n  }\n\n  var stringStore = createStringStore();\n  var stats$$1 = stats();\n  var extensions = extensionState.extensions;\n  var timer = createTimer(gl, extensions);\n\n  var START_TIME = clock();\n  var WIDTH = gl.drawingBufferWidth;\n  var HEIGHT = gl.drawingBufferHeight;\n\n  var contextState = {\n    tick: 0,\n    time: 0,\n    viewportWidth: WIDTH,\n    viewportHeight: HEIGHT,\n    framebufferWidth: WIDTH,\n    framebufferHeight: HEIGHT,\n    drawingBufferWidth: WIDTH,\n    drawingBufferHeight: HEIGHT,\n    pixelRatio: config.pixelRatio\n  };\n  var uniformState = {};\n  var drawState = {\n    elements: null,\n    primitive: 4, // GL_TRIANGLES\n    count: -1,\n    offset: 0,\n    instances: -1\n  };\n\n  var limits = wrapLimits(gl, extensions);\n  var bufferState = wrapBufferState(gl, stats$$1, config);\n  var elementState = wrapElementsState(gl, extensions, bufferState, stats$$1);\n  var attributeState = wrapAttributeState(\n    gl,\n    extensions,\n    limits,\n    bufferState,\n    stringStore);\n  var shaderState = wrapShaderState(gl, stringStore, stats$$1, config);\n  var textureState = createTextureSet(\n    gl,\n    extensions,\n    limits,\n    function () { core.procs.poll(); },\n    contextState,\n    stats$$1,\n    config);\n  var renderbufferState = wrapRenderbuffers(gl, extensions, limits, stats$$1, config);\n  var framebufferState = wrapFBOState(\n    gl,\n    extensions,\n    limits,\n    textureState,\n    renderbufferState,\n    stats$$1);\n  var core = reglCore(\n    gl,\n    stringStore,\n    extensions,\n    limits,\n    bufferState,\n    elementState,\n    textureState,\n    framebufferState,\n    uniformState,\n    attributeState,\n    shaderState,\n    drawState,\n    contextState,\n    timer,\n    config);\n  var readPixels = wrapReadPixels(\n    gl,\n    framebufferState,\n    core.procs.poll,\n    contextState,\n    glAttributes, extensions);\n\n  var nextState = core.next;\n  var canvas = gl.canvas;\n\n  var rafCallbacks = [];\n  var lossCallbacks = [];\n  var restoreCallbacks = [];\n  var destroyCallbacks = [config.onDestroy];\n\n  var activeRAF = null;\n  function handleRAF () {\n    if (rafCallbacks.length === 0) {\n      if (timer) {\n        timer.update();\n      }\n      activeRAF = null;\n      return\n    }\n\n    // schedule next animation frame\n    activeRAF = raf.next(handleRAF);\n\n    // poll for changes\n    poll();\n\n    // fire a callback for all pending rafs\n    for (var i = rafCallbacks.length - 1; i >= 0; --i) {\n      var cb = rafCallbacks[i];\n      if (cb) {\n        cb(contextState, null, 0);\n      }\n    }\n\n    // flush all pending webgl calls\n    gl.flush();\n\n    // poll GPU timers *after* gl.flush so we don't delay command dispatch\n    if (timer) {\n      timer.update();\n    }\n  }\n\n  function startRAF () {\n    if (!activeRAF && rafCallbacks.length > 0) {\n      activeRAF = raf.next(handleRAF);\n    }\n  }\n\n  function stopRAF () {\n    if (activeRAF) {\n      raf.cancel(handleRAF);\n      activeRAF = null;\n    }\n  }\n\n  function handleContextLoss (event) {\n    event.preventDefault();\n\n    // set context lost flag\n    contextLost = true;\n\n    // pause request animation frame\n    stopRAF();\n\n    // lose context\n    lossCallbacks.forEach(function (cb) {\n      cb();\n    });\n  }\n\n  function handleContextRestored (event) {\n    // clear error code\n    gl.getError();\n\n    // clear context lost flag\n    contextLost = false;\n\n    // refresh state\n    extensionState.restore();\n    shaderState.restore();\n    bufferState.restore();\n    textureState.restore();\n    renderbufferState.restore();\n    framebufferState.restore();\n    if (timer) {\n      timer.restore();\n    }\n\n    // refresh state\n    core.procs.refresh();\n\n    // restart RAF\n    startRAF();\n\n    // restore context\n    restoreCallbacks.forEach(function (cb) {\n      cb();\n    });\n  }\n\n  if (canvas) {\n    canvas.addEventListener(CONTEXT_LOST_EVENT, handleContextLoss, false);\n    canvas.addEventListener(CONTEXT_RESTORED_EVENT, handleContextRestored, false);\n  }\n\n  function destroy () {\n    rafCallbacks.length = 0;\n    stopRAF();\n\n    if (canvas) {\n      canvas.removeEventListener(CONTEXT_LOST_EVENT, handleContextLoss);\n      canvas.removeEventListener(CONTEXT_RESTORED_EVENT, handleContextRestored);\n    }\n\n    shaderState.clear();\n    framebufferState.clear();\n    renderbufferState.clear();\n    textureState.clear();\n    elementState.clear();\n    bufferState.clear();\n\n    if (timer) {\n      timer.clear();\n    }\n\n    destroyCallbacks.forEach(function (cb) {\n      cb();\n    });\n  }\n\n  function compileProcedure (options) {\n    check$1(!!options, 'invalid args to regl({...})');\n    check$1.type(options, 'object', 'invalid args to regl({...})');\n\n    function flattenNestedOptions (options) {\n      var result = extend({}, options);\n      delete result.uniforms;\n      delete result.attributes;\n      delete result.context;\n\n      if ('stencil' in result && result.stencil.op) {\n        result.stencil.opBack = result.stencil.opFront = result.stencil.op;\n        delete result.stencil.op;\n      }\n\n      function merge (name) {\n        if (name in result) {\n          var child = result[name];\n          delete result[name];\n          Object.keys(child).forEach(function (prop) {\n            result[name + '.' + prop] = child[prop];\n          });\n        }\n      }\n      merge('blend');\n      merge('depth');\n      merge('cull');\n      merge('stencil');\n      merge('polygonOffset');\n      merge('scissor');\n      merge('sample');\n\n      return result\n    }\n\n    function separateDynamic (object) {\n      var staticItems = {};\n      var dynamicItems = {};\n      Object.keys(object).forEach(function (option) {\n        var value = object[option];\n        if (dynamic.isDynamic(value)) {\n          dynamicItems[option] = dynamic.unbox(value, option);\n        } else {\n          staticItems[option] = value;\n        }\n      });\n      return {\n        dynamic: dynamicItems,\n        static: staticItems\n      }\n    }\n\n    // Treat context variables separate from other dynamic variables\n    var context = separateDynamic(options.context || {});\n    var uniforms = separateDynamic(options.uniforms || {});\n    var attributes = separateDynamic(options.attributes || {});\n    var opts = separateDynamic(flattenNestedOptions(options));\n\n    var stats$$1 = {\n      gpuTime: 0.0,\n      cpuTime: 0.0,\n      count: 0\n    };\n\n    var compiled = core.compile(opts, attributes, uniforms, context, stats$$1);\n\n    var draw = compiled.draw;\n    var batch = compiled.batch;\n    var scope = compiled.scope;\n\n    // FIXME: we should modify code generation for batch commands so this\n    // isn't necessary\n    var EMPTY_ARRAY = [];\n    function reserve (count) {\n      while (EMPTY_ARRAY.length < count) {\n        EMPTY_ARRAY.push(null);\n      }\n      return EMPTY_ARRAY\n    }\n\n    function REGLCommand (args, body) {\n      var i;\n      if (contextLost) {\n        check$1.raise('context lost');\n      }\n      if (typeof args === 'function') {\n        return scope.call(this, null, args, 0)\n      } else if (typeof body === 'function') {\n        if (typeof args === 'number') {\n          for (i = 0; i < args; ++i) {\n            scope.call(this, null, body, i);\n          }\n          return\n        } else if (Array.isArray(args)) {\n          for (i = 0; i < args.length; ++i) {\n            scope.call(this, args[i], body, i);\n          }\n          return\n        } else {\n          return scope.call(this, args, body, 0)\n        }\n      } else if (typeof args === 'number') {\n        if (args > 0) {\n          return batch.call(this, reserve(args | 0), args | 0)\n        }\n      } else if (Array.isArray(args)) {\n        if (args.length) {\n          return batch.call(this, args, args.length)\n        }\n      } else {\n        return draw.call(this, args)\n      }\n    }\n\n    return extend(REGLCommand, {\n      stats: stats$$1\n    })\n  }\n\n  var setFBO = framebufferState.setFBO = compileProcedure({\n    framebuffer: dynamic.define.call(null, DYN_PROP, 'framebuffer')\n  });\n\n  function clearImpl (_, options) {\n    var clearFlags = 0;\n    core.procs.poll();\n\n    var c = options.color;\n    if (c) {\n      gl.clearColor(+c[0] || 0, +c[1] || 0, +c[2] || 0, +c[3] || 0);\n      clearFlags |= GL_COLOR_BUFFER_BIT;\n    }\n    if ('depth' in options) {\n      gl.clearDepth(+options.depth);\n      clearFlags |= GL_DEPTH_BUFFER_BIT;\n    }\n    if ('stencil' in options) {\n      gl.clearStencil(options.stencil | 0);\n      clearFlags |= GL_STENCIL_BUFFER_BIT;\n    }\n\n    check$1(!!clearFlags, 'called regl.clear with no buffer specified');\n    gl.clear(clearFlags);\n  }\n\n  function clear (options) {\n    check$1(\n      typeof options === 'object' && options,\n      'regl.clear() takes an object as input');\n    if ('framebuffer' in options) {\n      if (options.framebuffer &&\n          options.framebuffer_reglType === 'framebufferCube') {\n        for (var i = 0; i < 6; ++i) {\n          setFBO(extend({\n            framebuffer: options.framebuffer.faces[i]\n          }, options), clearImpl);\n        }\n      } else {\n        setFBO(options, clearImpl);\n      }\n    } else {\n      clearImpl(null, options);\n    }\n  }\n\n  function frame (cb) {\n    check$1.type(cb, 'function', 'regl.frame() callback must be a function');\n    rafCallbacks.push(cb);\n\n    function cancel () {\n      // FIXME:  should we check something other than equals cb here?\n      // what if a user calls frame twice with the same callback...\n      //\n      var i = find(rafCallbacks, cb);\n      check$1(i >= 0, 'cannot cancel a frame twice');\n      function pendingCancel () {\n        var index = find(rafCallbacks, pendingCancel);\n        rafCallbacks[index] = rafCallbacks[rafCallbacks.length - 1];\n        rafCallbacks.length -= 1;\n        if (rafCallbacks.length <= 0) {\n          stopRAF();\n        }\n      }\n      rafCallbacks[i] = pendingCancel;\n    }\n\n    startRAF();\n\n    return {\n      cancel: cancel\n    }\n  }\n\n  // poll viewport\n  function pollViewport () {\n    var viewport = nextState.viewport;\n    var scissorBox = nextState.scissor_box;\n    viewport[0] = viewport[1] = scissorBox[0] = scissorBox[1] = 0;\n    contextState.viewportWidth =\n      contextState.framebufferWidth =\n      contextState.drawingBufferWidth =\n      viewport[2] =\n      scissorBox[2] = gl.drawingBufferWidth;\n    contextState.viewportHeight =\n      contextState.framebufferHeight =\n      contextState.drawingBufferHeight =\n      viewport[3] =\n      scissorBox[3] = gl.drawingBufferHeight;\n  }\n\n  function poll () {\n    contextState.tick += 1;\n    contextState.time = now();\n    pollViewport();\n    core.procs.poll();\n  }\n\n  function refresh () {\n    pollViewport();\n    core.procs.refresh();\n    if (timer) {\n      timer.update();\n    }\n  }\n\n  function now () {\n    return (clock() - START_TIME) / 1000.0\n  }\n\n  refresh();\n\n  function addListener (event, callback) {\n    check$1.type(callback, 'function', 'listener callback must be a function');\n\n    var callbacks;\n    switch (event) {\n      case 'frame':\n        return frame(callback)\n      case 'lost':\n        callbacks = lossCallbacks;\n        break\n      case 'restore':\n        callbacks = restoreCallbacks;\n        break\n      case 'destroy':\n        callbacks = destroyCallbacks;\n        break\n      default:\n        check$1.raise('invalid event, must be one of frame,lost,restore,destroy');\n    }\n\n    callbacks.push(callback);\n    return {\n      cancel: function () {\n        for (var i = 0; i < callbacks.length; ++i) {\n          if (callbacks[i] === callback) {\n            callbacks[i] = callbacks[callbacks.length - 1];\n            callbacks.pop();\n            return\n          }\n        }\n      }\n    }\n  }\n\n  var regl = extend(compileProcedure, {\n    // Clear current FBO\n    clear: clear,\n\n    // Short cuts for dynamic variables\n    prop: dynamic.define.bind(null, DYN_PROP),\n    context: dynamic.define.bind(null, DYN_CONTEXT),\n    this: dynamic.define.bind(null, DYN_STATE),\n\n    // executes an empty draw command\n    draw: compileProcedure({}),\n\n    // Resources\n    buffer: function (options) {\n      return bufferState.create(options, GL_ARRAY_BUFFER, false, false)\n    },\n    elements: function (options) {\n      return elementState.create(options, false)\n    },\n    texture: textureState.create2D,\n    cube: textureState.createCube,\n    renderbuffer: renderbufferState.create,\n    framebuffer: framebufferState.create,\n    framebufferCube: framebufferState.createCube,\n\n    // Expose context attributes\n    attributes: glAttributes,\n\n    // Frame rendering\n    frame: frame,\n    on: addListener,\n\n    // System limits\n    limits: limits,\n    hasExtension: function (name) {\n      return limits.extensions.indexOf(name.toLowerCase()) >= 0\n    },\n\n    // Read pixels\n    read: readPixels,\n\n    // Destroy regl and all associated resources\n    destroy: destroy,\n\n    // Direct GL state manipulation\n    _gl: gl,\n    _refresh: refresh,\n\n    poll: function () {\n      poll();\n      if (timer) {\n        timer.update();\n      }\n    },\n\n    // Current time\n    now: now,\n\n    // regl Statistics Information\n    stats: stats$$1\n  });\n\n  config.onDone(null, regl);\n\n  return regl\n}\n\nreturn wrapREGL;\n\n})));\n//# sourceMappingURL=regl.js.map\n","import readPixelAt from \"../dist/index.js\";\nimport reglConstruct from \"regl\";\nconst canvas = document.getElementsByTagName(\"canvas\")[(0)];\ncanvas.addEventListener(\"mousemove\", onMouseMove);\n\nconst regl = reglConstruct({\n  canvas: canvas\n});\n\nconst rectangle = regl({\n  frag: `\n  precision mediump float;\n  uniform vec4 color;\n  void main () {\n    gl_FragColor = color;\n  }`,\n  vert: `\n  precision mediump float;\n  attribute vec2 position;\n\tuniform vec2 scale;\n  void main () {\n    gl_Position = vec4(position * scale, 0, 1);\n  }`,\n  attributes: {\n    position: [\n      [ -0.5, -0.5 ],\n      [ 0.5, -0.5 ],\n      [ 0.5, 0.5 ],\n      [ 0.5, 0.5 ],\n      [ -0.5, 0.5 ],\n      [ -0.5, -0.5 ]\n    ]\n  },\n  uniforms: {\n    color: regl.prop(\"color\") || [ 1, 0, 0, 1 ],\n    scale: regl.prop(\"scale\") || [ 1, 1 ]\n  },\n  count: 6\n});\n\nvar rectSetup = { scale: [ 1, 1 ], color: [ 1, 1, 0.5, 1 ] };\n\nregl.frame(() => {\n  regl.clear({ color: [ 0, 0, 0, 0 ], depth: 1 });\n  rectangle(rectSetup);\n});\n\nfunction onMouseMove(e) {\n  readPixelAt(regl, e.clientX, e.clientY, [\n    () => rectangle(rectSetup)\n  ]).then(result => {\n    console.log(\"result\", result);\n  });\n}\n"],"names":["global","factory","exports","module","define","amd","mouseGL","this","fbo","readPixelAt","regl","x","y","contents","width","_gl","canvas","clientWidth","height","clientHeight","framebuffer","Promise","resolve","clear","color","depth","i","length","read","createREGL","arrayTypes","isTypedArray","Object","prototype","toString","call","extend","base","opts","keys","decodeB64","str","btoa","raise","message","error","Error","check","pred","encolon","checkParameter","param","possibilities","join","checkIsTypedArray","data","checkTypeOf","value","type","checkNonNegativeInt","checkOneOf","list","indexOf","constructorKeys","checkConstructor","obj","forEach","key","leftPad","n","ShaderFile","name","lines","index","hasErrors","ShaderLine","number","line","errors","ShaderError","fileNumber","lineNumber","file","guessCommand","stack","pat","exec","pat2","guessCallSite","parseSource","source","command","split","files","unknown","push","parts","lineNumberInfo","nameInfo","parseErrorLog","errLog","result","errMsg","trim","annotateFiles","checkShaderError","gl","shader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","typeName","FRAGMENT_SHADER","strings","styles","style","offset","token","tokenPat","Math","max","document","log","apply","console","checkLinkError","program","fragShader","vertShader","getProgramParameter","LINK_STATUS","getProgramInfoLog","fragParse","vertParse","header","saveCommandRef","object","_commandRef","saveDrawCommandInfo","uniforms","attributes","stringStore","id","_fragId","static","frag","_vertId","vert","addProps","dict","set","u","uniformSet","_uniformSet","dynamic","attributeSet","_attributeSet","_hasCount","commandRaise","callSite","checkCommand","checkParameterCommand","checkCommandType","checkOptional","block","checkFramebufferFormat","attachment","texFormats","rbFormats","texture","_texture","internalformat","renderbuffer","_renderbuffer","format","GL_CLAMP_TO_EDGE","GL_NEAREST","GL_NEAREST_MIPMAP_NEAREST","GL_LINEAR_MIPMAP_NEAREST","GL_NEAREST_MIPMAP_LINEAR","GL_LINEAR_MIPMAP_LINEAR","GL_BYTE","GL_UNSIGNED_BYTE","GL_SHORT","GL_UNSIGNED_SHORT","GL_INT","GL_UNSIGNED_INT","GL_FLOAT","GL_UNSIGNED_SHORT_4_4_4_4","GL_UNSIGNED_SHORT_5_5_5_1","GL_UNSIGNED_SHORT_5_6_5","GL_UNSIGNED_INT_24_8_WEBGL","GL_HALF_FLOAT_OES","TYPE_SIZE","pixelSize","channels","isPow2","v","checkTexture2D","info","mipData","limits","w","h","c","maxTextureSize","wrapS","wrapT","mipmask","minFilter","extensions","magFilter","genMipmaps","mipimages","images","mw","mh","img","compressed","rowSize","ceil","unpackAlignment","byteLength","element","copy","checkTextureCube","faces","face","mipmaps","j","check$1","VARIABLE_COUNTER","DYN_FUNC","DynamicVariable","escapeStr","replace","splitParts","firstChar","charAt","lastChar","substr","concat","subparts","toAccessorString","defineDynamic","isDynamic","_reglType","unbox","path","raf","requestAnimationFrame","cb","setTimeout","cancelAnimationFrame","clearTimeout","clock","performance","now","Date","createStringStore","stringIds","stringValues","createCanvas","onDone","pixelRatio","createElement","appendChild","body","position","resize","window","innerWidth","innerHeight","bounds","getBoundingClientRect","right","left","bottom","top","addEventListener","onDestroy","removeEventListener","removeChild","createContext","contexAttributes","get","getContext","e","isHTMLElement","nodeName","isWebGLContext","drawArrays","drawElements","parseExtensions","input","Array","isArray","getElement","desc","querySelector","parseArgs","args_","args","container","contextAttributes","optionalExtensions","devicePixelRatio","profile","err","constructor","toLowerCase","createExtensionCache","config","tryLoadExtension","name_","ext","getExtension","GL_SUBPIXEL_BITS","GL_RED_BITS","GL_GREEN_BITS","GL_BLUE_BITS","GL_ALPHA_BITS","GL_DEPTH_BITS","GL_STENCIL_BITS","GL_ALIASED_POINT_SIZE_RANGE","GL_ALIASED_LINE_WIDTH_RANGE","GL_MAX_TEXTURE_SIZE","GL_MAX_VIEWPORT_DIMS","GL_MAX_VERTEX_ATTRIBS","GL_MAX_VERTEX_UNIFORM_VECTORS","GL_MAX_VARYING_VECTORS","GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS","GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS","GL_MAX_TEXTURE_IMAGE_UNITS","GL_MAX_FRAGMENT_UNIFORM_VECTORS","GL_MAX_CUBE_MAP_TEXTURE_SIZE","GL_MAX_RENDERBUFFER_SIZE","GL_VENDOR","GL_RENDERER","GL_VERSION","GL_SHADING_LANGUAGE_VERSION","GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT","GL_MAX_COLOR_ATTACHMENTS_WEBGL","GL_MAX_DRAW_BUFFERS_WEBGL","wrapLimits","maxAnisotropic","ext_texture_filter_anisotropic","getParameter","maxDrawbuffers","maxColorAttachments","webgl_draw_buffers","filter","isNDArrayLike","shape","stride","values","map","loop","f","GL_BYTE$1","GL_UNSIGNED_BYTE$2","GL_SHORT$1","GL_UNSIGNED_SHORT$1","GL_INT$1","GL_UNSIGNED_INT$1","GL_FLOAT$2","bufferPool","nextPow16","log2","r","shift","alloc","sz","bin","pop","ArrayBuffer","free","buf","allocType","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","subarray","freeType","array","buffer","pool","flattenUtils","arrayShape$1","flattenArray","flatten1D","nx","out","flatten2D","ny","ptr","row","flatten3D","nz","ptr_","col","k","flattenRec","level","out_","array_","int8","int16","int32","uint8","uint16","uint32","float","float32","glTypes","dynamic$1","stream","usageTypes","arrayFlatten","flatten","arrayShape","GL_STATIC_DRAW","GL_STREAM_DRAW","GL_UNSIGNED_BYTE$1","GL_FLOAT$1","DTYPES_SIZES","typedArrayCode","copyArray","inp","transpose","shapeX","shapeY","strideX","strideY","wrapBufferState","stats","bufferCount","bufferSet","REGLBuffer","createBuffer","usage","dimension","dtype","persistentData","size","bind","bindBuffer","destroy","streamPool","createStream","destroyStream","stream$$1","initBufferFromTypedArray","bufferData","initBufferFromData","persist","flatData","dim","typedData","transposeData","handle","deleteBuffer","options","deferInit","persistent","reglBuffer","parameter","nni","setSubData","bufferSubData","subdata","offset_","converted","_buffer","restoreBuffers","getTotalBufferSize","total","wrapper","points","point","triangles","triangle","primTypes","GL_POINTS","GL_LINES","GL_TRIANGLES","GL_BYTE$2","GL_UNSIGNED_BYTE$3","GL_SHORT$2","GL_UNSIGNED_SHORT$2","GL_INT$2","GL_UNSIGNED_INT$2","GL_ELEMENT_ARRAY_BUFFER","GL_STREAM_DRAW$1","GL_STATIC_DRAW$1","wrapElementsState","bufferState","elementSet","elementCount","elementTypes","oes_element_index_uint","REGLElementBuffer","primType","vertCount","createElementStream","create","destroyElementStream","elements","initElements","prim","count","predictedType","_initBuffer","destroyElements","elementsCount","createElements","reglElements","primitive","_elements","FLOAT","INT","GL_UNSIGNED_SHORT$4","convertToHalfFloat","ushorts","isNaN","Infinity","sgn","exp","frac","s","isArrayLike","GL_COMPRESSED_TEXTURE_FORMATS","GL_TEXTURE_2D","GL_TEXTURE_CUBE_MAP","GL_TEXTURE_CUBE_MAP_POSITIVE_X","GL_RGBA","GL_ALPHA","GL_RGB","GL_LUMINANCE","GL_LUMINANCE_ALPHA","GL_RGBA4","GL_RGB5_A1","GL_RGB565","GL_UNSIGNED_SHORT_4_4_4_4$1","GL_UNSIGNED_SHORT_5_5_5_1$1","GL_UNSIGNED_SHORT_5_6_5$1","GL_UNSIGNED_INT_24_8_WEBGL$1","GL_DEPTH_COMPONENT","GL_DEPTH_STENCIL","GL_SRGB_EXT","GL_SRGB_ALPHA_EXT","GL_HALF_FLOAT_OES$1","GL_COMPRESSED_RGB_S3TC_DXT1_EXT","GL_COMPRESSED_RGBA_S3TC_DXT1_EXT","GL_COMPRESSED_RGBA_S3TC_DXT3_EXT","GL_COMPRESSED_RGBA_S3TC_DXT5_EXT","GL_COMPRESSED_RGB_ATC_WEBGL","GL_COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL","GL_COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL","GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG","GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG","GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","GL_COMPRESSED_RGB_ETC1_WEBGL","GL_UNSIGNED_BYTE$4","GL_UNSIGNED_SHORT$3","GL_UNSIGNED_INT$3","GL_FLOAT$3","GL_TEXTURE_WRAP_S","GL_TEXTURE_WRAP_T","GL_REPEAT","GL_CLAMP_TO_EDGE$1","GL_MIRRORED_REPEAT","GL_TEXTURE_MAG_FILTER","GL_TEXTURE_MIN_FILTER","GL_NEAREST$1","GL_LINEAR","GL_NEAREST_MIPMAP_NEAREST$1","GL_LINEAR_MIPMAP_NEAREST$1","GL_NEAREST_MIPMAP_LINEAR$1","GL_LINEAR_MIPMAP_LINEAR$1","GL_GENERATE_MIPMAP_HINT","GL_DONT_CARE","GL_FASTEST","GL_NICEST","GL_TEXTURE_MAX_ANISOTROPY_EXT","GL_UNPACK_ALIGNMENT","GL_UNPACK_FLIP_Y_WEBGL","GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL","GL_UNPACK_COLORSPACE_CONVERSION_WEBGL","GL_BROWSER_DEFAULT_WEBGL","GL_TEXTURE0","MIPMAP_FILTERS","CHANNELS_FORMAT","FORMAT_CHANNELS","objectName","CANVAS_CLASS","CONTEXT2D_CLASS","IMAGE_CLASS","VIDEO_CLASS","PIXEL_CLASSES","TYPE_SIZES","FORMAT_SIZES_SPECIAL","isNumericArray","arr","isRectArray","classString","isCanvasElement","isContext2D","isImageElement","isVideoElement","isPixelData","className","typedArrayCode$1","convertData","preConvert","image","postConvert","strideC","p","getTextureSize","isMipmap","isCube","createTextureSet","reglPoll","contextState","mipmapHint","wrapModes","magFilters","minFilters","colorSpace","textureTypes","textureFormats","compressedTextureFormats","ext_srgb","srgb","srgba","oes_texture_float","oes_texture_half_float","webgl_depth_texture","webgl_compressed_texture_s3tc","webgl_compressed_texture_atc","webgl_compressed_texture_pvrtc","webgl_compressed_texture_etc1","supportedCompressedFormats","slice","supportedFormats","textureFormatsInvert","val","textureTypesInvert","magFiltersInvert","minFiltersInvert","wrapModesInvert","colorFormats","reduce","glenum","TexFlags","premultiplyAlpha","flipY","copyFlags","other","parseFlags","flags","oneOf","alignment","hasChannels","radius","hasFormat","formatStr","setFlags","pixelStorei","TexImage","xOffset","yOffset","needsFree","needsCopy","parseImage","viewW","viewportWidth","viewH","viewportHeight","shapeC","naturalWidth","naturalHeight","videoWidth","videoHeight","dd","allocData","setImage","target","miplevel","texImage2D","compressedTexImage2D","copyTexImage2D","setSubImage","texSubImage2D","compressedTexSubImage2D","copyTexSubImage2D","imagePool","allocImage","freeImage","MipMap","parseMipMapFromShape","mipmap","parseMipMapFromObject","imgData","setMipMap","mipPool","allocMipMap","freeMipMap","TexInfo","anisotropic","parseTexInfo","min","mag","wrap","optWrapS","optWrapT","hasMipMap","setTexInfo","texParameteri","hint","generateMipmap","textureCount","textureSet","numTexUnits","maxTextureUnits","textureUnits","REGLTexture","refCount","createTexture","unit","bindCount","texInfo","tempBind","activeTexture","bindTexture","tempRestore","prev","deleteTexture","params","pixels","createTexture2D","a","b","reglTexture2D","texture2D","subimage","x_","y_","level_","imageData","w_","h_","decRef","createTextureCube","a0","a1","a2","a3","a4","a5","cubeCount","reglTextureCube","face_input","babelHelpers.typeof","textureCube","radius_","destroyTextures","getTotalTextureSize","restoreTextures","GL_RENDERBUFFER","GL_RGBA4$1","GL_RGB5_A1$1","GL_RGB565$1","GL_DEPTH_COMPONENT16","GL_STENCIL_INDEX8","GL_DEPTH_STENCIL$1","GL_SRGB8_ALPHA8_EXT","GL_RGBA32F_EXT","GL_RGBA16F_EXT","GL_RGB16F_EXT","FORMAT_SIZES","getRenderbufferSize","wrapRenderbuffers","formatTypes","ext_color_buffer_half_float","webgl_color_buffer_float","formatTypesInvert","renderbufferCount","renderbufferSet","REGLRenderbuffer","rb","bindRenderbuffer","deleteRenderbuffer","createRenderbuffer","reglRenderbuffer","maxRenderbufferSize","renderbufferStorage","getTotalRenderbufferSize","restoreRenderbuffers","GL_FRAMEBUFFER","GL_RENDERBUFFER$1","GL_TEXTURE_2D$1","GL_TEXTURE_CUBE_MAP_POSITIVE_X$1","GL_COLOR_ATTACHMENT0","GL_DEPTH_ATTACHMENT","GL_STENCIL_ATTACHMENT","GL_DEPTH_STENCIL_ATTACHMENT","GL_FRAMEBUFFER_COMPLETE","GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT","GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS","GL_FRAMEBUFFER_UNSUPPORTED","GL_HALF_FLOAT_OES$2","GL_UNSIGNED_BYTE$5","GL_FLOAT$4","GL_RGBA$1","GL_DEPTH_COMPONENT$1","colorTextureFormatEnums","textureFormatChannels","textureTypeSizes","GL_RGBA4$2","GL_RGB5_A1$2","GL_RGB565$2","GL_DEPTH_COMPONENT16$1","GL_STENCIL_INDEX8$1","GL_DEPTH_STENCIL$2","GL_SRGB8_ALPHA8_EXT$1","GL_RGBA32F_EXT$1","GL_RGBA16F_EXT$1","GL_RGB16F_EXT$1","colorRenderbufferFormatEnums","statusCode","wrapFBOState","textureState","renderbufferState","framebufferState","colorTextureFormats","colorRenderbufferFormats","colorTypes","FramebufferAttachment","incRefAndCheckShape","tw","th","attach","location","framebufferTexture2D","framebufferRenderbuffer","parseAttachment","allocAttachment","isTexture","create2D","unwrapAttachment","resizeAttachment","framebufferCount","framebufferSet","REGLFramebuffer","createFramebuffer","colorAttachments","depthAttachment","stencilAttachment","depthStencilAttachment","decFBORefs","deleteFramebuffer","updateFramebuffer","bindFramebuffer","status","checkFramebufferStatus","next","cur","getError","createFBO","reglFramebuffer","extDrawBuffers","needsDepth","needsStencil","colorBuffer","colorTexture","colorFormat","colorType","colorCount","depthBuffer","stencilBuffer","depthStencilBuffer","depthStencilTexture","colors","depthTexture","stencil","depthStencil","commonColorAttachmentSize","colorAttachmentSize","setFBO","createCubeFBO","reglFramebufferCube","colorCubes","cubeMapParams","createCube","cube","maxCubeMapSize","restoreFramebuffers","fb","_framebuffer","GL_FLOAT$5","AttributeRecord","state","z","normalized","divisor","wrapAttributeState","NUM_ATTRIBUTES","maxAttributes","attributeBindings","GL_FRAGMENT_SHADER","GL_VERTEX_SHADER","GL_ACTIVE_UNIFORMS","GL_ACTIVE_ATTRIBUTES","wrapShaderState","fragShaders","vertShaders","ActiveInfo","insertActiveInfo","getShader","cache","createShader","shaderSource","compileShader","shaderError","programCache","programList","PROGRAM_COUNTER","REGLProgram","fragId","vertId","linkProgram","createProgram","attachShader","linkError","numUniforms","uniformsCount","getActiveUniform","getUniformLocation","numAttributes","attributesCount","getActiveAttrib","getAttribLocation","getMaxUniformsCount","m","getMaxAttributesCount","restoreShaders","deleteShader","deleteProgram","shaderCount","GL_RGBA$2","GL_UNSIGNED_BYTE$6","GL_PACK_ALIGNMENT","GL_FLOAT$6","wrapReadPixels","context","glAttributes","readPixelsImpl","preserveDrawingBuffer","framebufferWidth","framebufferHeight","readPixels","readPixelsFBO","createEnvironment","varCounter","linkedNames","linkedValues","link","code","arguments","vars","def","scope","entry","exit","entryToString","exitToString","save","prop","conditional","thenBlock","elseBlock","thenToString","elseToString","elseClause","globalBlock","procedures","proc","arg","bodyToString","compile","src","Function","CUTE_COMPONENTS","GL_UNSIGNED_BYTE$7","ATTRIB_STATE_POINTER","ATTRIB_STATE_CONSTANT","DYN_FUNC$1","DYN_PROP$1","DYN_CONTEXT$1","DYN_STATE$1","DYN_THUNK","S_DITHER","S_BLEND_ENABLE","S_BLEND_COLOR","S_BLEND_EQUATION","S_BLEND_FUNC","S_DEPTH_ENABLE","S_DEPTH_FUNC","S_DEPTH_RANGE","S_DEPTH_MASK","S_COLOR_MASK","S_CULL_ENABLE","S_CULL_FACE","S_FRONT_FACE","S_LINE_WIDTH","S_POLYGON_OFFSET_ENABLE","S_POLYGON_OFFSET_OFFSET","S_SAMPLE_ALPHA","S_SAMPLE_ENABLE","S_SAMPLE_COVERAGE","S_STENCIL_ENABLE","S_STENCIL_MASK","S_STENCIL_FUNC","S_STENCIL_OPFRONT","S_STENCIL_OPBACK","S_SCISSOR_ENABLE","S_SCISSOR_BOX","S_VIEWPORT","S_PROFILE","S_FRAMEBUFFER","S_VERT","S_FRAG","S_ELEMENTS","S_PRIMITIVE","S_COUNT","S_OFFSET","S_INSTANCES","SUFFIX_WIDTH","SUFFIX_HEIGHT","S_FRAMEBUFFER_WIDTH","S_FRAMEBUFFER_HEIGHT","S_VIEWPORT_WIDTH","S_VIEWPORT_HEIGHT","S_DRAWINGBUFFER","S_DRAWINGBUFFER_WIDTH","S_DRAWINGBUFFER_HEIGHT","NESTED_OPTIONS","GL_ARRAY_BUFFER$1","GL_ELEMENT_ARRAY_BUFFER$1","GL_FRAGMENT_SHADER$1","GL_VERTEX_SHADER$1","GL_TEXTURE_2D$2","GL_TEXTURE_CUBE_MAP$1","GL_CULL_FACE","GL_BLEND","GL_DITHER","GL_STENCIL_TEST","GL_DEPTH_TEST","GL_SCISSOR_TEST","GL_POLYGON_OFFSET_FILL","GL_SAMPLE_ALPHA_TO_COVERAGE","GL_SAMPLE_COVERAGE","GL_FLOAT$7","GL_FLOAT_VEC2","GL_FLOAT_VEC3","GL_FLOAT_VEC4","GL_INT$3","GL_INT_VEC2","GL_INT_VEC3","GL_INT_VEC4","GL_BOOL","GL_BOOL_VEC2","GL_BOOL_VEC3","GL_BOOL_VEC4","GL_FLOAT_MAT2","GL_FLOAT_MAT3","GL_FLOAT_MAT4","GL_SAMPLER_2D","GL_SAMPLER_CUBE","GL_TRIANGLES$1","GL_FRONT","GL_BACK","GL_CW","GL_CCW","GL_MIN_EXT","GL_MAX_EXT","GL_ALWAYS","GL_KEEP","GL_ZERO","GL_ONE","GL_FUNC_ADD","GL_LESS","GL_FRAMEBUFFER$1","GL_COLOR_ATTACHMENT0$1","blendFuncs","invalidBlendCombinations","compareFuncs","stencilOps","shaderType","orientationType","isBufferArgs","sortState","sort","Declaration","thisDep","contextDep","propDep","append","isStatic","decl","createStaticDecl","createDynamicDecl","dyn","numArgs","SCOPE_DECL","reglCore","elementState","uniformState","attributeState","shaderState","drawState","timer","Record","blendEquations","ext_blend_minmax","extInstancing","angle_instanced_arrays","currentState","nextState","GL_STATE_NAMES","GL_FLAGS","GL_VARIABLES","propName","stateFlag","sname","cap","init","stateVariable","func","drawingBufferWidth","drawingBufferHeight","sharedState","sharedConstants","optional","backBuffer","drawBuffer","drawCallCounter","createREGLEnvironment","env","batchId","SHARED","shared","CHECK","commandStr","assert","nextVars","currentVars","current","variable","constants","JSON","stringify","invoke","argList","props","ref","attribCache","scopeAttribs","scopeAttrib","binding","parseProfile","staticOptions","dynamicOptions","profileEnable","enable","parseFramebuffer","getFramebuffer","FRAMEBUFFER","CONTEXT","FRAMEBUFFER_FUNC","FRAMEBUFFER_STATE","parseViewportScissor","parseBox","box","commandType","BOX_W","BOX_H","dynBox","BOX","BOX_X","BOX_Y","viewport","prevViewport","VIEWPORT","parseProgram","parseShader","progVar","SHADER_STATE","progDef","parseDraw","parseElements","getElements","ELEMENTS","IS_BUFFER_ARGS","ELEMENT_STATE","elementDefn","elementStream","ifte","cond","then","else","parsePrimitive","commandParameter","dynPrimitive","PRIM_TYPES","parseParam","isOffset","OFFSET","dynValue","parseVertCount","dynCount","MISSING","DYNAMIC","parseGLState","STATE","parseStatic","parseDynamic","COMPARE_FUNCS","Z_NEAR","Z_FAR","srcRGB","srcAlpha","dstRGB","dst","dstAlpha","BLEND_FUNCS","prefix","suffix","INVALID_BLEND_COMBINATIONS","SRC_RGB","SRC_ALPHA","DST_RGB","DST_ALPHA","rgb","alpha","BLEND_EQUATIONS","RGB","ALPHA","checkProp","cmp","mask","fail","zfail","zpass","STENCIL_OPS","factor","units","FACTOR","UNITS","lineWidthDims","sampleValue","sampleInvert","invert","VALUE","INVERT","parseUniforms","staticUniforms","dynamicUniforms","UNIFORMS","reglType","ITEM","parseAttributes","staticAttributes","dynamicAttributes","attributeDefs","attribute","record","getBuffer","constant","VALID_KEYS","appendAttributeCode","BUFFER_STATE","defaultRecord","BUFFER","TYPE","isStream","emitReadRecord","parseContext","staticContext","dynamicContext","parseArguments","KEY_NAMES","checkKeys","viewportAndScissor","draw","copyBox","defn","dirty","emitContext","contextEnter","emitPollFramebuffer","skipCheck","GL","EXT_DRAW_BUFFERS","DRAW_BUFFERS","BACK_BUFFER","NEXT","emitPollState","CURRENT_VARS","NEXT_VARS","CURRENT_STATE","NEXT_STATE","CURRENT","emitSetOptions","flag","injectExtensions","instancing","emitProfile","useScope","incrementCounter","STATS","TIMER","profileArg","perfCounter","CPU_START","QUERY_COUNTER","emitProfileStart","emitProfileEnd","scopeProfile","USE_PROFILE","start","end","emitAttributes","typeLength","emitBindAttribute","ATTRIBUTE","LOCATION","BINDING","CONST_COMPONENTS","COMMON_KEYS","emitBuffer","SIZE","DIVISOR","emitConstant","emitUniforms","infix","uniform","UNIFORM","TEX_VALUE","MAT_VALUE","checkType","checkVector","checkTexture","unroll","TEX","matSize","pow","STORAGE","emitDraw","outer","inner","DRAW_STATE","drawOptions","emitElements","contextDynamic","emitCount","COUNT","emitValue","PRIMITIVE","INSTANCES","EXT_INSTANCING","ELEMENT_TYPE","elementsStatic","emitInstancing","emitRegular","createBody","emitBody","parentEnv","emitDrawBody","emitDrawProc","drawCache","PROG_ID","CACHED_PROC","emitBatchDynamicShaderBody","all","emitBatchBody","BATCH_ID","PROP_LIST","NUM_PROPS","PROPS","isInnerDefn","isOuterDefn","needsContext","needsFramebuffer","progCache","PROGRAM","emitBatchProc","batch","progDefn","batchCache","emitScopeProc","opt","saveShader","isDynamicObject","splatObject","globals","objectRef","deps","appendBlock","compileCommand","poll","refresh","common","INSTANCING","GL_QUERY_RESULT_EXT","GL_QUERY_RESULT_AVAILABLE_EXT","GL_TIME_ELAPSED_EXT","createTimer","extTimer","ext_disjoint_timer_query","queryPool","allocQuery","createQueryEXT","freeQuery","query","pendingQueries","beginQuery","beginQueryEXT","endQuery","endQueryEXT","PendingStats","startQueryIndex","endQueryIndex","sum","pendingStatsPool","allocPendingStats","freePendingStats","pendingStats","pushScopeStats","ps","timeSum","queryPtr","update","queryTime","getQueryObjectEXT","startPtr","endPtr","gpuTime","deleteQueryEXT","GL_COLOR_BUFFER_BIT","GL_DEPTH_BUFFER_BIT","GL_STENCIL_BUFFER_BIT","GL_ARRAY_BUFFER","CONTEXT_LOST_EVENT","CONTEXT_RESTORED_EVENT","DYN_PROP","DYN_CONTEXT","DYN_STATE","find","haystack","needle","wrapREGL","getContextAttributes","contextLost","isContextLost","extensionState","stats$$1","START_TIME","WIDTH","HEIGHT","procs","core","rafCallbacks","lossCallbacks","restoreCallbacks","destroyCallbacks","activeRAF","handleRAF","flush","startRAF","stopRAF","cancel","handleContextLoss","event","preventDefault","handleContextRestored","restore","compileProcedure","flattenNestedOptions","op","opBack","opFront","merge","child","separateDynamic","staticItems","dynamicItems","option","compiled","EMPTY_ARRAY","reserve","REGLCommand","clearImpl","_","clearFlags","clearColor","clearDepth","clearStencil","framebuffer_reglType","frame","pendingCancel","pollViewport","scissorBox","scissor_box","tick","time","addListener","callback","callbacks","getElementsByTagName","onMouseMove","reglConstruct","rectangle","rectSetup","scale","clientX","clientY"],"mappings":"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"}